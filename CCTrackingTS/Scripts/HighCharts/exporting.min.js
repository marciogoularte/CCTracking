(function(n){var l=n.Chart,e=n.addEvent,a=n.removeEvent,i=n.createElement,s=n.discardElement,o=n.css,r=n.merge,u=n.each,t=n.extend,y=Math.max,f=document,v=window,p=n.isTouchDevice,w=n.Renderer.prototype.symbols,h=n.getOptions(),c;t(h.lang,{printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"});h.navigation={menuStyle:{border:"1px solid #A0A0A0",background:"#FFFFFF",padding:"5px 0"},menuItemStyle:{padding:"0 10px",background:"none",color:"#303030",fontSize:p?"14px":"11px"},menuItemHoverStyle:{background:"#4572A5",color:"#FFFFFF"},buttonOptions:{symbolFill:"#E0E0E0",symbolSize:14,symbolStroke:"#666",symbolStrokeWidth:3,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,theme:{fill:"white",stroke:"none"},verticalAlign:"top",width:24}};h.exporting={type:"image/png",url:"http://export.highcharts.com/",buttons:{contextButton:{menuClassName:"highcharts-contextmenu",symbol:"menu",_titleKey:"contextButtonTitle",menuItems:[{textKey:"printChart",onclick:function(){this.print()}},{separator:!0},{textKey:"downloadPNG",onclick:function(){this.exportChart()}},{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}]}}};n.post=function(n,t,u){var e,n=i("form",r({method:"post",action:n,enctype:"multipart/form-data"},u),{display:"none"},f.body);for(e in t)i("input",{type:"hidden",name:e,value:t[e]},null,n);n.submit();s(n)};t(l.prototype,{getSVG:function(e){var c=this,a,h,v,l,o=r(c.options,e);return f.createElementNS||(f.createElementNS=function(n,t){return f.createElement(t)}),e=i("div",null,{position:"absolute",top:"-9999em",width:c.chartWidth+"px",height:c.chartHeight+"px"},f.body),h=c.renderTo.style.width,l=c.renderTo.style.height,h=o.exporting.sourceWidth||o.chart.width||/px$/.test(h)&&parseInt(h,10)||600,l=o.exporting.sourceHeight||o.chart.height||/px$/.test(l)&&parseInt(l,10)||400,t(o.chart,{animation:!1,renderTo:e,forExport:!0,width:h,height:l}),o.exporting.enabled=!1,o.series=[],u(c.series,function(n){v=r(n.options,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:n.visible});v.isInternal||o.series.push(v)}),a=new n.Chart(o,c.callback),u(["xAxis","yAxis"],function(n){u(c[n],function(t,i){var u=a[n][i],r=t.getExtremes(),f=r.userMin,r=r.userMax;u&&(f!==void 0||r!==void 0)&&u.setExtremes(f,r,!0,!1)})}),h=a.container.innerHTML,o=null,a.destroy(),s(e),h=h.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ href=/g," xlink:href=").replace(/\n/," ").replace(/<\/svg>.*?$/,"<\/svg>").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g,"Â ").replace(/&shy;/g,"Â­").replace(/<IMG /g,"<image ").replace(/height=([^" ]+)/g,'height="$1"').replace(/width=([^" ]+)/g,'width="$1"').replace(/hc-svg-href="([^"]+)">/g,'xlink:href="$1"/>').replace(/id=([^" >]+)/g,'id="$1"').replace(/class=([^" >]+)/g,'class="$1"').replace(/ transform /g," ").replace(/:(path|rect)/g,"$1").replace(/style="([^"]+)"/g,function(n){return n.toLowerCase()}),h.replace(/(url\(#highcharts-[0-9]+)&quot;/g,"$1").replace(/&quot;/g,"'")},exportChart:function(t,i){var t=t||{},u=this.options.exporting,u=this.getSVG(r({chart:{borderRadius:0}},u.chartOptions,i,{exporting:{sourceWidth:t.sourceWidth||u.sourceWidth,sourceHeight:t.sourceHeight||u.sourceHeight}})),t=r(this.options.exporting,t);n.post(t.url,{filename:t.filename||"chart",type:t.type,width:t.width||0,scale:t.scale||2,svg:u},t.formAttributes)},print:function(){var n=this,t=n.container,i=[],o=t.parentNode,r=f.body,e=r.childNodes;n.isPrinting||(n.isPrinting=!0,u(e,function(n,t){n.nodeType===1&&(i[t]=n.style.display,n.style.display="none")}),r.appendChild(t),v.focus(),v.print(),setTimeout(function(){o.appendChild(t);u(e,function(n,t){n.nodeType===1&&(n.style.display=i[t])});n.isPrinting=!1},1e3))},contextMenu:function(n,r,f,s,h,c,l){var v=this,d=v.options.navigation,g=d.menuItemStyle,nt=v.chartWidth,tt=v.chartHeight,it="cache-"+n,p=v[it],w=y(h,c),b,k,rt,ut=function(t){v.pointer.inClass(t.target,n)||k()};p||(v[it]=p=i("div",{className:n},{position:"absolute",zIndex:1e3,padding:w+"px"},v.container),b=i("div",null,t({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},d.menuStyle),p),k=function(){o(p,{display:"none"});l&&l.setState(0);v.openMenu=!1},e(p,"mouseleave",function(){rt=setTimeout(k,500)}),e(p,"mouseenter",function(){clearTimeout(rt)}),e(document,"mouseup",ut),e(v,"destroy",function(){a(document,"mouseup",ut)}),u(r,function(n){if(n){var r=n.separator?i("hr",null,null,b):i("div",{onmouseover:function(){o(this,d.menuItemHoverStyle)},onmouseout:function(){o(this,g)},onclick:function(){k();n.onclick.apply(v,arguments)},innerHTML:n.text||v.options.lang[n.textKey]},t({cursor:"pointer"},g),b);v.exportDivElements.push(r)}}),v.exportDivElements.push(b,p),v.exportMenuWidth=p.offsetWidth,v.exportMenuHeight=p.offsetHeight);r={display:"block"};f+v.exportMenuWidth>nt?r.right=nt-f-h-w+"px":r.left=f-w+"px";s+c+v.exportMenuHeight>tt&&l.alignOptions.verticalAlign!=="top"?r.bottom=tt-s-w+"px":r.top=s+c-w+"px";o(p,r);v.openMenu=!0},addButton:function(i){var e=this,a=e.renderer,u=r(e.options.navigation.buttonOptions,i),v=u.onclick,y=u.menuItems,p,f,w={stroke:u.symbolStroke,fill:u.symbolFill},h=u.symbolSize||12;if(e.btnCount||(e.btnCount=0),e.exportDivElements||(e.exportDivElements=[],e.exportSVGElements=[]),u.enabled!==!1){var o=u.theme,s=o.states,b=s&&s.hover,s=s&&s.select,l;delete o.states;v?l=function(){v.apply(e,arguments)}:y&&(l=function(){e.contextMenu(f.menuClassName,y,f.translateX,f.translateY,f.width,f.height,f);f.setState(2)});u.text&&u.symbol?o.paddingLeft=n.pick(o.paddingLeft,25):u.text||t(o,{width:u.width,height:u.height,padding:0});f=a.button(u.text,0,0,l,o,b,s).attr({title:e.options.lang[u._titleKey],"stroke-linecap":"round"});f.menuClassName=i.menuClassName||"highcharts-menu-"+e.btnCount++;u.symbol&&(p=a.symbol(u.symbol,u.symbolX-h/2,u.symbolY-h/2,h,h).attr(t(w,{"stroke-width":u.symbolStrokeWidth||1,zIndex:1})).add(f));f.add().align(t(u,{width:f.width,x:n.pick(u.x,c)}),!0,"spacingBox");c+=(f.width+u.buttonSpacing)*(u.align==="right"?-1:1);e.exportSVGElements.push(f,p)}},destroyExport:function(n){for(var n=n.target,t,i=0;i<n.exportSVGElements.length;i++)(t=n.exportSVGElements[i])&&(t.onclick=t.ontouchstart=null,n.exportSVGElements[i]=t.destroy());for(i=0;i<n.exportDivElements.length;i++)t=n.exportDivElements[i],a(t,"mouseleave"),n.exportDivElements[i]=t.onmouseout=t.onmouseover=t.ontouchstart=t.onclick=null,s(t)}});w.menu=function(n,t,i,r){return["M",n,t+2.5,"L",n+i,t+2.5,"M",n,t+r/2+.5,"L",n+i,t+r/2+.5,"M",n,t+r-1.5,"L",n+i,t+r-1.5]};l.prototype.callbacks.push(function(n){var t,i=n.options.exporting,r=i.buttons;if(c=0,i.enabled!==!1){for(t in r)n.addButton(r[t]);e(n,"destroy",n.destroyExport)}})})(Highcharts);
/*
//# sourceMappingURL=exporting.min.js.map
*/