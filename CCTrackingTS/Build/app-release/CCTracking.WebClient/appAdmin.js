define("CCTracking.WebClient/appAdmin",function(){}),define("text!CCTracking.WebClient/Admin/AlkhidmatCentre/AlkhidmatCentreTmpl.html",[],function(){return'<div>\r\n    <div class="panel panel-default">\r\n        <div class="panel-heading header-bold"><span class="glyphicon glyphicon-briefcase"></span>&nbsp;ALKHIDMAT CENTRE</div>\r\n        <!--<div class="text-right input-sm"><a href="~/"><i class="glyphicon glyphicon-time"></i> Booking</a> </div>-->\r\n        <div class="panel-body">\r\n            <form id="form1">\r\n                <div class="panel panel-default">\r\n                    <!--<div class="panel-heading header-bold">PAYMENT INFO</div>-->\r\n                    <div class="panel-body">\r\n                        <table class="table table-removeTopBorder table-condensed table-hover form-group">\r\n                            <tr>\r\n                                <td class="col-sm-4 col-md-4 input-sm">Landmark</td>\r\n                                <td class="col-sm-8 col-md-8">\r\n                                    <select id="ddlPaymentType" class="form-control input-sm"\r\n                                        data-bind="options: model.landmarkList, optionsText:\'description\', value:model.landmarkIdSelected" >\r\n                                    </select></td>\r\n                            </tr>                         \r\n\r\n                            <tr>\r\n                                <td class="col-sm-4 col-md-4 input-sm">Centre Name</td>\r\n                                <td class="col-sm-8 col-md-8">\r\n                                    <input id="txtCentre" type="text" maxlength="50" class="form-control input-sm" data-bind="value: model.name" \r\n                                        required="required" data-role="validate" title="Centre Name" data-content="Centre name is required"/></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td class="col-sm-4 col-md-4 input-sm">Address</td>\r\n                                <td class="col-sm-8 col-md-8">\r\n                                    <input id="txtAddress" type="text" maxlength="500" class="form-control input-sm" data-bind="value: model.address" \r\n                                        required="required" data-role="validate" title="Centre Address" data-content="Contact Address is required"/></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td class="col-sm-4 col-md-4 input-sm">Phone 1</td>\r\n                                <td class="col-sm-8 col-md-8">\r\n                                    <input id="txtPhone1" type="text" maxlength="15" class="form-control input-sm" data-bind="value: model.contactNo1" \r\n                                        required="required" data-role="validate" title="Centre Phone" data-content="Centre Phone is required"/></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td class="col-sm-4 col-md-4 input-sm">Phone 2</td>\r\n                                <td class="col-sm-8 col-md-8">\r\n                                    <input id="txtPhone2" type="text" maxlength="15" class="form-control input-sm" data-bind="value: model.contactNo2" /></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td class="col-sm-4 col-md-4 input-sm">Is Co-Partner</td>\r\n                                <td class="col-sm-8 col-md-8">\r\n                                    <input type="radio" name="rbCoPartner" value="1" data-bind="checked: model.isCoPartner" />Yes\r\n                                    &nbsp;\r\n                                    <input type="radio" name="rbCoPartner" value="0" data-bind="checked: model.isCoPartner" />No </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td class="col-sm-4 col-md-4 input-sm">Is Active</td>\r\n                                <td class="col-sm-8 col-md-8">\r\n                                    <input type="radio" name="rbIsActive" value="1" data-bind="checked: model.isActive" />Yes\r\n                                    &nbsp;\r\n                                    <input type="radio" name="rbIsActive" value="0" data-bind="checked: model.isActive" />No </td>\r\n                            </tr>\r\n\r\n                            <tr>\r\n                                <td class="col-sm-4 col-md-4"></td>\r\n                                <td class="col-sm-8 col-md-8">\r\n                                    <button type="submit" class="btn btn-default">Save</button>\r\n                                    &nbsp;\r\n                                    <button type="button" class="jsCancel btn btn-default">Cancel</button>\r\n                                </td>\r\n                            </tr>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n\r\n            </form>\r\n\r\n            <div id="DetailRegion">\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n'}),define("text!CCTracking.WebClient/Admin/AlkhidmatCentre/AlkhidmatCentreGrid.html",[],function(){return'<div>\r\n    <div id="gridTemplate">\r\n        <div class="panel panel-default">\r\n            <div class="panel-heading header-bold"><span class="glyphicon glyphicon-time"></span> View - Alkhidmat Centre List\r\n                <span class="pull-right"><a href="#alkhidmatCentre">Add New</a></span>\r\n            </div>\r\n            <div class="panel-body">\r\n                <table id="tblStation" class="table  table-removeTopBorder table-condensed table-bordered table-hover table-striped form-group">\r\n                    <thead>\r\n                        <tr class="active">\r\n                            <th class="input-sm">Name</th>\r\n                            <th class="input-sm">Address</th>\r\n                            <th class="input-sm">Contact No 1</th>\r\n                            <th class="input-sm">Contact No 2</th>\r\n                            <th class="input-sm">Co-Partner</th>\r\n                           <!-- <th class="input-sm">Action</th>-->\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody></tbody>\r\n                    <tfoot>\r\n                        <tr class="active"><td colspan="5">&nbsp;</td></tr>\r\n                    </tfoot>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    \r\n     <script type="text/html" id="rowTemplate">\r\n        <td class="jsShowDetail input-sm"><a href="#alkhidmatCentre?id=<%=id%>"><%=name %></a></td>\r\n        <td class="input-sm"><%=address%></td>\r\n        <td class="input-sm"><%=contactNo1%></td>\r\n        <td class="input-sm"><%=contactNo2%></td>\r\n        <td class="input-sm"><%=isCoPartner == 1 ? "Yes" : "No"%></td>        \r\n       <!-- <td class="input-sm">\r\n            <a href="#editBooking?id=<%=id%>"> <span class="glyphicon glyphicon-pencil" title="Edit"></span></a>&nbsp;\r\n            <a href="#"><span class="glyphicon glyphicon-briefcase" title="Payment"></span></a>&nbsp;\r\n            <a href="#"><span class="glyphicon glyphicon-remove-sign" title="Cancel"></span></a></td>    -->    \r\n</script>\r\n</div>\r\n\r\n\r\n'});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Admin/AlkhidmatCentre/AlkhidmatCentreView",["require","exports","../../Helper","marionette","jquery","knockout","text!./AlkhidmatCentreTmpl.html","text!./AlkhidmatCentreGrid.html"],function(e,t,n){var r=e("underscore"),i=e("text!./AlkhidmatCentreTmpl.html"),s=e("text!./AlkhidmatCentreGrid.html"),o,u=function(e){function t(t,n){e.call(this,t,n)}return __extends(t,e),t}(n.ViewModel);t.StationViewModel=u;var a=function(e){function t(t){this.template=i,this.events={submit:"Save","click .jsCancel":"Cancel"},e.call(this,t)}return __extends(t,e),t.prototype.close=function(){},t.prototype.Cancel=function(){this.trigger("CancelForm")},t.prototype.TestFunction=function(){alert("test function")},t.prototype.Save=function(e){e.preventDefault(),this.trigger("SaveAlkhidmatCentre")},t}(n.Views.MvvmView);t.StationView=a;var f=function(e){function t(t){t.itemView=l,t.template=s.getOuterHTML("#gridTemplate"),t.itemViewContainer="tbody",e.call(this,t)}return __extends(t,e),t.prototype.onShow=function(){this.dataTable=this.$el.find("#tblStation").dataTable({autoWidth:!1,info:!0,processing:!0,lengthMenu:[[10,25,50,-1],[10,25,50,"All"]],language:{paginate:{next:"Next",previous:"Prev"},emptyTable:"No record found!",infoEmpty:"No record found!",zeroRecords:"No record found!"},pageLength:n.GetPageSize()})},t}(n.Views.CompositeView);t.StationCollectionView=f;var l=function(e){function t(t){t||(t={}),t.template=s.getOuterHTML("#rowTemplate"),t.tagName="tr",t.className="jsRowClick",t.events={"click .jsShowDetail":"ShowDetail"},e.call(this,t)}return __extends(t,e),t.prototype.ShowDetail=function(){this.trigger("ShowDetail")},t}(n.Views.ItemView);t.StationItemView=l});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Dtos/AlkhidmatCentreDto",["require","exports","jquery","backbone"],function(e,t){(function(e){var t=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.default=function(){return{id:"",name:"",landmarkId:"",address:"",contactNo1:"",contactNo2:"",isCoPartner:"",isActive:"",createdBy:"",createdDate:"",modifiedBy:"",modifiedDate:""}},t}(Backbone.Model);e.StationDto=t;var n=function(e){function n(n){this.model=t,e.call(this,n)}return __extends(n,e),n}(Backbone.Collection);e.StationCollection=n})(t.Models||(t.Models={}));var n=t.Models});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/DAL/AlkhidmatCentre",["require","exports","CCTracking.WebClient/DAL/AjaxRequest","CCTracking.WebClient/Dtos/AlkhidmatCentreDto","jquery"],function(e,t,n,r){function o(){var e=new s;return e.doAjaxRequest(null,"GET","AlkhidmatCentre")}function u(e){var t=new s;return t.doAjaxRequest(e,"POST","AlkhidmatCentre")}function a(){var e=new s;return e.doAjaxRequest(null,"GET","AlkhidmatCentre?a=a")}function f(e){var t=new s;return t.doAjaxRequest(null,"GET","AlkhidmatCentre?id="+e)}var i=e("jquery"),s=function(e){function t(){e.call(this,this)}return __extends(t,e),t.prototype.getResponse=function(){return new r.Models.StationDto},t}(n.BaseDto);t.StationDal=s,t.Load=o,t.Save=u,t.GetAll=a,t.GetById=f});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Admin/AlkhidmatCentre/AlkhidmatCentreCtrl",["require","exports","../../App","../../Helper","./AlkhidmatCentreView","../../Dtos/AlkhidmatCentreDto","../../DAL/AlkhidmatCentre","marionette","jquery","knockout","text!./AlkhidmatCentreTmpl.html"],function(e,t,n,r,i,s,o){var u=e("underscore"),a=e("knockout"),f=e("knockback"),l=function(e){function t(){e.call(this),this.app=n.Application.getInstance(),this.backboneModel=new s.Models.StationDto,this.stationViewModel=new i.StationViewModel(this.backboneModel,this),this.stationView=new i.StationView({viewModel:this.stationViewModel}),this.collection=new s.Models.StationCollection({}),this.collectionView=new i.StationCollectionView({collection:this.collection})}return __extends(t,e),t.prototype.Show=function(){var e=this,t=window.location.href;if(t.indexOf("id=")>-1){var n=t.substring(t.indexOf("id=")+3,t.length),r=o.GetById(n);r.done(function(t){return e.GetByIdCompleted(t)})}else this.Load()},t.prototype.Load=function(){var e=this,t=JSON.parse(localStorage.getItem("lookupResponse")),n=this.backboneModel;this.stationViewModel.bbModel=n,this.stationViewModel.model=f.viewModel(n),n.set("name",""),n.set("address",""),n.set("landmarkIdSelected",""),n.set("landmarkList",t.landmark),n.set("contactNo1",""),n.set("contactNo2",""),n.set("isCoPartner",""),n.set("isActive",""),this.stationViewModel=new i.StationViewModel(n,this),this.stationView=new i.StationView({viewModel:this.stationViewModel}),this.stationView.on("SaveAlkhidmatCentre",function(){return e.Save(e.stationViewModel.bbModel)}),this.stationView.on("CancelForm",function(){return e.Cancel()}),this.app.MainRegion.show(this.stationView)},t.prototype.GetAll=function(){var e=this,t=o.GetAll();t.done(function(t){return e.GetAllCompleted(t)})},t.prototype.GetByIdCompleted=function(e){var t=this;this.backboneModel=new Backbone.Model(e.centreModel);var n=this.backboneModel;this.UIBinding(n),this.stationView=new i.StationView({viewModel:this.stationViewModel}),this.stationView.on("SaveAlkhidmatCentre",function(){return t.Save(t.stationViewModel.bbModel)}),this.stationView.on("CancelForm",function(){return t.Cancel()}),this.app.MainRegion.show(this.stationView)},t.prototype.Save=function(e){var t=this,n=this.app.request("AppGlobalSetting");e.set("modifiedBy",n.get("Id")),e.set("landmarkId",e.get("landmarkIdSelected").id),e.set("isActive",e.get("isActive")=="1"?!0:!1),e.set("isCoPartner",e.get("isCoPartner")=="1"?!0:!1);var r=o.Save(this.GetMinimalRequest(e));r.done(function(e){return t.SaveCompleted(e)})},t.prototype.GetMinimalRequest=function(e){var t=new s.Models.StationDto;return t.set("id",e.get("id")),t.set("name",e.get("name")),t.set("landmarkId",e.get("landmarkId")),t.set("address",e.get("address")),t.set("contactNo1",e.get("contactNo1")),t.set("contactNo2",e.get("contactNo2")),t.set("isCoPartner",e.get("isCoPartner")),t.set("isActive",e.get("isActive")),t.set("createdBy",e.get("createdBy")),t.set("createdDate",e.get("createdDate")),t.set("modifiedBy",e.get("modifiedBy")),t.set("modifiedDate",e.get("modifiedDate")),t},t.prototype.GetAllCompleted=function(e){var t=this;this.collection.reset(e.centreList),this.collectionView=new i.StationCollectionView({collection:this.collection}),this.collectionView.on("itemview:ShowDetail",function(e){return t.GetByIdCompleted(e.model)}),this.app.MainRegion.show(this.collectionView)},t.prototype.SaveCompleted=function(e){var t=new Backbone.Model(e);t.get("errorMessage")!=undefined&&t.get("errorMessage").trim()!=""?r.ShowModalPopup("danger","Alkhidmat Centre","Due to some technical reason Alkhidmat Centre have not been saved successfully!<br> Pelase try later"):(r.ShowModalPopup("success","Alkhidmat Centre","Record has been saved successfully with Alkhidmat Centre ID : "+e.id),this.Cancel())},t.prototype.Cancel=function(){window.location.href="#viewAlkhidmatCentre"},t.prototype.UIBinding=function(e){var t=JSON.parse(localStorage.getItem("lookupResponse"));e.set("landmarkList",t.landmark);var n=u.filter(t.landmark,function(t){return t.id==e.get("landmarkId")});e.set("landmarkIdSelected",n[0]),e.set("isActive",e.get("isActive")?"1":"0"),e.set("isCoPartner",e.get("isCoPartner")?"1":"0"),this.stationViewModel.bbModel=e,this.stationViewModel.model=f.viewModel(e),a.cleanNode($(this.stationView.el)[0]),a.applyBindings(this.stationViewModel,this.stationView.el)},t}(r.Controller);t.StationCtrl=l}),define("text!CCTracking.WebClient/Admin/Bus/BusTmpl.html",[],function(){return'<div>\r\n    <div class="panel panel-default">\r\n        <div class="panel-heading header-bold"><span class="glyphicon glyphicon-briefcase"></span>&nbsp;Buses Information</div>\r\n        <!--<div class="text-right input-sm"><a href="~/"><i class="glyphicon glyphicon-time"></i> Booking</a> </div>-->\r\n        <div class="panel-body">\r\n            <form id="form1">\r\n                <div class="panel panel-default">\r\n\r\n                    <div class="panel-body">\r\n                        <table class="table table-removeTopBorder table-condensed table-hover form-group">\r\n                            <tr>\r\n                                <td class="col-sm-4 col-md-4 input-sm">Alkhidmat Center</td>\r\n                                <td class="col-sm-8 col-md-8">\r\n                                    <select id="ddlCentre" class="form-control input-sm"\r\n                                        data-bind="options: model.alkhidmatCentreList, optionsText:\'description\', value:model.alkhidmatCentreSelected" >\r\n                                    </select></td>\r\n                            </tr>                          \r\n                            <tr>\r\n                                <td class="col-sm-4 col-md-4 input-sm">Tracking Device</td>\r\n                                <td class="col-sm-8 col-md-8">\r\n                                    <input id="txtTrackingDeviceId" type="text"  maxlength="50" class="form-control input-sm" data-bind="value: model.trackingDeviceId" /></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td class="col-sm-4 col-md-4 input-sm">Alkhidmat Bus No.</td>\r\n                                <td class="col-sm-8 col-md-8">\r\n                                    <input id="txtAlkhidmatBusNo" type="text" maxlength="5" class="form-control input-sm" data-bind="value: model.alkhidmatBusNo" \r\n                                        required="required" data-role="validate" title="Alkhidmat Bus No" data-content="Alkhidmat Bus No is required"/></td>\r\n                            </tr>\r\n                             <tr>\r\n                                <td class="col-sm-4 col-md-4 input-sm">Vehical No</td>\r\n                                <td class="col-sm-8 col-md-8">\r\n                                    <input id="Text2" type="text" maxlength="50" class="form-control input-sm" data-bind="value: model.vehicleNo" \r\n                                        required="required" data-role="validate" title="Vehicle No" data-content="Vehicle No is required"/></td>\r\n                            </tr>\r\n\r\n                            <tr>\r\n                                <td class="col-sm-4 col-md-4 input-sm">\r\n                                No</td>\r\n                                <td class="col-sm-8 col-md-8">\r\n                                    <input id="txtNo" type="text" class="form-control input-sm" data-bind="value: model.no" /></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td class="col-sm-4 col-md-4 input-sm">Model</td>\r\n                                <td class="col-sm-8 col-md-8">\r\n                                    <select id="ddlModel"\r\n                                            data-bind="options: model.busModelList, optionsText:\'description\', value:model.busModelSelected" >\r\n                                       \r\n                                    </select>\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td class="col-sm-4 col-md-4 input-sm">Initial Reading</td>\r\n                                <td class="col-sm-8 col-md-8">\r\n                                    <input id="Text1" type="text" maxlength="15" class="form-control input-sm" data-bind="value: model.initialReading" \r\n                                        required="required" data-role="validate" title="Initial Reading" data-content="Initial reading is required"/></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td class="col-sm-4 col-md-4 input-sm">Description</td>\r\n                                <td class="col-sm-8 col-md-8">\r\n                                    <input id="txtDescription" type="text" maxlength="200" class="form-control input-sm" data-bind="value: model.description" /></td>\r\n\r\n                            </tr>\r\n                            <tr>\r\n                                <td class="col-sm-4 col-md-4 input-sm">Is Active</td>\r\n                                <td class="col-sm-8 col-md-8">\r\n                                    <input type="radio" name="rbIsActive" value="1" data-bind="checked: model.isActive" />Yes\r\n                                    &nbsp;\r\n                                    <input type="radio" name="rbIsActive" value="0" data-bind="checked: model.isActive" />No </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td class="col-sm-4 col-md-4"></td>\r\n                                <td class="col-sm-8 col-md-8">\r\n                                    <button type="submit" class="btn btn-default">Save</button>\r\n                                    &nbsp;\r\n                                    <button type="button" class="jsCancel btn btn-default">Cancel</button>\r\n                                </td>\r\n                            </tr>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n\r\n            </form>\r\n\r\n            <div id="DetailRegion">\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n'}),define("text!CCTracking.WebClient/Admin/Bus/BusGrid.html",[],function(){return'<div>\r\n    <div id="gridTemplate">\r\n        <div class="panel panel-default">\r\n            <div class="panel-heading header-bold"><span class="glyphicon glyphicon-time"></span> View - Bus List\r\n                <span class="pull-right"><a href="#adminBus">Add New</a></span>\r\n            </div>\r\n            <div class="panel-body">\r\n                <table id="tblBus" class="table  table-removeTopBorder table-condensed table-bordered table-hover table-striped form-group">\r\n                    <thead>\r\n                        <tr class="active">\r\n                            <th class="input-sm">Station</th>\r\n                            <th class="input-sm">Vehical No</th>\r\n                            <th class="input-sm">Model</th>\r\n                            <th class="input-sm">Description</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody></tbody>\r\n                    <tfoot>\r\n                        <tr class="active"><td colspan="5">&nbsp;</td></tr>\r\n                    </tfoot>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    \r\n     <script type="text/html" id="rowTemplate">\r\n        <td class="jsShowDetail input-sm"><a href="#adminBus?id=<%=id%>"><%=centreDesc %></a></td>\r\n        <td class="input-sm"><%=vehicleNo%></td>\r\n        <td class="input-sm"><%=modelNo%></td>\r\n        <td class="input-sm"><%=description%></td>\r\n</script>\r\n</div>\r\n\r\n\r\n'});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Admin/Bus/BusView",["require","exports","../../Helper","marionette","jquery","knockout","text!./BusTmpl.html","text!./BusGrid.html"],function(e,t,n){var r=e("underscore"),i=e("text!./BusTmpl.html"),s=e("text!./BusGrid.html"),o,u=function(e){function t(t,n){e.call(this,t,n)}return __extends(t,e),t}(n.ViewModel);t.BusViewModel=u;var a=function(e){function t(t){this.template=i,this.events={submit:"Save","click .jsCancel":"Cancel"},e.call(this,t)}return __extends(t,e),t.prototype.close=function(){},t.prototype.Cancel=function(){this.trigger("CancelForm")},t.prototype.TestFunction=function(){alert("test function")},t.prototype.Save=function(e){e.preventDefault(),this.trigger("SaveBus")},t}(n.Views.MvvmView);t.BusView=a;var f=function(e){function t(t){t.itemView=l,t.template=s.getOuterHTML("#gridTemplate"),t.itemViewContainer="tbody",e.call(this,t)}return __extends(t,e),t}(n.Views.CompositeView);t.BusCollectionView=f;var l=function(e){function t(t){t||(t={}),t.template=s.getOuterHTML("#rowTemplate"),t.tagName="tr",t.className="jsRowClick",t.events={"click .jsShowDetail":"ShowDetail"},e.call(this,t)}return __extends(t,e),t.prototype.ShowDetail=function(){this.trigger("ShowDetail")},t}(n.Views.ItemView);t.BusItemView=l});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Dtos/BusDto",["require","exports","backbone"],function(e,t){(function(e){var t=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.default=function(){return{id:"",stationId:"",trackingDeviceId:"",vehicleNo:"",alkhidmatBusNo:"",no:"",modelNo:"",description:"",initialReading:"",isActive:"",createdBy:"",createdDate:"",modifiedBy:"",modifiedDate:""}},t}(Backbone.Model);e.BusDto=t;var n=function(e){function n(n){this.model=t,e.call(this,n)}return __extends(n,e),n}(Backbone.Collection);e.BusCollection=n})(t.Models||(t.Models={}));var n=t.Models});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/DAL/Bus",["require","exports","CCTracking.WebClient/DAL/AjaxRequest","../Dtos/BusDto"],function(e,t,n,r){function s(){var e=new i;return e.doAjaxRequest(null,"GET","Bus")}function o(e){var t=new i;return t.doAjaxRequest(e,"POST","Bus")}function u(){var e=new i;return e.doAjaxRequest(null,"GET","Bus?a=a")}function a(e){var t=new i;return t.doAjaxRequest(null,"GET","Bus?id="+e)}var i=function(e){function t(){e.call(this,this)}return __extends(t,e),t.prototype.getResponse=function(){return new r.Models.BusDto},t}(n.BaseDto);t.BusDal=i,t.Load=s,t.Save=o,t.GetAll=u,t.GetById=a});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Admin/Bus/BusCtrl",["require","exports","../../App","../../Helper","./BusView","../../Dtos/BusDto","../../DAL/Bus","marionette","jquery","knockout","text!./BusTmpl.html"],function(e,t,n,r,i,s,o){var u=e("underscore"),a=e("knockout"),f=e("knockback"),l=function(e){function t(){e.call(this),this.app=n.Application.getInstance(),this.backboneModel=new s.Models.BusDto,this.busViewModel=new i.BusViewModel(this.backboneModel,this),this.busView=new i.BusView({viewModel:this.busViewModel}),this.collection=new s.Models.BusCollection({}),this.collectionView=new i.BusCollectionView({collection:this.collection})}return __extends(t,e),t.prototype.Show=function(){var e=this,t=window.location.href;if(t.indexOf("id=")>-1){var n=t.substring(t.indexOf("id=")+3,t.length),r=o.GetById(n);r.done(function(t){return e.GetByIdCompleted(t)})}else this.Load()},t.prototype.Load=function(){var e=this,t=JSON.parse(localStorage.getItem("lookupResponse")),n=this.backboneModel;this.busViewModel.bbModel=n,this.busViewModel.model=f.viewModel(n),n.set("trackingDeviceId",""),n.set("vehicleNo",""),n.set("alkhidmatBusNo",""),n.set("alkhidmatCentreList",t.alkhidmatCentre),n.set("alkhidmatCentreSelected",""),n.set("busModelList",t.busModel),n.set("busModelSelected",""),n.set("no",""),n.set("description",""),n.set("initialReading",""),n.set("isActive","1"),this.busViewModel=new i.BusViewModel(n,this),this.busView=new i.BusView({viewModel:this.busViewModel}),this.busView.on("SaveBus",function(){return e.Save(e.busViewModel.bbModel)}),this.busView.on("CancelForm",function(){return e.Cancel()}),this.app.MainRegion.show(this.busView)},t.prototype.GetAll=function(){var e=this,t=o.GetAll();t.done(function(t){return e.GetAllCompleted(t)})},t.prototype.GetByIdCompleted=function(e){var t=this;this.backboneModel=new Backbone.Model(e.busModel);var n=this.backboneModel;this.UIBinding(n),this.busView=new i.BusView({viewModel:this.busViewModel}),this.busView.on("SaveBus",function(){return t.Save(t.busViewModel.bbModel)}),this.busView.on("CancelForm",function(){return t.Cancel()}),this.app.MainRegion.show(this.busView)},t.prototype.Save=function(e){var t=this,n=this.app.request("AppGlobalSetting");e.set("modifiedBy",n.get("Id")),e.set("centreId",e.get("alkhidmatCentreSelected").id),e.set("modelNo",e.get("busModelSelected").id),e.set("isActive",e.get("isActive")=="1"?!0:!1);var r=o.Save(this.GetMinimalRequest(e));r.done(function(e){return t.SaveCompleted(e)})},t.prototype.GetMinimalRequest=function(e){var t=new s.Models.BusDto;return t.set("id",e.get("id")),t.set("centreId",e.get("centreId")),t.set("trackingDeviceId",e.get("trackingDeviceId")),t.set("vehicleNo",e.get("vehicleNo")),t.set("alkhidmatBusNo",e.get("alkhidmatBusNo")),t.set("no",e.get("no")),t.set("modelNo",e.get("modelNo")),t.set("description",e.get("description")),t.set("initialReading",e.get("initialReading")),t.set("isActive",e.get("isActive")),t.set("createdBy",e.get("createdBy")),t.set("createdDate",e.get("createdDate")),t.set("modifiedBy",e.get("modifiedBy")),t.set("modifiedDate",e.get("modifiedDate")),t},t.prototype.GetAllCompleted=function(e){var t=this;this.collection.reset(e.busList),this.collectionView=new i.BusCollectionView({collection:this.collection}),this.collectionView.on("itemview:ShowDetail",function(e){return t.GetByIdCompleted(e.model)}),this.app.MainRegion.show(this.collectionView)},t.prototype.SaveCompleted=function(e){var t=new Backbone.Model(e);t.get("errorMessage")!=undefined&&t.get("errorMessage").trim()!=""?r.ShowModalPopup("danger","Bus","Due to some technical reason Bus Detail have not been saved successfully!<br> Pelase try later"):(r.ShowModalPopup("success","Bus","Record has been saved successfully with Bus ID : "+e.id),this.Cancel())},t.prototype.Cancel=function(){window.location.href="#viewAdminBus"},t.prototype.UIBinding=function(e){var t=JSON.parse(localStorage.getItem("lookupResponse"));e.set("alkhidmatCentreList",t.alkhidmatCentre);var n=u.filter(t.alkhidmatCentre,function(t){return t.id==e.get("centreId")});e.set("alkhidmatCentreSelected",n[0]),e.set("busModelList",t.busModel);var r=u.filter(t.busModel,function(t){return t.id==e.get("modelNo")});e.set("busModelSelected",r[0]),e.set("isActive",e.get("isActive")?"1":"0"),this.busViewModel.bbModel=e,this.busViewModel.model=f.viewModel(e),a.cleanNode($(this.busView.el)[0]),a.applyBindings(this.busViewModel,this.busView.el)},t}(r.Controller);t.BusCtrl=l}),define("text!CCTracking.WebClient/Admin/CauseOfDeath/CauseOfDeathTmpl.html",[],function(){return'<div>\r\n    <div class="panel panel-default">\r\n        <div class="panel-heading header-bold"><span class="glyphicon glyphicon-briefcase"></span>&nbsp;Cause Of Death Information</div>\r\n        <div class="panel-body">\r\n            <form id="form1">\r\n                <div class="panel panel-default">\r\n\r\n                    <div class="panel-body">\r\n                        <table class="table table-removeTopBorder table-condensed table-hover form-group">\r\n                            <tr>\r\n                                <td class="col-sm-4 col-md-4 input-sm">Cause Of Death</td>\r\n                                <td class="col-sm-8 col-md-8">\r\n                                    <input id="txtGraveyard" type="text" class="form-control input-sm" data-bind="value: model.name" \r\n                                        required="required" data-role="validate" title="Cause Of Death" data-content="Cause Of Death is required"/></td>\r\n                            </tr>\r\n\r\n                            <tr>\r\n                                <td class="col-sm-4 col-md-4 input-sm">Is Active</td>\r\n                                <td class="col-sm-8 col-md-8">\r\n                                    <input type="radio" name="rbIsActive" value="1" data-bind="checked: model.isActive" />Yes\r\n                                    &nbsp;\r\n                                    <input type="radio" name="rbIsActive" value="0" data-bind="checked: model.isActive" />No </td>\r\n                            </tr>\r\n\r\n                            <tr>\r\n                                <td class="col-sm-4 col-md-4"></td>\r\n                                <td class="col-sm-8 col-md-8">\r\n                                    <button type="submit" class="btn btn-default">Save</button>\r\n                                    &nbsp;\r\n                                    <button type="button" class="jsCancel btn btn-default">Cancel</button>\r\n                                </td>\r\n                            </tr>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n\r\n            </form>\r\n\r\n            <div id="DetailRegion">\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n'}),define("text!CCTracking.WebClient/Admin/CauseOfDeath/CauseOfDeathGrid.html",[],function(){return'<div>\r\n    <div id="gridTemplate">\r\n        <div class="panel panel-default">\r\n            <div class="panel-heading header-bold"><span class="glyphicon glyphicon-time"></span> View - Cause Of Death List\r\n                <span class="pull-right"><a href="#causeOfDeath">Add New</a></span>\r\n            </div>\r\n            <div class="panel-body">\r\n                <table id="tblBus" class="table table-removeTopBorder table-condensed table-bordered table-hover table-striped form-group">\r\n                    <thead>\r\n                        <tr class="active">\r\n                            <th class="input-sm">Cause Of Death</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody></tbody>\r\n                    <tfoot>\r\n                        <tr class="active"><td colspan="5">&nbsp;</td></tr>\r\n                    </tfoot>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    \r\n    <script type="text/html" id="rowTemplate">\r\n        <td class="jsShowDetail  input-sm"><a href="#causeOfDeath?id=<%=id%>"><%=name%></a></td>\r\n</script>\r\n</div>\r\n\r\n\r\n'});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Admin/CauseOfDeath/CauseOfDeathView",["require","exports","../../Helper","marionette","jquery","knockout","text!./CauseOfDeathTmpl.html","text!./CauseOfDeathGrid.html"],function(e,t,n){var r=e("underscore"),i=e("text!./CauseOfDeathTmpl.html"),s=e("text!./CauseOfDeathGrid.html"),o,u=function(e){function t(t,n){e.call(this,t,n)}return __extends(t,e),t}(n.ViewModel);t.CauseOfDeathViewModel=u;var a=function(e){function t(t){this.template=i,this.events={submit:"Save","click .jsCancel":"Cancel"},e.call(this,t)}return __extends(t,e),t.prototype.close=function(){},t.prototype.Cancel=function(){this.trigger("CancelForm")},t.prototype.TestFunction=function(){alert("test function")},t.prototype.Save=function(e){e.preventDefault(),this.trigger("SaveCauseOfDeath")},t}(n.Views.MvvmView);t.CauseOfDeathView=a;var f=function(e){function t(t){t.itemView=l,t.template=s.getOuterHTML("#gridTemplate"),t.itemViewContainer="tbody",e.call(this,t)}return __extends(t,e),t}(n.Views.CompositeView);t.CauseOfDeathCollectionView=f;var l=function(e){function t(t){t||(t={}),t.template=s.getOuterHTML("#rowTemplate"),t.tagName="tr",t.className="jsRowClick",t.events={"click .jsShowDetail":"ShowDetail"},e.call(this,t)}return __extends(t,e),t.prototype.ShowDetail=function(){this.trigger("ShowDetail")},t}(n.Views.ItemView);t.CauseOfDeathItemView=l});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Dtos/CauseOfDeathDto",["require","exports","backbone"],function(e,t){(function(e){var t=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.default=function(){return{id:"",name:"",isActive:"",createdBy:"",createdDate:"",modifiedBy:"",modifiedDate:""}},t}(Backbone.Model);e.CauseOfDeathDto=t;var n=function(e){function n(n){this.model=t,e.call(this,n)}return __extends(n,e),n}(Backbone.Collection);e.CauseOfDeathCollection=n})(t.Models||(t.Models={}));var n=t.Models});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/DAL/CauseOfDeath",["require","exports","CCTracking.WebClient/DAL/AjaxRequest","CCTracking.WebClient/Dtos/CauseOfDeathDto"],function(e,t,n,r){function s(){var e=new i;return e.doAjaxRequest(null,"GET","CauseOfDeath")}function o(e){var t=new i;return t.doAjaxRequest(e,"POST","CauseOfDeath")}function u(){var e=new i;return e.doAjaxRequest(null,"GET","CauseOfDeath?a=a")}function a(e){var t=new i;return t.doAjaxRequest(null,"GET","CauseOfDeath?id="+e)}var i=function(e){function t(){e.call(this,this)}return __extends(t,e),t.prototype.getResponse=function(){return new r.Models.CauseOfDeathDto},t}(n.BaseDto);t.CauseOfDeathDal=i,t.Load=s,t.Save=o,t.GetAll=u,t.GetById=a});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Admin/CauseOfDeath/CauseOfDeathCtrl",["require","exports","../../App","../../Helper","./CauseOfDeathView","../../Dtos/CauseOfDeathDto","../../DAL/CauseOfDeath","marionette","jquery","knockout","text!./CauseOfDeathTmpl.html"],function(e,t,n,r,i,s,o){var u=e("underscore"),a=e("knockout"),f=e("knockback"),l=function(e){function t(){e.call(this),this.app=n.Application.getInstance(),this.backboneModel=new s.Models.CauseOfDeathDto,this.causeOfDeathViewModel=new i.CauseOfDeathViewModel(this.backboneModel,this),this.causeOfDeathView=new i.CauseOfDeathView({viewModel:this.causeOfDeathViewModel}),this.collection=new s.Models.CauseOfDeathCollection({}),this.collectionView=new i.CauseOfDeathCollectionView({collection:this.collection})}return __extends(t,e),t.prototype.Show=function(){var e=this,t=window.location.href;if(t.indexOf("id=")>-1){var n=t.substring(t.indexOf("id=")+3,t.length),r=o.GetById(n);r.done(function(t){return e.GetByIdCompleted(t)})}else this.Load()},t.prototype.Load=function(){var e=this,t=this.backboneModel;this.causeOfDeathViewModel.bbModel=t,this.causeOfDeathViewModel.model=f.viewModel(t),t.set("name",""),t.set("isActive",""),this.causeOfDeathViewModel=new i.CauseOfDeathViewModel(t,this),this.causeOfDeathView=new i.CauseOfDeathView({viewModel:this.causeOfDeathViewModel}),this.causeOfDeathView.on("SaveCauseOfDeath",function(){return e.Save(e.causeOfDeathViewModel.bbModel)}),this.causeOfDeathView.on("CancelForm",function(){return e.Cancel()}),this.app.MainRegion.show(this.causeOfDeathView)},t.prototype.GetAll=function(){var e=this,t=o.GetAll();t.done(function(t){return e.GetAllCompleted(t)})},t.prototype.GetByIdCompleted=function(e){var t=this;this.backboneModel=new Backbone.Model(e.causeofDeathModel);var n=this.backboneModel;this.UIBinding(n),this.causeOfDeathView=new i.CauseOfDeathView({viewModel:this.causeOfDeathViewModel}),this.causeOfDeathView.on("SaveCauseOfDeath",function(){return t.Save(t.causeOfDeathViewModel.bbModel)}),this.causeOfDeathView.on("CancelForm",function(){return t.Cancel()}),this.app.MainRegion.show(this.causeOfDeathView)},t.prototype.Save=function(e){var t=this,n=this.app.request("AppGlobalSetting");e.set("modifiedBy",n.get("Id")),e.set("isActive",e.get("isActive")=="1"?!0:!1);var r=o.Save(e);r.done(function(e){return t.SaveCompleted(e)})},t.prototype.GetAllCompleted=function(e){var t=this;this.collection.reset(e.causeofDeathList),this.collectionView=new i.CauseOfDeathCollectionView({collection:this.collection}),this.collectionView.on("itemview:ShowDetail",function(e){return t.GetByIdCompleted(e.model)}),this.app.MainRegion.show(this.collectionView)},t.prototype.SaveCompleted=function(e){var t=new Backbone.Model(e);t.get("errorMessage")!=undefined&&t.get("errorMessage").trim()!=""?r.ShowModalPopup("danger","Cause Of Death","Due to some technical reason Cause of Death have not been saved successfully!<br> Pelase try later"):(r.ShowModalPopup("success","Cause Of Death","Record has been saved successfully with CauseOfDeath ID : "+e.id),this.Cancel())},t.prototype.Cancel=function(){window.location.href="#viewCauseOfDeath"},t.prototype.UIBinding=function(e){e.set("isActive",e.get("isActive")?"1":"0"),this.causeOfDeathViewModel.bbModel=e,this.causeOfDeathViewModel.model=f.viewModel(e),a.cleanNode($(this.causeOfDeathView.el)[0]),a.applyBindings(this.causeOfDeathViewModel,this.causeOfDeathView.el)},t}(r.Controller);t.CauseOfDeathCtrl=l}),define("text!CCTracking.WebClient/Admin/Driver/DriverTmpl.html",[],function(){return'<div>\r\n    <div class="panel panel-default">\r\n        <div class="panel-heading header-bold"><span class="glyphicon glyphicon-briefcase"></span>&nbsp;Buses Information</div>\r\n        <!--<div class="text-right input-sm"><a href="~/"><i class="glyphicon glyphicon-time"></i> Booking</a> </div>-->\r\n        <div class="panel-body">\r\n            <form id="form1">\r\n                <div class="panel panel-default">\r\n\r\n                    <div class="panel-body">\r\n                        <table class="table table-removeTopBorder table-condensed table-hover form-group">\r\n                            <tr>\r\n                                <td class="col-sm-4 col-md-4 input-sm">Alkhidmat Center</td>\r\n                                <td class="col-sm-8 col-md-8">\r\n                                    <select id="ddlCentre" class="form-control input-sm"\r\n                                        data-bind="options: model.alkhidmatCentreList, optionsText:\'description\', value:model.alkhidmatCentreSelected" >\r\n                                    </select></td>\r\n                            </tr>\r\n\r\n                           <tr>\r\n                                <td class="col-sm-4 col-md-4 input-sm">First Name</td>\r\n                                <td class="col-sm-8 col-md-8">\r\n                                    <input id="txtFirstName" type="text" class="form-control input-sm" data-bind="value: model.firstName" \r\n                                        required="required" data-role="validate" title="First Name" data-content="First Name is required"/></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td class="col-sm-4 col-md-4 input-sm">Last Name</td>\r\n                                <td class="col-sm-8 col-md-8">\r\n                                    <input id="txtLastName" type="text" class="form-control input-sm" data-bind="value: model.lastName" \r\n                                        required="required" data-role="validate" title="Last Name" data-content="Last Name is required"/></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td class="col-sm-4 col-md-4 input-sm">CNIC</td>\r\n                                <td class="col-sm-8 col-md-8">\r\n                                    <input id="txtCnic" type="text" class="form-control input-sm" data-bind="value: model.cnic" \r\n                                        required="required" data-role="validate" title="Driver CNIC" data-content="Driver CNIC is required"/></td>\r\n                            </tr>\r\n                            \r\n                            <tr>\r\n                                <td class="col-sm-4 col-md-4 input-sm">Mobile</td>\r\n                                <td class="col-sm-8 col-md-8">\r\n                                    <input id="txtMobile" type="text" class="form-control input-sm" data-bind="value: model.mobile" \r\n                                        required="required" data-role="validate" title="Driver Mobile" data-content="Driver Mobile is required"/></td>\r\n                            </tr>\r\n                            \r\n                            <tr>\r\n                                <td class="col-sm-4 col-md-4 input-sm">Address</td>\r\n                                <td class="col-sm-8 col-md-8">\r\n                                    <input id="txtAddress" type="text" class="form-control input-sm" data-bind="value: model.address" \r\n                                        required="required" data-role="validate" title="Contact Name" data-content="Contact name is required"/></td>\r\n                            </tr>\r\n                             <tr>\r\n                                <td class="col-sm-4 col-md-4 input-sm">City</td>\r\n                                <td class="col-sm-8 col-md-8">\r\n                                    <input id="txtCity" type="text" class="form-control input-sm" data-bind="value: model.city" /></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td class="col-sm-4 col-md-4 input-sm">Is Active</td>\r\n                                <td class="col-sm-8 col-md-8">\r\n                                    <input type="radio" name="rbIsActive" value="1" data-bind="checked: model.isActive" />Yes\r\n                                    &nbsp;\r\n                                    <input type="radio" name="rbIsActive" value="0" data-bind="checked: model.isActive" />No </td>\r\n                            </tr>\r\n\r\n                            <tr>\r\n                                <td class="col-sm-4 col-md-4"></td>\r\n                                <td class="col-sm-8 col-md-8">\r\n                                    <button type="submit" class="btn btn-default">Save</button>\r\n                                    &nbsp;\r\n                                    <button type="button" class="jsCancel btn btn-default">Cancel</button>\r\n                                </td>\r\n                            </tr>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n\r\n            </form>\r\n\r\n            <div id="DetailRegion">\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n'}),define("text!CCTracking.WebClient/Admin/Driver/DriverGrid.html",[],function(){return'<div>\r\n    <div id="gridTemplate">\r\n        <div class="panel panel-default">\r\n            <div class="panel-heading header-bold"><span class="glyphicon glyphicon-time"></span> View - Driver List\r\n                <span class="pull-right"><a href="#driver">Add New</a></span>\r\n            </div>\r\n            <div class="panel-body">\r\n                <table id="tblBus" class="table  table-removeTopBorder table-condensed table-bordered table-hover table-striped form-group">\r\n                    <thead>\r\n                        <tr class="active">\r\n                            <th class="input-sm">Driver</th>\r\n                            <th class="input-sm">Station</th>\r\n                            <th class="input-sm">CNIC</th>\r\n                            <th class="input-sm">Mobile</th>\r\n                            <th class="input-sm">Address</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody></tbody>\r\n                    <tfoot>\r\n                        <tr class="active"><td colspan="5">&nbsp;</td></tr>\r\n                    </tfoot>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    \r\n    <script type="text/html" id="rowTemplate">\r\n        <td class="jsShowDetail  input-sm"><a href="#driver?id=<%=id%>"><%=firstName%>&nbsp;<%=lastName%></a></td>\r\n        <td class="input-sm"><%=centreDesc %></td>        \r\n        <td class="input-sm"><%=cnic%></td>\r\n        <td class="input-sm"><%=mobile%></td>\r\n        <td class="input-sm"><%=address%></td>\r\n</script>\r\n</div>\r\n\r\n\r\n'});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Admin/Driver/DriverView",["require","exports","../../Helper","marionette","jquery","knockout","text!./DriverTmpl.html","text!./DriverGrid.html"],function(e,t,n){var r=e("underscore"),i=e("text!./DriverTmpl.html"),s=e("text!./DriverGrid.html"),o,u=function(e){function t(t,n){e.call(this,t,n)}return __extends(t,e),t}(n.ViewModel);t.DriverViewModel=u;var a=function(e){function t(t){this.template=i,this.events={submit:"Save","click .jsCancel":"Cancel"},e.call(this,t)}return __extends(t,e),t.prototype.close=function(){},t.prototype.Cancel=function(){this.trigger("CancelForm")},t.prototype.TestFunction=function(){alert("test function")},t.prototype.Save=function(e){e.preventDefault(),this.trigger("SaveDriver")},t}(n.Views.MvvmView);t.DriverView=a;var f=function(e){function t(t){t.itemView=l,t.template=s.getOuterHTML("#gridTemplate"),t.itemViewContainer="tbody",e.call(this,t)}return __extends(t,e),t}(n.Views.CompositeView);t.DriverCollectionView=f;var l=function(e){function t(t){t||(t={}),t.template=s.getOuterHTML("#rowTemplate"),t.tagName="tr",t.className="jsRowClick",t.events={"click .jsShowDetail":"ShowDetail"},e.call(this,t)}return __extends(t,e),t.prototype.ShowDetail=function(){this.trigger("ShowDetail")},t}(n.Views.ItemView);t.DriverItemView=l});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Dtos/DriverDto",["require","exports","backbone"],function(e,t){(function(e){var t=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.default=function(){return{id:"",stationId:"",firstName:"",lastName:"",cnic:"",mobile:"",address:"",city:"",isActive:"",createdBy:"",createdDate:"",modifiedBy:"",modifiedDate:""}},t}(Backbone.Model);e.DriverDto=t;var n=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.default=function(){return{driverId:"",driverName:"",milage:"",visitCount:"",vehicleNo:"",visitDate:"",visitInterval:"",bookingId:"",isActive:"",createdBy:"",createdDate:"",modifiedBy:"",modifiedDate:""}},t}(Backbone.Model);e.DriverSummaryDto=n;var r=function(e){function n(n){this.model=t,e.call(this,n)}return __extends(n,e),n}(Backbone.Collection);e.DriverCollection=r;var i=function(e){function t(t){this.model=n,e.call(this,t)}return __extends(t,e),t}(Backbone.Collection);e.DriverSummaryCollection=i})(t.Models||(t.Models={}));var n=t.Models});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/DAL/Driver",["require","exports","CCTracking.WebClient/DAL/AjaxRequest","CCTracking.WebClient/Dtos/DriverDto"],function(e,t,n,r){function s(){var e=new i;return e.doAjaxRequest(null,"GET","Driver")}function o(e){var t=new i;return t.doAjaxRequest(e,"POST","Driver")}function u(){var e=new i;return e.doAjaxRequest(null,"GET","Driver?a=a")}function a(e){var t=new i;return t.doAjaxRequest(null,"GET","Driver?id="+e)}function f(){var e=new i;return e.doAjaxRequest(null,"GET","DriverSummary")}function l(e){var t=new i;return t.doAjaxRequest(null,"GET","DriverSummary?id="+e)}var i=function(e){function t(){e.call(this,this)}return __extends(t,e),t.prototype.getResponse=function(){return new r.Models.DriverDto},t}(n.BaseDto);t.DriverDal=i,t.Load=s,t.Save=o,t.GetAll=u,t.GetById=a,t.GetAllSummary=f,t.GetAllDetail=l});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Admin/Driver/DriverCtrl",["require","exports","../../App","../../Helper","./DriverView","../../Dtos/DriverDto","../../DAL/Driver","marionette","jquery","knockout","text!./DriverTmpl.html"],function(e,t,n,r,i,s,o){var u=e("underscore"),a=e("knockout"),f=e("knockback"),l=function(e){function t(){e.call(this),this.app=n.Application.getInstance(),this.backboneModel=new s.Models.DriverDto,this.driverViewModel=new i.DriverViewModel(this.backboneModel,this),this.driverView=new i.DriverView({viewModel:this.driverViewModel}),this.collection=new s.Models.DriverCollection({}),this.collectionView=new i.DriverCollectionView({collection:this.collection})}return __extends(t,e),t.prototype.Show=function(){var e=this,t=window.location.href;if(t.indexOf("id=")>-1){var n=t.substring(t.indexOf("id=")+3,t.length),r=o.GetById(n);r.done(function(t){return e.GetByIdCompleted(t)})}else this.Load()},t.prototype.Load=function(){var e=this,t=JSON.parse(localStorage.getItem("lookupResponse")),n=this.backboneModel;this.driverViewModel.bbModel=n,this.driverViewModel.model=f.viewModel(n),n.set("firstName",""),n.set("lastName",""),n.set("alkhidmatCentreList",t.alkhidmatCentre),n.set("alkhidmatCentreSelected",""),n.set("cnic",""),n.set("address",""),n.set("city",""),n.set("mobile",""),n.set("isActive",""),this.driverViewModel=new i.DriverViewModel(n,this),this.driverView=new i.DriverView({viewModel:this.driverViewModel}),this.driverView.on("SaveDriver",function(){return e.Save(e.driverViewModel.bbModel)}),this.driverView.on("CancelForm",function(){return e.Cancel()}),this.app.MainRegion.show(this.driverView)},t.prototype.GetAll=function(){var e=this,t=o.GetAll();t.done(function(t){return e.GetAllCompleted(t)})},t.prototype.GetByIdCompleted=function(e){var t=this;this.backboneModel=new Backbone.Model(e.driverModel);var n=this.backboneModel;this.UIBinding(n),this.driverView=new i.DriverView({viewModel:this.driverViewModel}),this.driverView.on("SaveDriver",function(){return t.Save(t.driverViewModel.bbModel)}),this.driverView.on("CancelForm",function(){return t.Cancel()}),this.app.MainRegion.show(this.driverView)},t.prototype.Save=function(e){var t=this,n=this.app.request("AppGlobalSetting");e.set("modifiedBy",n.get("Id")),e.set("centreId",e.get("alkhidmatCentreSelected").id),e.set("isActive",e.get("isActive")=="1"?!0:!1);var r=o.Save(this.GetMinimalRequest(e));r.done(function(e){return t.SaveCompleted(e)})},t.prototype.GetMinimalRequest=function(e){var t=new s.Models.DriverDto;return t.set("id",e.get("id")),t.set("centreId",e.get("centreId")),t.set("firstName",e.get("firstName")),t.set("lastName",e.get("lastName")),t.set("cnic",e.get("cnic")),t.set("mobile",e.get("mobile")),t.set("address",e.get("address")),t.set("city",e.get("city")),t.set("isActive",e.get("isActive")),t.set("createdBy",e.get("createdBy")),t.set("createdDate",e.get("createdDate")),t.set("modifiedBy",e.get("modifiedBy")),t.set("modifiedDate",e.get("modifiedDate")),t},t.prototype.GetAllCompleted=function(e){var t=this;this.collection.reset(e.driverList),this.collectionView=new i.DriverCollectionView({collection:this.collection}),this.collectionView.on("itemview:ShowDetail",function(e){return t.GetByIdCompleted(e.model)}),this.app.MainRegion.show(this.collectionView)},t.prototype.SaveCompleted=function(e){var t=new Backbone.Model(e);t.get("errorMessage")!=undefined&&t.get("errorMessage").trim()!=""?r.ShowModalPopup("danger","Driver","Due to some technical reason Driver have not been saved successfully!<br> Pelase try later"):(r.ShowModalPopup("success","Driver","Record has been saved successfully with Driver ID : "+e.id),this.Cancel())},t.prototype.Cancel=function(){window.location.href="#viewDriver"},t.prototype.UIBinding=function(e){var t=JSON.parse(localStorage.getItem("lookupResponse"));e.set("alkhidmatCentreList",t.alkhidmatCentre);var n=u.filter(t.alkhidmatCentre,function(t){return t.id==e.get("centreId")});e.set("alkhidmatCentreSelected",n[0]),e.set("isActive",e.get("isActive")?"1":"0"),this.driverViewModel.bbModel=e,this.driverViewModel.model=f.viewModel(e),a.cleanNode($(this.driverView.el)[0]),a.applyBindings(this.driverViewModel,this.driverView.el)},t}(r.Controller);t.DriverCtrl=l}),define("text!CCTracking.WebClient/Admin/Graveyard/GraveyardTmpl.html",[],function(){return'<div>\r\n    <div class="panel panel-default">\r\n        <div class="panel-heading header-bold"><span class="glyphicon glyphicon-briefcase"></span>&nbsp;Graveyard Information</div>\r\n        <div class="panel-body">\r\n            <form id="form1">\r\n                <div class="panel panel-default">\r\n\r\n                    <div class="panel-body">\r\n                        <table class="table table-removeTopBorder table-condensed table-hover form-group">\r\n                            <tr>\r\n                                <td class="col-sm-4 col-md-4 input-sm">Landmark</td>\r\n                                <td class="col-sm-8 col-md-8">\r\n                                    <select id="ddlLandmark" class="form-control input-sm"\r\n                                        data-bind="options: model.landmarkList, optionsText:\'description\', value:model.landmarkIdSelected">\r\n                                    </select></td>\r\n                            </tr>\r\n\r\n                           <tr>\r\n                                <td class="col-sm-4 col-md-4 input-sm">Graveyard</td>\r\n                                <td class="col-sm-8 col-md-8">\r\n                                    <input id="txtGraveyard" type="text" class="form-control input-sm" data-bind="value: model.name" \r\n                                        required="required" data-role="validate" title="Graveyard Name" data-content="Graveyard name is required"/></td>\r\n                            </tr>\r\n                          \r\n                            <tr>\r\n                                <td class="col-sm-4 col-md-4 input-sm">Is Active</td>\r\n                                <td class="col-sm-8 col-md-8">\r\n                                    <input type="radio" name="rbIsActive" value="1" data-bind="checked: model.isActive" />Yes\r\n                                    &nbsp;\r\n                                    <input type="radio" name="rbIsActive" value="0" data-bind="checked: model.isActive" />No </td>\r\n                            </tr>\r\n\r\n                            <tr>\r\n                                <td class="col-sm-4 col-md-4"></td>\r\n                                <td class="col-sm-8 col-md-8">\r\n                                    <button type="submit" class="btn btn-default">Save</button>\r\n                                    &nbsp;\r\n                                    <button type="button" class="jsCancel btn btn-default">Cancel</button>\r\n                                </td>\r\n                            </tr>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n\r\n            </form>\r\n\r\n            <div id="DetailRegion">\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n'}),define("text!CCTracking.WebClient/Admin/Graveyard/GraveyardGrid.html",[],function(){return'<div>\r\n    <div id="gridTemplate">\r\n        <div class="panel panel-default">\r\n            <div class="panel-heading header-bold"><span class="glyphicon glyphicon-time"></span> View - Graveyard List\r\n                <span class="pull-right"><a href="#graveyard">Add New</a></span>\r\n            </div>\r\n            <div class="panel-body">\r\n                <table id="tblBus" class="table table-removeTopBorder table-condensed table-bordered table-hover table-striped form-group">\r\n                    <thead>\r\n                        <tr class="active">\r\n                            <th class="input-sm">Graveyard</th>\r\n                            <th class="input-sm">Landmark</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody></tbody>\r\n                    <tfoot>\r\n                        <tr class="active"><td colspan="5">&nbsp;</td></tr>\r\n                    </tfoot>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    \r\n    <script type="text/html" id="rowTemplate">\r\n        <td class="jsShowDetail  input-sm"><a href="#graveyard?id=<%=id%>"><%=name%></a></td>\r\n        <td class="jsShowDetail"><%=landmarkDesc%></td>\r\n</script>\r\n</div>\r\n\r\n\r\n'});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Admin/Graveyard/GraveyardView",["require","exports","../../Helper","marionette","jquery","knockout","text!./GraveyardTmpl.html","text!./GraveyardGrid.html"],function(e,t,n){var r=e("underscore"),i=e("text!./GraveyardTmpl.html"),s=e("text!./GraveyardGrid.html"),o,u=function(e){function t(t,n){e.call(this,t,n)}return __extends(t,e),t}(n.ViewModel);t.GraveyardViewModel=u;var a=function(e){function t(t){this.template=i,this.events={submit:"Save","click .jsCancel":"Cancel"},e.call(this,t)}return __extends(t,e),t.prototype.close=function(){},t.prototype.Cancel=function(){this.trigger("CancelForm")},t.prototype.TestFunction=function(){alert("test function")},t.prototype.Save=function(e){e.preventDefault(),this.trigger("SaveGraveyard")},t}(n.Views.MvvmView);t.GraveyardView=a;var f=function(e){function t(t){t.itemView=l,t.template=s.getOuterHTML("#gridTemplate"),t.itemViewContainer="tbody",e.call(this,t)}return __extends(t,e),t}(n.Views.CompositeView);t.GraveyardCollectionView=f;var l=function(e){function t(t){t||(t={}),t.template=s.getOuterHTML("#rowTemplate"),t.tagName="tr",t.className="jsRowClick",t.events={"click .jsShowDetail":"ShowDetail"},e.call(this,t)}return __extends(t,e),t.prototype.ShowDetail=function(){this.trigger("ShowDetail")},t}(n.Views.ItemView);t.GraveyardItemView=l});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Dtos/GraveyardDto",["require","exports","backbone"],function(e,t){(function(e){var t=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.default=function(){return{id:"",landmarkId:"",name:"",isActive:"",createdBy:"",createdDate:"",modifiedBy:"",modifiedDate:""}},t}(Backbone.Model);e.GraveyardDto=t;var n=function(e){function n(n){this.model=t,e.call(this,n)}return __extends(n,e),n}(Backbone.Collection);e.GraveyardCollection=n})(t.Models||(t.Models={}));var n=t.Models});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/DAL/Graveyard",["require","exports","CCTracking.WebClient/DAL/AjaxRequest","CCTracking.WebClient/Dtos/GraveyardDto"],function(e,t,n,r){function s(){var e=new i;return e.doAjaxRequest(null,"GET","Graveyard")}function o(e){var t=new i;return t.doAjaxRequest(e,"POST","Graveyard")}function u(){var e=new i;return e.doAjaxRequest(null,"GET","Graveyard?a=a")}function a(e){var t=new i;return t.doAjaxRequest(null,"GET","Graveyard?id="+e)}var i=function(e){function t(){e.call(this,this)}return __extends(t,e),t.prototype.getResponse=function(){return new r.Models.GraveyardDto},t}(n.BaseDto);t.GraveyardDal=i,t.Load=s,t.Save=o,t.GetAll=u,t.GetById=a});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Admin/Graveyard/GraveyardCtrl",["require","exports","../../App","../../Helper","./GraveyardView","../../Dtos/GraveyardDto","../../DAL/Graveyard","marionette","jquery","knockout","text!./GraveyardTmpl.html"],function(e,t,n,r,i,s,o){var u=e("underscore"),a=e("knockout"),f=e("knockback"),l=function(e){function t(){e.call(this),this.app=n.Application.getInstance(),this.backboneModel=new s.Models.GraveyardDto,this.graveyardViewModel=new i.GraveyardViewModel(this.backboneModel,this),this.graveyardView=new i.GraveyardView({viewModel:this.graveyardViewModel}),this.collection=new s.Models.GraveyardCollection({}),this.collectionView=new i.GraveyardCollectionView({collection:this.collection})}return __extends(t,e),t.prototype.Show=function(){var e=this,t=window.location.href;if(t.indexOf("id=")>-1){var n=t.substring(t.indexOf("id=")+3,t.length),r=o.GetById(n);r.done(function(t){return e.GetByIdCompleted(t)})}else this.Load()},t.prototype.Load=function(){var e=this,t=JSON.parse(localStorage.getItem("lookupResponse")),n=this.backboneModel;this.graveyardViewModel.bbModel=n,this.graveyardViewModel.model=f.viewModel(n),n.set("name",""),n.set("landmarkIdSelected",""),n.set("landmarkList",t.landmark),n.set("isActive",""),this.graveyardViewModel=new i.GraveyardViewModel(n,this),this.graveyardView=new i.GraveyardView({viewModel:this.graveyardViewModel}),this.graveyardView.on("SaveGraveyard",function(){return e.Save(e.graveyardViewModel.bbModel)}),this.graveyardView.on("CancelForm",function(){return e.Cancel()}),this.app.MainRegion.show(this.graveyardView)},t.prototype.GetAll=function(){var e=this,t=o.GetAll();t.done(function(t){return e.GetAllCompleted(t)})},t.prototype.GetByIdCompleted=function(e){var t=this;this.backboneModel=new Backbone.Model(e.graveyardModel);var n=this.backboneModel;this.UIBinding(n),this.graveyardView=new i.GraveyardView({viewModel:this.graveyardViewModel}),this.graveyardView.on("SaveGraveyard",function(){return t.Save(t.graveyardViewModel.bbModel)}),this.graveyardView.on("CancelForm",function(){return t.Cancel()}),this.app.MainRegion.show(this.graveyardView)},t.prototype.Save=function(e){var t=this,n=this.app.request("AppGlobalSetting");e.set("modifiedBy",n.get("Id")),e.set("landmarkId",e.get("landmarkIdSelected").id),e.set("isActive",e.get("isActive")=="1"?!0:!1);var r=o.Save(e);r.done(function(e){return t.SaveCompleted(e)})},t.prototype.GetAllCompleted=function(e){var t=this;this.collection.reset(e.graveyardList),this.collectionView=new i.GraveyardCollectionView({collection:this.collection}),this.collectionView.on("itemview:ShowDetail",function(e){return t.GetByIdCompleted(e.model)}),this.app.MainRegion.show(this.collectionView)},t.prototype.SaveCompleted=function(e){var t=new Backbone.Model(e);t.get("errorMessage")!=undefined&&t.get("errorMessage").trim()!=""?r.ShowModalPopup("danger","Graveyard","Due to some technical reason Graveyard have not been saved successfully!<br> Pelase try later"):(r.ShowModalPopup("success","Graveyard","Record has been saved successfully with Graveyard ID : "+e.id),this.Cancel())},t.prototype.Cancel=function(){window.location.href="#viewGraveyard"},t.prototype.UIBinding=function(e){var t=JSON.parse(localStorage.getItem("lookupResponse"));e.set("landmarkList",t.landmark);var n=u.filter(t.landmark,function(t){return t.id==e.get("landmarkId")});e.set("landmarkIdSelected",n[0]),e.set("isActive",e.get("isActive")?"1":"0"),this.graveyardViewModel.bbModel=e,this.graveyardViewModel.model=f.viewModel(e),a.cleanNode($(this.graveyardView.el)[0]),a.applyBindings(this.graveyardViewModel,this.graveyardView.el)},t}(r.Controller);t.GraveyardCtrl=l}),define("text!CCTracking.WebClient/Admin/Landmark/LandmarkTmpl.html",[],function(){return' <div>\r\n    <div class="panel panel-default">\r\n        <div class="panel-heading header-bold"><span class="glyphicon glyphicon-briefcase"></span>&nbsp;Landmark Information</div>\r\n        <div class="panel-body">\r\n            <form id="form1">\r\n                <div class="panel panel-default">\r\n\r\n                    <div class="panel-body">\r\n                        <table class="table table-removeTopBorder table-condensed table-hover form-group">\r\n                            <tr>\r\n                                <td class="col-sm-4 col-md-4 input-sm">Union Council</td>\r\n                                <td class="col-sm-8 col-md-8">\r\n                                    <select id="ddlLandmark" class="form-control input-sm"\r\n                                        data-bind="options: model.unionCouncilList, optionsText:\'description\', value:model.unionCouncilIdSelected" >\r\n                                    </select></td>\r\n                            </tr>\r\n\r\n                           <tr>\r\n                                <td class="col-sm-4 col-md-4 input-sm">Landmark</td>\r\n                                <td class="col-sm-8 col-md-8">\r\n                                    <input id="txtLandmark" type="text" class="form-control input-sm" data-bind="value: model.name" \r\n                                        required="required" data-role="validate" title="Landmark Name" data-content="Landmark is required"/></td>\r\n                            </tr>\r\n                          \r\n                            <tr>\r\n                                <td class="col-sm-4 col-md-4 input-sm">Is Active</td>\r\n                                <td class="col-sm-8 col-md-8">\r\n                                    <input type="radio" name="rbIsActive" value="1" data-bind="checked: model.isActive" />Yes\r\n                                    &nbsp;\r\n                                    <input type="radio" name="rbIsActive" value="0" data-bind="checked: model.isActive" />No </td>\r\n                            </tr>\r\n\r\n                            <tr>\r\n                                <td class="col-sm-4 col-md-4"></td>\r\n                                <td class="col-sm-8 col-md-8">\r\n                                    <button type="submit" class="btn btn-default">Save</button>\r\n                                    &nbsp;\r\n                                    <button type="button" class="jsCancel btn btn-default">Cancel</button>\r\n                                </td>\r\n                            </tr>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n\r\n            </form>\r\n\r\n            <div id="DetailRegion">\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n'}),define("text!CCTracking.WebClient/Admin/Landmark/LandmarkGrid.html",[],function(){return'<div>\r\n    <div id="gridTemplate">\r\n        <div class="panel panel-default">\r\n            <div class="panel-heading header-bold"><span class="glyphicon glyphicon-time"></span> View - Landmark List\r\n                <span class="pull-right"><a href="#landmark">Add New</a></span>\r\n            </div>\r\n            <div class="panel-body">\r\n                <table id="tblBus" class="table table-removeTopBorder table-condensed table-bordered table-hover table-striped form-group">\r\n                    <thead>\r\n                        <tr class="active">\r\n                            <th class="input-sm">Landmark</th>\r\n                             <th class="input-sm">Union Concil</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody></tbody>\r\n                    <tfoot>\r\n                        <tr class="active"><td colspan="5">&nbsp;</td></tr>\r\n                    </tfoot>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    \r\n    <script type="text/html" id="rowTemplate">\r\n        <td class="jsShowDetail  input-sm"><a href="#landmark?id=<%=id%>"><%=name%></a></td>\r\n        <td class="jsShowDetail"><%=ucDesc%></td>\r\n</script>\r\n</div>\r\n\r\n\r\n'});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Admin/Landmark/LandmarkView",["require","exports","../../Helper","marionette","jquery","knockout","text!./LandmarkTmpl.html","text!./LandmarkGrid.html"],function(e,t,n){var r=e("underscore"),i=e("text!./LandmarkTmpl.html"),s=e("text!./LandmarkGrid.html"),o,u=function(e){function t(t,n){e.call(this,t,n)}return __extends(t,e),t}(n.ViewModel);t.LandmarkViewModel=u;var a=function(e){function t(t){this.template=i,this.events={submit:"Save","click .jsCancel":"Cancel"},e.call(this,t)}return __extends(t,e),t.prototype.close=function(){},t.prototype.Cancel=function(){this.trigger("CancelForm")},t.prototype.TestFunction=function(){alert("test function")},t.prototype.Save=function(e){e.preventDefault(),this.trigger("SaveLandmark")},t}(n.Views.MvvmView);t.LandmarkView=a;var f=function(e){function t(t){t.itemView=l,t.template=s.getOuterHTML("#gridTemplate"),t.itemViewContainer="tbody",e.call(this,t)}return __extends(t,e),t}(n.Views.CompositeView);t.LandmarkCollectionView=f;var l=function(e){function t(t){t||(t={}),t.template=s.getOuterHTML("#rowTemplate"),t.tagName="tr",t.className="jsRowClick",t.events={"click .jsShowDetail":"ShowDetail"},e.call(this,t)}return __extends(t,e),t.prototype.ShowDetail=function(){this.trigger("ShowDetail")},t}(n.Views.ItemView);t.LandmarkItemView=l});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Dtos/LandmarkDto",["require","exports","backbone"],function(e,t){(function(e){var t=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.default=function(){return{id:"",UcId:"",name:"",isActive:"",createdBy:"",createdDate:"",modifiedBy:"",modifiedDate:""}},t}(Backbone.Model);e.LandmarkDto=t;var n=function(e){function n(n){this.model=t,e.call(this,n)}return __extends(n,e),n}(Backbone.Collection);e.LandmarkCollection=n})(t.Models||(t.Models={}));var n=t.Models});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/DAL/Landmark",["require","exports","CCTracking.WebClient/DAL/AjaxRequest","CCTracking.WebClient/Dtos/LandmarkDto"],function(e,t,n,r){function s(){var e=new i;return e.doAjaxRequest(null,"GET","Landmark")}function o(e){var t=new i;return t.doAjaxRequest(e,"POST","Landmark")}function u(){var e=new i;return e.doAjaxRequest(null,"GET","Landmark?a=a")}function a(e){var t=new i;return t.doAjaxRequest(null,"GET","Landmark?id="+e)}var i=function(e){function t(){e.call(this,this)}return __extends(t,e),t.prototype.getResponse=function(){return new r.Models.LandmarkDto},t}(n.BaseDto);t.LandmarkDal=i,t.Load=s,t.Save=o,t.GetAll=u,t.GetById=a});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Admin/Landmark/LandmarkCtrl",["require","exports","../../App","../../Helper","./LandmarkView","../../Dtos/LandmarkDto","../../DAL/Landmark","marionette","jquery","knockout","text!./LandmarkTmpl.html"],function(e,t,n,r,i,s,o){var u=e("underscore"),a=e("knockout"),f=e("knockback"),l=function(e){function t(){e.call(this),this.app=n.Application.getInstance(),this.backboneModel=new s.Models.LandmarkDto,this.landmarkViewModel=new i.LandmarkViewModel(this.backboneModel,this),this.landmarkView=new i.LandmarkView({viewModel:this.landmarkViewModel}),this.collection=new s.Models.LandmarkCollection({}),this.collectionView=new i.LandmarkCollectionView({collection:this.collection})}return __extends(t,e),t.prototype.Show=function(){var e=this,t=window.location.href;if(t.indexOf("id=")>-1){var n=t.substring(t.indexOf("id=")+3,t.length),r=o.GetById(n);r.done(function(t){return e.GetByIdCompleted(t)})}else this.Load()},t.prototype.Load=function(){var e=this,t=JSON.parse(localStorage.getItem("lookupResponse")),n=this.backboneModel;this.landmarkViewModel.bbModel=n,this.landmarkViewModel.model=f.viewModel(n),n.set("name",""),n.set("unionCouncilList",t.unionCouncil),n.set("unionCouncilIdSelected",""),n.set("isActive",""),this.landmarkViewModel=new i.LandmarkViewModel(n,this),this.landmarkView=new i.LandmarkView({viewModel:this.landmarkViewModel}),this.landmarkView.on("SaveLandmark",function(){return e.Save(e.landmarkViewModel.bbModel)}),this.landmarkView.on("CancelForm",function(){return e.Cancel()}),this.app.MainRegion.show(this.landmarkView)},t.prototype.GetAll=function(){var e=this,t=o.GetAll();t.done(function(t){return e.GetAllCompleted(t)})},t.prototype.GetByIdCompleted=function(e){var t=this;this.backboneModel=new Backbone.Model(e.landmarkModel);var n=this.backboneModel;this.UIBinding(n),this.landmarkView=new i.LandmarkView({viewModel:this.landmarkViewModel}),this.landmarkView.on("SaveLandmark",function(){return t.Save(t.landmarkViewModel.bbModel)}),this.landmarkView.on("CancelForm",function(){return t.Cancel()}),this.app.MainRegion.show(this.landmarkView)},t.prototype.Save=function(e){var t=this,n=this.app.request("AppGlobalSetting");e.set("modifiedBy",n.get("Id")),e.set("ucId",e.get("unionCouncilIdSelected").id),e.set("isActive",e.get("isActive")=="1"?!0:!1);var r=o.Save(this.GetMinimalRequest(e));r.done(function(e){return t.SaveCompleted(e)})},t.prototype.GetMinimalRequest=function(e){var t=new s.Models.LandmarkDto;return t.set("id",e.get("id")),t.set("ucId",e.get("ucId")),t.set("name",e.get("name")),t.set("isActive",e.get("isActive")),t.set("createdBy",e.get("createdBy")),t.set("createdDate",e.get("createdDate")),t.set("modifiedBy",e.get("modifiedBy")),t.set("modifiedDate",e.get("modifiedDate")),t},t.prototype.GetAllCompleted=function(e){var t=this;this.collection.reset(e.landmarkList),this.collectionView=new i.LandmarkCollectionView({collection:this.collection}),this.collectionView.on("itemview:ShowDetail",function(e){return t.GetByIdCompleted(e.model)}),this.app.MainRegion.show(this.collectionView)},t.prototype.SaveCompleted=function(e){var t=new Backbone.Model(e);t.get("errorMessage")!=undefined&&t.get("errorMessage").trim()!=""?r.ShowModalPopup("danger","Landmark","Due to some technical reason Landmark have not been saved successfully!<br> Pelase try later"):(r.ShowModalPopup("success","Landmark","Record has been saved successfully with Landmark ID : "+e.id),this.Cancel())},t.prototype.Cancel=function(){window.location.href="#viewLandmark"},t.prototype.UIBinding=function(e){var t=JSON.parse(localStorage.getItem("lookupResponse"));e.set("unionCouncilList",t.unionCouncil);var n=u.filter(t.unionCouncil,function(t){return t.id==e.get("ucId")});e.set("unionCouncilIdSelected",n[0]),e.set("isActive",e.get("isActive")?"1":"0"),this.landmarkViewModel.bbModel=e,this.landmarkViewModel.model=f.viewModel(e),a.cleanNode($(this.landmarkView.el)[0]),a.applyBindings(this.landmarkViewModel,this.landmarkView.el)},t}(r.Controller);t.LandmarkCtrl=l}),define("text!CCTracking.WebClient/Admin/PaymentType/PaymentTypeTmpl.html",[],function(){return'<div>\r\n    <div class="panel panel-default">\r\n        <div class="panel-heading header-bold"><span class="glyphicon glyphicon-briefcase"></span>&nbsp;Payment Type Information</div>\r\n        <div class="panel-body">\r\n            <form id="form1">\r\n                <div class="panel panel-default">\r\n\r\n                    <div class="panel-body">\r\n                        <table class="table table-removeTopBorder table-condensed table-hover form-group">\r\n                            <tr>\r\n                                <td class="col-sm-4 col-md-4 input-sm">Payment Type</td>\r\n                                <td class="col-sm-8 col-md-8">\r\n                                    <input id="txtGraveyard" type="text" class="form-control input-sm" data-bind="value: model.name" \r\n                                        required="required" data-role="validate" title="Payment Type" data-content="payment Type is required"/></td>\r\n                            </tr>\r\n\r\n                            <tr>\r\n                                <td class="col-sm-4 col-md-4 input-sm">Is Active</td>\r\n                                <td class="col-sm-8 col-md-8">\r\n                                    <input type="radio" name="rbIsActive" value="1" data-bind="checked: model.isActive" />Yes\r\n                                    &nbsp;\r\n                                    <input type="radio" name="rbIsActive" value="0" data-bind="checked: model.isActive" />No </td>\r\n                            </tr>\r\n\r\n                            <tr>\r\n                                <td class="col-sm-4 col-md-4"></td>\r\n                                <td class="col-sm-8 col-md-8">\r\n                                    <button type="submit" class="btn btn-default">Save</button>\r\n                                    &nbsp;\r\n                                    <button type="button" class="jsCancel btn btn-default">Cancel</button>\r\n                                </td>\r\n                            </tr>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n\r\n            </form>\r\n\r\n            <div id="DetailRegion">\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n'}),define("text!CCTracking.WebClient/Admin/PaymentType/PaymentTypeGrid.html",[],function(){return'<div>\r\n    <div id="gridTemplate">\r\n        <div class="panel panel-default">\r\n            <div class="panel-heading header-bold"><span class="glyphicon glyphicon-time"></span> View - Payment Type List\r\n                <span class="pull-right"><a href="#paymentType">Add New</a></span>\r\n            </div>\r\n            <div class="panel-body">\r\n                <table id="tblBus" class="table table-removeTopBorder table-condensed table-bordered table-hover table-striped form-group">\r\n                    <thead>\r\n                        <tr class="active">\r\n                            <th class="input-sm">Payment Type</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody></tbody>\r\n                    <tfoot>\r\n                        <tr class="active"><td colspan="5">&nbsp;</td></tr>\r\n                    </tfoot>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    \r\n    <script type="text/html" id="rowTemplate">\r\n        <td class="jsShowDetail  input-sm"><a href="#paymentType?id=<%=id%>"><%=name%></a></td>\r\n</script>\r\n</div>\r\n\r\n\r\n'});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Admin/PaymentType/PaymentTypeView",["require","exports","../../Helper","marionette","jquery","knockout","text!./PaymentTypeTmpl.html","text!./PaymentTypeGrid.html"],function(e,t,n){var r=e("underscore"),i=e("text!./PaymentTypeTmpl.html"),s=e("text!./PaymentTypeGrid.html"),o,u=function(e){function t(t,n){e.call(this,t,n)}return __extends(t,e),t}(n.ViewModel);t.PaymentTypeViewModel=u;var a=function(e){function t(t){this.template=i,this.events={submit:"Save","click .jsCancel":"Cancel"},e.call(this,t)}return __extends(t,e),t.prototype.close=function(){},t.prototype.Cancel=function(){this.trigger("CancelForm")},t.prototype.TestFunction=function(){alert("test function")},t.prototype.Save=function(e){e.preventDefault(),this.trigger("SavePaymentType")},t}(n.Views.MvvmView);t.PaymentTypeView=a;var f=function(e){function t(t){t.itemView=l,t.template=s.getOuterHTML("#gridTemplate"),t.itemViewContainer="tbody",e.call(this,t)}return __extends(t,e),t}(n.Views.CompositeView);t.PaymentTypeCollectionView=f;var l=function(e){function t(t){t||(t={}),t.template=s.getOuterHTML("#rowTemplate"),t.tagName="tr",t.className="jsRowClick",t.events={"click .jsShowDetail":"ShowDetail"},e.call(this,t)}return __extends(t,e),t.prototype.ShowDetail=function(){this.trigger("ShowDetail")},t}(n.Views.ItemView);t.PaymentTypeItemView=l});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Dtos/PaymentTypeDto",["require","exports","backbone"],function(e,t){(function(e){var t=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.default=function(){return{id:"",name:"",isActive:"",createdBy:"",createdDate:"",modifiedBy:"",modifiedDate:""}},t}(Backbone.Model);e.PaymentTypeDto=t;var n=function(e){function n(n){this.model=t,e.call(this,n)}return __extends(n,e),n}(Backbone.Collection);e.PaymentTypeCollection=n})(t.Models||(t.Models={}));var n=t.Models});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/DAL/PaymentType",["require","exports","CCTracking.WebClient/DAL/AjaxRequest","CCTracking.WebClient/Dtos/PaymentTypeDto"],function(e,t,n,r){function s(){var e=new i;return e.doAjaxRequest(null,"GET","PaymentType")}function o(e){var t=new i;return t.doAjaxRequest(e,"POST","PaymentType")}function u(){var e=new i;return e.doAjaxRequest(null,"GET","PaymentType?a=a")}function a(e){var t=new i;return t.doAjaxRequest(null,"GET","PaymentType?id="+e)}var i=function(e){function t(){e.call(this,this)}return __extends(t,e),t.prototype.getResponse=function(){return new r.Models.PaymentTypeDto},t}(n.BaseDto);t.PaymentTypeDal=i,t.Load=s,t.Save=o,t.GetAll=u,t.GetById=a});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Admin/PaymentType/PaymentTypeCtrl",["require","exports","../../App","../../Helper","./PaymentTypeView","../../Dtos/PaymentTypeDto","../../DAL/PaymentType","marionette","jquery","knockout","text!./PaymentTypeTmpl.html"],function(e,t,n,r,i,s,o){var u=e("underscore"),a=e("knockout"),f=e("knockback"),l=function(e){function t(){e.call(this),this.app=n.Application.getInstance(),this.backboneModel=new s.Models.PaymentTypeDto,this.paymentTypeViewModel=new i.PaymentTypeViewModel(this.backboneModel,this),this.paymentTypeView=new i.PaymentTypeView({viewModel:this.paymentTypeViewModel}),this.collection=new s.Models.PaymentTypeCollection({}),this.collectionView=new i.PaymentTypeCollectionView({collection:this.collection})}return __extends(t,e),t.prototype.Show=function(){var e=this,t=window.location.href;if(t.indexOf("id=")>-1){var n=t.substring(t.indexOf("id=")+3,t.length),r=o.GetById(n);r.done(function(t){return e.GetByIdCompleted(t)})}else this.Load()},t.prototype.Load=function(){var e=this,t=this.backboneModel;this.paymentTypeViewModel.bbModel=t,this.paymentTypeViewModel.model=f.viewModel(t),t.set("name",""),t.set("isActive",""),this.paymentTypeViewModel=new i.PaymentTypeViewModel(t,this),this.paymentTypeView=new i.PaymentTypeView({viewModel:this.paymentTypeViewModel}),this.paymentTypeView.on("SavePaymentType",function(){return e.Save(e.paymentTypeViewModel.bbModel)}),this.paymentTypeView.on("CancelForm",function(){return e.Cancel()}),this.app.MainRegion.show(this.paymentTypeView)},t.prototype.GetAll=function(){var e=this,t=o.GetAll();t.done(function(t){return e.GetAllCompleted(t)})},t.prototype.GetByIdCompleted=function(e){var t=this;this.backboneModel=new Backbone.Model(e.paymentTypeModel);var n=this.backboneModel;this.UIBinding(n),this.paymentTypeView=new i.PaymentTypeView({viewModel:this.paymentTypeViewModel}),this.paymentTypeView.on("SavePaymentType",function(){return t.Save(t.paymentTypeViewModel.bbModel)}),this.paymentTypeView.on("CancelForm",function(){return t.Cancel()}),this.app.MainRegion.show(this.paymentTypeView)},t.prototype.Save=function(e){var t=this,n=this.app.request("AppGlobalSetting");e.set("modifiedBy",n.get("Id")),e.set("isActive",e.get("isActive")=="1"?!0:!1);var r=o.Save(e);r.done(function(e){return t.SaveCompleted(e)})},t.prototype.GetAllCompleted=function(e){var t=this;this.collection.reset(e.paymentTypeList),this.collectionView=new i.PaymentTypeCollectionView({collection:this.collection}),this.collectionView.on("itemview:ShowDetail",function(e){return t.GetByIdCompleted(e.model)}),this.app.MainRegion.show(this.collectionView)},t.prototype.SaveCompleted=function(e){var t=new Backbone.Model(e);t.get("errorMessage")!=undefined&&t.get("errorMessage").trim()!=""?r.ShowModalPopup("danger","Booking","Due to some technical reason Payment Type have not been saved successfully!<br> Pelase try later"):(r.ShowModalPopup("success","Payment Type","Record has been saved successfully with PaymentType ID : "+e.id),this.Cancel())},t.prototype.Cancel=function(){window.location.href="#viewPaymentType"},t.prototype.UIBinding=function(e){e.set("isActive",e.get("isActive")?"1":"0"),this.paymentTypeViewModel.bbModel=e,this.paymentTypeViewModel.model=f.viewModel(e),a.cleanNode($(this.paymentTypeView.el)[0]),a.applyBindings(this.paymentTypeViewModel,this.paymentTypeView.el)},t}(r.Controller);t.PaymentTypeCtrl=l}),define("text!CCTracking.WebClient/Admin/RefundType/RefundTypeTmpl.html",[],function(){return'<div>\r\n    <div class="panel panel-default">\r\n        <div class="panel-heading header-bold"><span class="glyphicon glyphicon-briefcase"></span>&nbsp;Refund Type Information</div>\r\n        <div class="panel-body">\r\n            <form id="form1">\r\n                <div class="panel panel-default">\r\n\r\n                    <div class="panel-body">\r\n                        <table class="table table-removeTopBorder table-condensed table-hover form-group">\r\n                            <tr>\r\n                                <td class="col-sm-4 col-md-4 input-sm">Refund Type</td>\r\n                                <td class="col-sm-8 col-md-8">\r\n                                    <input id="txtGraveyard" type="text" class="form-control input-sm" data-bind="value: model.name" \r\n                                        required="required" data-role="validate" title="Refund Type" data-content="Refund Type is required"/></td>\r\n                            </tr>\r\n\r\n                            <tr>\r\n                                <td class="col-sm-4 col-md-4 input-sm">Is Active</td>\r\n                                <td class="col-sm-8 col-md-8">\r\n                                    <input type="radio" name="rbIsActive" value="1" data-bind="checked: model.isActive" />Yes\r\n                                    &nbsp;\r\n                                    <input type="radio" name="rbIsActive" value="0" data-bind="checked: model.isActive" />No </td>\r\n                            </tr>\r\n\r\n                            <tr>\r\n                                <td class="col-sm-4 col-md-4"></td>\r\n                                <td class="col-sm-8 col-md-8">\r\n                                    <button type="submit" class="btn btn-default">Save</button>\r\n                                    &nbsp;\r\n                                    <button type="button" class="jsCancel btn btn-default">Cancel</button>\r\n                                </td>\r\n                            </tr>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n\r\n            </form>\r\n\r\n            <div id="DetailRegion">\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n'}),define("text!CCTracking.WebClient/Admin/RefundType/RefundTypeGrid.html",[],function(){return'<div>\r\n    <div id="gridTemplate">\r\n        <div class="panel panel-default">\r\n            <div class="panel-heading header-bold"><span class="glyphicon glyphicon-time"></span> View - Refund Type List\r\n                <span class="pull-right"><a href="#refundType">Add New</a></span>\r\n            </div>\r\n            <div class="panel-body">\r\n                <table id="tblBus" class="table table-removeTopBorder table-condensed table-bordered table-hover table-striped form-group">\r\n                    <thead>\r\n                        <tr class="active">\r\n                            <th class="input-sm">Refund Type</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody></tbody>\r\n                    <tfoot>\r\n                        <tr class="active"><td colspan="5">&nbsp;</td></tr>\r\n                    </tfoot>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    \r\n    <script type="text/html" id="rowTemplate">\r\n        <td class="jsShowDetail  input-sm"><a href="#refundType?id=<%=id%>"><%=name%></a></td>\r\n              \r\n</script>\r\n</div>\r\n\r\n\r\n'});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Admin/RefundType/RefundTypeView",["require","exports","../../Helper","marionette","jquery","knockout","text!./RefundTypeTmpl.html","text!./RefundTypeGrid.html"],function(e,t,n){var r=e("underscore"),i=e("text!./RefundTypeTmpl.html"),s=e("text!./RefundTypeGrid.html"),o,u=function(e){function t(t,n){e.call(this,t,n)}return __extends(t,e),t}(n.ViewModel);t.RefundTypeViewModel=u;var a=function(e){function t(t){this.template=i,this.events={submit:"Save","click .jsCancel":"Cancel"},e.call(this,t)}return __extends(t,e),t.prototype.close=function(){},t.prototype.Cancel=function(){this.trigger("CancelForm")},t.prototype.TestFunction=function(){alert("test function")},t.prototype.Save=function(e){e.preventDefault(),this.trigger("SaveRefundType")},t}(n.Views.MvvmView);t.RefundTypeView=a;var f=function(e){function t(t){t.itemView=l,t.template=s.getOuterHTML("#gridTemplate"),t.itemViewContainer="tbody",e.call(this,t)}return __extends(t,e),t}(n.Views.CompositeView);t.RefundTypeCollectionView=f;var l=function(e){function t(t){t||(t={}),t.template=s.getOuterHTML("#rowTemplate"),t.tagName="tr",t.className="jsRowClick",t.events={"click .jsShowDetail":"ShowDetail"},e.call(this,t)}return __extends(t,e),t.prototype.ShowDetail=function(){this.trigger("ShowDetail")},t}(n.Views.ItemView);t.RefundTypeItemView=l});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Dtos/RefundTypeDto",["require","exports","backbone"],function(e,t){(function(e){var t=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.default=function(){return{id:"",name:"",isActive:"",createdBy:"",createdDate:"",modifiedBy:"",modifiedDate:""}},t}(Backbone.Model);e.RefundTypeDto=t;var n=function(e){function n(n){this.model=t,e.call(this,n)}return __extends(n,e),n}(Backbone.Collection);e.RefundTypeCollection=n})(t.Models||(t.Models={}));var n=t.Models});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/DAL/RefundType",["require","exports","CCTracking.WebClient/DAL/AjaxRequest","CCTracking.WebClient/Dtos/RefundTypeDto"],function(e,t,n,r){function s(){var e=new i;return e.doAjaxRequest(null,"GET","RefundType")}function o(e){var t=new i;return t.doAjaxRequest(e,"POST","RefundType")}function u(){var e=new i;return e.doAjaxRequest(null,"GET","RefundType?a=a")}function a(e){var t=new i;return t.doAjaxRequest(null,"GET","RefundType?id="+e)}var i=function(e){function t(){e.call(this,this)}return __extends(t,e),t.prototype.getResponse=function(){return new r.Models.RefundTypeDto},t}(n.BaseDto);t.RefundTypeDal=i,t.Load=s,t.Save=o,t.GetAll=u,t.GetById=a});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Admin/RefundType/RefundTypeCtrl",["require","exports","../../App","../../Helper","./RefundTypeView","../../Dtos/RefundTypeDto","../../DAL/RefundType","marionette","jquery","knockout","text!./RefundTypeTmpl.html"],function(e,t,n,r,i,s,o){var u=e("underscore"),a=e("knockout"),f=e("knockback"),l=function(e){function t(){e.call(this),this.app=n.Application.getInstance(),this.backboneModel=new s.Models.RefundTypeDto,this.refundTypeViewModel=new i.RefundTypeViewModel(this.backboneModel,this),this.refundTypeView=new i.RefundTypeView({viewModel:this.refundTypeViewModel}),this.collection=new s.Models.RefundTypeCollection({}),this.collectionView=new i.RefundTypeCollectionView({collection:this.collection})}return __extends(t,e),t.prototype.Show=function(){var e=this,t=window.location.href;if(t.indexOf("id=")>-1){var n=t.substring(t.indexOf("id=")+3,t.length),r=o.GetById(n);r.done(function(t){return e.GetByIdCompleted(t)})}else this.Load()},t.prototype.Load=function(){var e=this,t=this.backboneModel;this.refundTypeViewModel.bbModel=t,this.refundTypeViewModel.model=f.viewModel(t),t.set("name",""),t.set("isActive",""),this.refundTypeViewModel=new i.RefundTypeViewModel(t,this),this.refundTypeView=new i.RefundTypeView({viewModel:this.refundTypeViewModel}),this.refundTypeView.on("SaveRefundType",function(){return e.Save(e.refundTypeViewModel.bbModel)}),this.refundTypeView.on("CancelForm",function(){return e.Cancel()}),this.app.MainRegion.show(this.refundTypeView)},t.prototype.GetAll=function(){var e=this,t=o.GetAll();t.done(function(t){return e.GetAllCompleted(t)})},t.prototype.GetByIdCompleted=function(e){var t=this;this.backboneModel=new Backbone.Model(e.refundTypeModel);var n=this.backboneModel;this.UIBinding(n),this.refundTypeView=new i.RefundTypeView({viewModel:this.refundTypeViewModel}),this.refundTypeView.on("SaveRefundType",function(){return t.Save(t.refundTypeViewModel.bbModel)}),this.refundTypeView.on("CancelForm",function(){return t.Cancel()}),this.app.MainRegion.show(this.refundTypeView)},t.prototype.Save=function(e){var t=this,n=this.app.request("AppGlobalSetting");e.set("modifiedBy",n.get("Id")),e.set("isActive",e.get("isActive")=="1"?!0:!1);var r=o.Save(e);r.done(function(e){return t.SaveCompleted(e)})},t.prototype.GetAllCompleted=function(e){var t=this;this.collection.reset(e.refundTypeList),this.collectionView=new i.RefundTypeCollectionView({collection:this.collection}),this.collectionView.on("itemview:ShowDetail",function(e){return t.GetByIdCompleted(e.model)}),this.app.MainRegion.show(this.collectionView)},t.prototype.SaveCompleted=function(e){var t=new Backbone.Model(e);t.get("errorMessage")!=undefined&&t.get("errorMessage").trim()!=""?r.ShowModalPopup("danger","Refund Type","Due to some technical reason Refund Type have not been saved successfully!<br> Pelase try later"):(r.ShowModalPopup("success","Refund Type","Record has been saved successfully with RefundType ID : "+e.id),this.Cancel())},t.prototype.Cancel=function(){window.location.href="#viewRefundType"},t.prototype.UIBinding=function(e){e.set("isActive",e.get("isActive")?"1":"0"),this.refundTypeViewModel.bbModel=e,this.refundTypeViewModel.model=f.viewModel(e),a.cleanNode($(this.refundTypeView.el)[0]),a.applyBindings(this.refundTypeViewModel,this.refundTypeView.el)},t}(r.Controller);t.RefundTypeCtrl=l}),define("text!CCTracking.WebClient/Admin/TrackingDevice/TrackingDeviceTmpl.html",[],function(){return'<div>\r\n    <div class="panel panel-default">\r\n        <div class="panel-heading header-bold"><span class="glyphicon glyphicon-briefcase"></span>&nbsp;Tracking Device Information</div>\r\n        <div class="panel-body">\r\n            <form id="form1">\r\n                <div class="panel panel-default">\r\n\r\n                    <div class="panel-body">\r\n                        <table class="table table-removeTopBorder table-condensed table-hover form-group">\r\n                            <tr>\r\n                                <td class="col-sm-4 col-md-4 input-sm">Tracking Device</td>\r\n                                <td class="col-sm-8 col-md-8">\r\n                                    <input id="txtGraveyard" type="text" class="form-control input-sm" data-bind="value: model.trackingNo" \r\n                                        required="required" data-role="validate" title="Tracking Device" data-content="Tracking Device is required"/></td>\r\n                            </tr>\r\n\r\n                            <tr>\r\n                                <td class="col-sm-4 col-md-4 input-sm">Is Active</td>\r\n                                <td class="col-sm-8 col-md-8">\r\n                                    <input type="radio" name="rbIsActive" value="1" data-bind="checked: model.isActive" />Yes\r\n                                    &nbsp;\r\n                                    <input type="radio" name="rbIsActive" value="0" data-bind="checked: model.isActive" />No </td>\r\n                            </tr>\r\n\r\n                            <tr>\r\n                                <td class="col-sm-4 col-md-4"></td>\r\n                                <td class="col-sm-8 col-md-8">\r\n                                    <button type="submit" class="btn btn-default">Save</button>\r\n                                    &nbsp;\r\n                                    <button type="button" class="jsCancel btn btn-default">Cancel</button>\r\n                                </td>\r\n                            </tr>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n\r\n            </form>\r\n\r\n            <div id="DetailRegion">\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n'}),define("text!CCTracking.WebClient/Admin/TrackingDevice/TrackingDeviceGrid.html",[],function(){return'<div>\r\n    <div id="gridTemplate">\r\n        <div class="panel panel-default">\r\n            <div class="panel-heading header-bold"><span class="glyphicon glyphicon-time"></span> View - Tracking Device List\r\n                <span class="pull-right"><a href="#trackingDevice">Add New</a></span>\r\n            </div>\r\n            <div class="panel-body">\r\n                <table id="tblBus" class="table table-condensed table-bordered table-hover table-striped form-group">\r\n                    <thead>\r\n                        <tr class="active">\r\n                            <th class="input-sm">Tracking Device</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody></tbody>\r\n                    <tfoot>\r\n                        <tr class="active"><td colspan="5">&nbsp;</td></tr>\r\n                    </tfoot>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    \r\n    <script type="text/html" id="rowTemplate">\r\n        <td class="jsShowDetail  input-sm"><a href="#trackingDevice?id=<%=id%>"><%=trackingNo%></a></td>\r\n</script>\r\n</div>\r\n\r\n\r\n'});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Admin/TrackingDevice/TrackingDeviceView",["require","exports","../../Helper","marionette","jquery","knockout","text!./TrackingDeviceTmpl.html","text!./TrackingDeviceGrid.html"],function(e,t,n){var r=e("underscore"),i=e("text!./TrackingDeviceTmpl.html"),s=e("text!./TrackingDeviceGrid.html"),o,u=function(e){function t(t,n){e.call(this,t,n)}return __extends(t,e),t}(n.ViewModel);t.TrackingDeviceViewModel=u;var a=function(e){function t(t){this.template=i,this.events={submit:"Save","click .jsCancel":"Cancel"},e.call(this,t)}return __extends(t,e),t.prototype.close=function(){},t.prototype.Cancel=function(){this.trigger("CancelForm")},t.prototype.TestFunction=function(){alert("test function")},t.prototype.Save=function(e){e.preventDefault(),this.trigger("SaveTrackingDevice")},t}(n.Views.MvvmView);t.TrackingDeviceView=a;var f=function(e){function t(t){t.itemView=l,t.template=s.getOuterHTML("#gridTemplate"),t.itemViewContainer="tbody",e.call(this,t)}return __extends(t,e),t}(n.Views.CompositeView);t.TrackingDeviceCollectionView=f;var l=function(e){function t(t){t||(t={}),t.template=s.getOuterHTML("#rowTemplate"),t.tagName="tr",t.className="jsRowClick",t.events={"click .jsShowDetail":"ShowDetail"},e.call(this,t)}return __extends(t,e),t.prototype.ShowDetail=function(){this.trigger("ShowDetail")},t}(n.Views.ItemView);t.TrackingDeviceItemView=l});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Dtos/TrackingDeviceDto",["require","exports","backbone"],function(e,t){(function(e){var t=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.default=function(){return{id:"",trackingNo:"",isActive:"",createdBy:"",createdDate:"",modifiedBy:"",modifiedDate:""}},t}(Backbone.Model);e.TrackingDeviceDto=t;var n=function(e){function n(n){this.model=t,e.call(this,n)}return __extends(n,e),n}(Backbone.Collection);e.TrackingDeviceCollection=n})(t.Models||(t.Models={}));var n=t.Models});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/DAL/TrackingDevice",["require","exports","CCTracking.WebClient/DAL/AjaxRequest","CCTracking.WebClient/Dtos/TrackingDeviceDto"],function(e,t,n,r){function s(){var e=new i;return e.doAjaxRequest(null,"GET","TrackingDevice")}function o(e){var t=new i;return t.doAjaxRequest(e,"POST","TrackingDevice")}function u(){var e=new i;return e.doAjaxRequest(null,"GET","TrackingDevice?a=a")}function a(e){var t=new i;return t.doAjaxRequest(null,"GET","TrackingDevice?id="+e)}var i=function(e){function t(){e.call(this,this)}return __extends(t,e),t.prototype.getResponse=function(){return new r.Models.TrackingDeviceDto},t}(n.BaseDto);t.TrackingDeviceDal=i,t.Load=s,t.Save=o,t.GetAll=u,t.GetById=a});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Admin/TrackingDevice/TrackingDeviceCtrl",["require","exports","../../App","../../Helper","./TrackingDeviceView","../../Dtos/TrackingDeviceDto","../../DAL/TrackingDevice","marionette","jquery","knockout","text!./TrackingDeviceTmpl.html"],function(e,t,n,r,i,s,o){var u=e("underscore"),a=e("knockout"),f=e("knockback"),l=function(e){function t(){e.call(this),this.app=n.Application.getInstance(),this.backboneModel=new s.Models.TrackingDeviceDto,this.trackingDeviceViewModel=new i.TrackingDeviceViewModel(this.backboneModel,this),this.trackingDeviceView=new i.TrackingDeviceView({viewModel:this.trackingDeviceViewModel}),this.collection=new s.Models.TrackingDeviceCollection({}),this.collectionView=new i.TrackingDeviceCollectionView({collection:this.collection})}return __extends(t,e),t.prototype.Show=function(){var e=this,t=window.location.href;if(t.indexOf("id=")>-1){var n=t.substring(t.indexOf("id=")+3,t.length),r=o.GetById(n);r.done(function(t){return e.GetByIdCompleted(t)})}else this.Load()},t.prototype.Load=function(){var e=this,t=this.backboneModel;this.trackingDeviceViewModel.bbModel=t,this.trackingDeviceViewModel.model=f.viewModel(t),t.set("trackingNo",""),t.set("isActive",""),this.trackingDeviceViewModel=new i.TrackingDeviceViewModel(t,this),this.trackingDeviceView=new i.TrackingDeviceView({viewModel:this.trackingDeviceViewModel}),this.trackingDeviceView.on("SaveTrackingDevice",function(){return e.Save(e.trackingDeviceViewModel.bbModel)}),this.trackingDeviceView.on("CancelForm",function(){return e.Cancel()}),this.app.MainRegion.show(this.trackingDeviceView)},t.prototype.GetAll=function(){var e=this,t=o.GetAll();t.done(function(t){return e.GetAllCompleted(t)})},t.prototype.GetByIdCompleted=function(e){var t=this;this.backboneModel=new Backbone.Model(e.trackingDeviceModel);var n=this.backboneModel;this.UIBinding(n),this.trackingDeviceView=new i.TrackingDeviceView({viewModel:this.trackingDeviceViewModel}),this.trackingDeviceView.on("SaveTrackingDevice",function(){return t.Save(t.trackingDeviceViewModel.bbModel)}),this.trackingDeviceView.on("CancelForm",function(){return t.Cancel()}),this.app.MainRegion.show(this.trackingDeviceView)},t.prototype.Save=function(e){var t=this,n=this.app.request("AppGlobalSetting");e.set("modifiedBy",n.get("Id")),e.set("isActive",e.get("isActive")=="1"?!0:!1);var r=o.Save(e);r.done(function(e){return t.SaveCompleted(e)})},t.prototype.GetAllCompleted=function(e){var t=this;this.collection.reset(e.trackingDeviceList),this.collectionView=new i.TrackingDeviceCollectionView({collection:this.collection}),this.collectionView.on("itemview:ShowDetail",function(e){return t.GetByIdCompleted(e.model)}),this.app.MainRegion.show(this.collectionView)},t.prototype.SaveCompleted=function(e){var t=new Backbone.Model(e);t.get("errorMessage")!=undefined&&t.get("errorMessage").trim()!=""?r.ShowModalPopup("danger","Tracking Device","Due to some technical reason Tracking Device have not been saved successfully!<br> Pelase try later"):(r.ShowModalPopup("success","Tracking Device","Record has been saved successfully with TrackingDevice ID : "+e.id),this.Cancel())},t.prototype.Cancel=function(){window.location.href="#viewTrackingDevice"},t.prototype.UIBinding=function(e){e.set("isActive",e.get("isActive")?"1":"0"),this.trackingDeviceViewModel.bbModel=e,this.trackingDeviceViewModel.model=f.viewModel(e),a.cleanNode($(this.trackingDeviceView.el)[0]),a.applyBindings(this.trackingDeviceViewModel,this.trackingDeviceView.el)},t}(r.Controller);t.TrackingDeviceCtrl=l}),define("text!CCTracking.WebClient/Admin/VisitType/VisitTypeTmpl.html",[],function(){return'<div>\r\n    <div class="panel panel-default">\r\n        <div class="panel-heading header-bold"><span class="glyphicon glyphicon-briefcase"></span>&nbsp;Visit Type Information</div>\r\n        <div class="panel-body">\r\n            <form id="form1">\r\n                <div class="panel panel-default">\r\n\r\n                    <div class="panel-body">\r\n                        <table class="table table-removeTopBorder table-condensed table-hover form-group">\r\n                            <tr>\r\n                                <td class="col-sm-4 col-md-4 input-sm">Visit Type</td>\r\n                                <td class="col-sm-8 col-md-8">\r\n                                    <input id="txtGraveyard" type="text" class="form-control input-sm" data-bind="value: model.name" \r\n                                        required="required" data-role="validate" title="Visit Type" data-content="Visit Type is required"/></td>\r\n                            </tr>\r\n\r\n                            <tr>\r\n                                <td class="col-sm-4 col-md-4 input-sm">Is Active</td>\r\n                                <td class="col-sm-8 col-md-8">\r\n                                    <input type="radio" name="rbIsActive" value="1" data-bind="checked: model.isActive" />Yes\r\n                                    &nbsp;\r\n                                    <input type="radio" name="rbIsActive" value="0" data-bind="checked: model.isActive" />No </td>\r\n                            </tr>\r\n\r\n                            <tr>\r\n                                <td class="col-sm-4 col-md-4"></td>\r\n                                <td class="col-sm-8 col-md-8">\r\n                                    <button type="submit" class="btn btn-default">Save</button>\r\n                                    &nbsp;\r\n                                    <button type="button" class="jsCancel btn btn-default">Cancel</button>\r\n                                </td>\r\n                            </tr>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n\r\n            </form>\r\n\r\n            <div id="DetailRegion">\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n'}),define("text!CCTracking.WebClient/Admin/VisitType/VisitTypeGrid.html",[],function(){return'<div>\r\n    <div id="gridTemplate">\r\n        <div class="panel panel-default">\r\n            <div class="panel-heading header-bold"><span class="glyphicon glyphicon-time"></span> View - Visit Type List\r\n                <span class="pull-right"><a href="#visitType">Add New</a></span>\r\n            </div>\r\n            <div class="panel-body">\r\n                <table id="tblBus" class="table table-condensed table-bordered table-hover table-striped form-group">\r\n                    <thead>\r\n                        <tr class="active">\r\n                            <th class="input-sm">Visit Type</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody></tbody>\r\n                    <tfoot>\r\n                        <tr class="active"><td colspan="5">&nbsp;</td></tr>\r\n                    </tfoot>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    \r\n    <script type="text/html" id="rowTemplate">\r\n        <td class="jsShowDetail  input-sm"><a href="#visitType?id=<%=id%>"><%=name%></a></td>\r\n</script>\r\n</div>\r\n\r\n\r\n'});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Admin/VisitType/VisitTypeView",["require","exports","../../Helper","marionette","jquery","knockout","text!./VisitTypeTmpl.html","text!./VisitTypeGrid.html"],function(e,t,n){var r=e("underscore"),i=e("text!./VisitTypeTmpl.html"),s=e("text!./VisitTypeGrid.html"),o,u=function(e){function t(t,n){e.call(this,t,n)}return __extends(t,e),t}(n.ViewModel);t.VisitTypeViewModel=u;var a=function(e){function t(t){this.template=i,this.events={submit:"Save","click .jsCancel":"Cancel"},e.call(this,t)}return __extends(t,e),t.prototype.close=function(){},t.prototype.Cancel=function(){this.trigger("CancelForm")},t.prototype.TestFunction=function(){alert("test function")},t.prototype.Save=function(e){e.preventDefault(),this.trigger("SaveVisitType")},t}(n.Views.MvvmView);t.VisitTypeView=a;var f=function(e){function t(t){t.itemView=l,t.template=s.getOuterHTML("#gridTemplate"),t.itemViewContainer="tbody",e.call(this,t)}return __extends(t,e),t}(n.Views.CompositeView);t.VisitTypeCollectionView=f;var l=function(e){function t(t){t||(t={}),t.template=s.getOuterHTML("#rowTemplate"),t.tagName="tr",t.className="jsRowClick",t.events={"click .jsShowDetail":"ShowDetail"},e.call(this,t)}return __extends(t,e),t.prototype.ShowDetail=function(){this.trigger("ShowDetail")},t}(n.Views.ItemView);t.VisitTypeItemView=l});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Dtos/VisitTypeDto",["require","exports","backbone"],function(e,t){(function(e){var t=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.default=function(){return{id:"",name:"",isActive:"",createdBy:"",createdDate:"",modifiedBy:"",modifiedDate:""}},t}(Backbone.Model);e.VisitTypeDto=t;var n=function(e){function n(n){this.model=t,e.call(this,n)}return __extends(n,e),n}(Backbone.Collection);e.VisitTypeCollection=n})(t.Models||(t.Models={}));var n=t.Models});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/DAL/VisitType",["require","exports","CCTracking.WebClient/DAL/AjaxRequest","CCTracking.WebClient/Dtos/VisitTypeDto"],function(e,t,n,r){function s(){var e=new i;return e.doAjaxRequest(null,"GET","VisitType")}function o(e){var t=new i;return t.doAjaxRequest(e,"POST","VisitType")}function u(){var e=new i;return e.doAjaxRequest(null,"GET","VisitType?a=a")}function a(e){var t=new i;return t.doAjaxRequest(null,"GET","VisitType?id="+e)}var i=function(e){function t(){e.call(this,this)}return __extends(t,e),t.prototype.getResponse=function(){return new r.Models.VisitTypeDto},t}(n.BaseDto);t.VisitTypeDal=i,t.Load=s,t.Save=o,t.GetAll=u,t.GetById=a});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Admin/VisitType/VisitTypeCtrl",["require","exports","../../App","../../Helper","./VisitTypeView","../../Dtos/VisitTypeDto","../../DAL/VisitType","marionette","jquery","knockout","text!./VisitTypeTmpl.html"],function(e,t,n,r,i,s,o){var u=e("underscore"),a=e("knockout"),f=e("knockback"),l=function(e){function t(){e.call(this),this.app=n.Application.getInstance(),this.backboneModel=new s.Models.VisitTypeDto,this.visitTypeViewModel=new i.VisitTypeViewModel(this.backboneModel,this),this.visitTypeView=new i.VisitTypeView({viewModel:this.visitTypeViewModel}),this.collection=new s.Models.VisitTypeCollection({}),this.collectionView=new i.VisitTypeCollectionView({collection:this.collection})}return __extends(t,e),t.prototype.Show=function(){var e=this,t=window.location.href;if(t.indexOf("id=")>-1){var n=t.substring(t.indexOf("id=")+3,t.length),r=o.GetById(n);r.done(function(t){return e.GetByIdCompleted(t)})}else this.Load()},t.prototype.Load=function(){var e=this,t=this.backboneModel;this.visitTypeViewModel.bbModel=t,this.visitTypeViewModel.model=f.viewModel(t),t.set("name",""),t.set("isActive",""),this.visitTypeViewModel=new i.VisitTypeViewModel(t,this),this.visitTypeView=new i.VisitTypeView({viewModel:this.visitTypeViewModel}),this.visitTypeView.on("SaveVisitType",function(){return e.Save(e.visitTypeViewModel.bbModel)}),this.visitTypeView.on("CancelForm",function(){return e.Cancel()}),this.app.MainRegion.show(this.visitTypeView)},t.prototype.GetAll=function(){var e=this,t=o.GetAll();t.done(function(t){return e.GetAllCompleted(t)})},t.prototype.GetByIdCompleted=function(e){var t=this;this.backboneModel=new Backbone.Model(e.visitTypeModel);var n=this.backboneModel;this.UIBinding(n),this.visitTypeView=new i.VisitTypeView({viewModel:this.visitTypeViewModel}),this.visitTypeView.on("SaveVisitType",function(){return t.Save(t.visitTypeViewModel.bbModel)}),this.visitTypeView.on("CancelForm",function(){return t.Cancel()}),this.app.MainRegion.show(this.visitTypeView)},t.prototype.Save=function(e){var t=this,n=this.app.request("AppGlobalSetting");e.set("modifiedBy",n.get("Id")),e.set("isActive",e.get("isActive")=="1"?!0:!1);var r=o.Save(e);r.done(function(e){return t.SaveCompleted(e)})},t.prototype.GetAllCompleted=function(e){var t=this;this.collection.reset(e.visitTypeList),this.collectionView=new i.VisitTypeCollectionView({collection:this.collection}),this.collectionView.on("itemview:ShowDetail",function(e){return t.GetByIdCompleted(e.model)}),this.app.MainRegion.show(this.collectionView)},t.prototype.SaveCompleted=function(e){var t=new Backbone.Model(e);t.get("errorMessage")!=undefined&&t.get("errorMessage").trim()!=""?r.ShowModalPopup("danger","Visit Type","Due to some technical reason Visit Type have not been saved successfully!<br> Pelase try later"):(r.ShowModalPopup("success","Visit Type","Record has been saved successfully with VisitType ID : "+e.id),this.Cancel())},t.prototype.Cancel=function(){window.location.href="#viewVisitType"},t.prototype.UIBinding=function(e){e.set("isActive",e.get("isActive")?"1":"0"),this.visitTypeViewModel.bbModel=e,this.visitTypeViewModel.model=f.viewModel(e),a.cleanNode($(this.visitTypeView.el)[0]),a.applyBindings(this.visitTypeViewModel,this.visitTypeView.el)},t}(r.Controller);t.VisitTypeCtrl=l}),define("text!CCTracking.WebClient/Admin/NearestCentreSetup/NearestCentreSetupTmpl.html",[],function(){return'<div>\r\n    <div class="panel panel-default">\r\n        <div class="panel-heading header-bold"><span class="fa fa-institution"></span>&nbsp;Nearest Centre Setup</div>\r\n        <div class="panel-body">\r\n            <form id="form1">\r\n                <div class="panel panel-default">\r\n\r\n                    <div class="panel-body">\r\n                        <table class="table table-removeTopBorder table-condensed table-hover form-group">\r\n                            <tr>\r\n                                <td class="col-sm-4 col-md-4 input-sm">Alkhidmat Centre</td>\r\n                                <td class="col-sm-8 col-md-8">\r\n                                    <select id="ddlCentre" class="form-control input-sm"\r\n                                        data-bind="options: model.alkhidmatCentreList, optionsText:\'description\', value:model.alkhidmatCentreSelected" >\r\n                                    </select></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td class="col-sm-4 col-md-4 input-sm">Nearest Alkhidmat Center</td>\r\n                                <td class="col-sm-8 col-md-8">\r\n                                    <select id="ddlNearestCentre" class="form-control input-sm"\r\n                                        data-bind="options: model.alkhidmatCentreList, optionsText:\'description\', value:model.nearestCentreSelected" >\r\n                                    </select></td>\r\n                            </tr>\r\n                          <tr>\r\n                                <td class="col-sm-4 col-md-4 input-sm">Nearest Level</td>\r\n                                <td> <input id="txtNearestLevel" type="text" class="form-control input-sm" data-bind="value: model.nearestLevel" \r\n                                        required="required" data-role="validate" title="Nearest Level" data-content="Nearest Level is required"/></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td class="col-sm-4 col-md-4 input-sm">Is Active</td>\r\n                                <td class="col-sm-8 col-md-8">\r\n                                    <input type="radio" name="rbIsActive" value="1" data-bind="checked: model.isActive" />Yes\r\n                                    &nbsp;\r\n                                    <input type="radio" name="rbIsActive" value="0" data-bind="checked: model.isActive" />No </td>\r\n                            </tr>\r\n\r\n                            <tr>\r\n                                <td class="col-sm-4 col-md-4"></td>\r\n                                <td class="col-sm-8 col-md-8">\r\n                                    <button type="submit" class="btn btn-default">Save</button>\r\n                                    &nbsp;\r\n                                    <button type="button" class="jsCancel btn btn-default">Cancel</button>\r\n                                </td>\r\n                            </tr>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n\r\n            </form>\r\n\r\n            <div id="DetailRegion">\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n'}),define("text!CCTracking.WebClient/Admin/NearestCentreSetup/NearestCentreSetupGrid.html",[],function(){return'<div>\r\n    <div id="gridTemplate">\r\n         <div class="panel panel-default">\r\n            <div class="panel-heading header-bold"><span class="fa fa-institution"></span>&nbsp; View - Neareset Centre List\r\n                <span class="pull-right"><a href="#nearestCentreSetup">Add New</a></span>\r\n            </div>\r\n            <div class="panel-body">\r\n                 <div id="SearchPanel" class="pull-right">\r\n                    <form class="navbar-form navbar-left" role="search">\r\n                        <div class="form-group">\r\n                            Alkhidmat Center\r\n                                    <select id="ddlCentre" class="form-control input-sm"\r\n                                        data-bind="options: alkhidmatCentreList, optionsText:\'description\', value:alkhidmatCentreSelected" >\r\n                                    </select>\r\n                        </div>\r\n                            <button type="button" class="jsSearch btn btn-default">Search</button>\r\n                        </form>\r\n                </div>\r\n                <table id="tblBus" class="table table-removeTopBorder table-condensed table-bordered table-hover table-striped form-group">\r\n                    <thead>\r\n                        <tr class="active">\r\n                            <th class="input-sm">Centre Name</th>\r\n                            <th class="input-sm">Nearest Centre Name</th>\r\n                            <th class="input-sm">Nearest Level</th>\r\n                            \r\n                        </tr>\r\n                    </thead>\r\n                    <tbody></tbody>\r\n                    <tfoot>\r\n                        <tr class="active"><td colspan="3">&nbsp;</td></tr>\r\n                    </tfoot>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    \r\n     <script type="text/html" id="rowTemplate">\r\n        <td class="jsShowDetail input-sm"><a href="#nearestCentreSetup?id=<%=id%>"><%=centreName %></a></td>\r\n        <td class="input-sm"><%=nearestCentreName%></td>\r\n         <td class="input-sm"><%=nearestLevel%></td>\r\n</script>\r\n</div>\r\n\r\n\r\n'});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Admin/NearestCentreSetup/NearestCentreSetupView",["require","exports","../../Helper","marionette","jquery","knockout","text!./NearestCentreSetupTmpl.html","text!./NearestCentreSetupGrid.html"],function(e,t,n){var r=e("underscore"),i=e("text!./NearestCentreSetupTmpl.html"),s=e("text!./NearestCentreSetupGrid.html"),o,u=function(e){function t(t,n){e.call(this,t,n)}return __extends(t,e),t}(n.ViewModel);t.NearestCentreSetupViewModel=u;var a=function(e){function t(t){this.template=i,this.events={submit:"Save","click .jsCancel":"Cancel"},e.call(this,t)}return __extends(t,e),t.prototype.close=function(){},t.prototype.Cancel=function(){this.trigger("CancelForm")},t.prototype.TestFunction=function(){alert("test function")},t.prototype.Save=function(e){e.preventDefault(),this.trigger("SaveNearestCentreSetup")},t}(n.Views.MvvmView);t.NearestCentreSetupView=a;var f=function(e){function t(t){t.itemView=l,t.template=s.getOuterHTML("#gridTemplate"),t.itemViewContainer="tbody",this.events={"click .jsSearch":"Search","click .jsCancel":"Cancel"},e.call(this,t)}return __extends(t,e),t.prototype.Search=function(e){e.preventDefault(),this.trigger("Event:SearchNearestCentre",this.model.get("alkhidmatCentreSelected").id)},t}(n.Views.CompositeView);t.NearestCentreSetupCollectionView=f;var l=function(e){function t(t){t||(t={}),t.template=s.getOuterHTML("#rowTemplate"),t.tagName="tr",t.className="jsRowClick",t.events={"click .jsShowDetail":"ShowDetail"},e.call(this,t)}return __extends(t,e),t.prototype.ShowDetail=function(){this.trigger("ShowDetail")},t}(n.Views.ItemView);t.NearestCentreSetupItemView=l});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Dtos/NearestCentreDto",["require","exports","jquery","backbone"],function(e,t){(function(e){var t=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.default=function(){return{id:"",centreId:"",bookingId:"",centreName:"",busList:"",address:"",contactNo1:"",contactNo2:"",outTime:"",returnTime:"",busPoint:"",graveyard:"",masjidName:"",namazEJanazaHeldIn:"",namazEJanazLocation:"",otherDetail:"",vehicleNo:"",centreAddress:"",mobileNo:"",fullName:"",nearestLevel:"",nearestCentreId:"",nearestCentreName:"",isActive:"",createdBy:"",createdDate:"",modifiedBy:"",modifiedDate:""}},t}(Backbone.Model);e.NearestCentreDto=t;var n=function(e){function n(n){this.model=t,e.call(this,n)}return __extends(n,e),n}(Backbone.Collection);e.NearestCentreDtoCollection=n})(t.Models||(t.Models={}));var n=t.Models});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/DAL/NearestCentreSetup",["require","exports","CCTracking.WebClient/DAL/AjaxRequest","CCTracking.WebClient/Dtos/NearestCentreDto","jquery"],function(e,t,n,r){function o(){var e=new s;return e.doAjaxRequest(null,"GET","NearestCentreSetup")}function u(e){var t=new s;return t.doAjaxRequest(e,"POST","NearestCentreSetup")}function a(){var e=new s;return e.doAjaxRequest(null,"GET","NearestCentreSetup?idAll=a")}function f(e){var t=new s;return t.doAjaxRequest(null,"GET","NearestCentreSetup?id="+e)}var i=e("jquery"),s=function(e){function t(){e.call(this,this)}return __extends(t,e),t.prototype.getResponse=function(){return new r.Models.NearestCentreDto},t}(n.BaseDto);t.NearestCentreSetupDal=s,t.Load=o,t.Save=u,t.GetAll=a,t.GetById=f});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Admin/NearestCentreSetup/NearestCentreSetupCtrl",["require","exports","../../App","../../Helper","./NearestCentreSetupView","../../Dtos/NearestCentreDto","../../DAL/NearestCentreSetup","marionette","jquery","knockout","text!./NearestCentreSetupTmpl.html"],function(e,t,n,r,i,s,o){var u=e("underscore"),a=e("knockout"),f=e("knockback"),l=function(e){function t(){e.call(this),this.app=n.Application.getInstance(),this.backboneModel=new s.Models.NearestCentreDto,this.nearestCentreSetupViewModel=new i.NearestCentreSetupViewModel(this.backboneModel,this),this.nearestCentreSetupView=new i.NearestCentreSetupView({viewModel:this.nearestCentreSetupViewModel}),this.compositeModel=new Backbone.Model}return __extends(t,e),t.prototype.Show=function(){var e=this,t=window.location.href;if(t.indexOf("id=")>-1){var n=t.substring(t.indexOf("id=")+3,t.length),r=o.GetById(n);r.done(function(t){return e.GetByIdCompleted(t)})}else this.Load()},t.prototype.Load=function(){var e=this,t=JSON.parse(localStorage.getItem("lookupResponse")),n=this.backboneModel;this.nearestCentreSetupViewModel.bbModel=n,this.nearestCentreSetupViewModel.model=f.viewModel(n),n.set("alkhidmatCentreList",t.alkhidmatCentre),n.set("alkhidmatCentreSelected",""),n.set("nearestCentreSelected",""),n.set("nearestLevel",""),n.set("isActive","1"),this.nearestCentreSetupViewModel=new i.NearestCentreSetupViewModel(n,this),this.nearestCentreSetupView=new i.NearestCentreSetupView({viewModel:this.nearestCentreSetupViewModel}),this.nearestCentreSetupView.on("SaveNearestCentreSetup",function(){return e.Save(e.nearestCentreSetupViewModel.bbModel)}),this.nearestCentreSetupView.on("CancelForm",function(){return e.Cancel()}),this.app.MainRegion.show(this.nearestCentreSetupView)},t.prototype.GetAll=function(){var e=this,t=o.GetAll();t.done(function(t){return e.GetAllCompleted(t)})},t.prototype.GetByCriteria=function(e,t){var n=t,r=this.collection,i=u.filter(t.models,function(t){return t.get("centreId")==e});this.collection.reset(i)},t.prototype.GetByIdCompleted=function(e){var t=this;this.backboneModel=new Backbone.Model(e.nearestCentreModel);var n=this.backboneModel;this.UIBinding(n),this.nearestCentreSetupView=new i.NearestCentreSetupView({viewModel:this.nearestCentreSetupViewModel}),this.nearestCentreSetupView.on("SaveNearestCentreSetup",function(){return t.Save(t.nearestCentreSetupViewModel.bbModel)}),this.nearestCentreSetupView.on("CancelForm",function(){return t.Cancel()}),this.app.MainRegion.show(this.nearestCentreSetupView)},t.prototype.GetAllCompleted=function(e){var t=this,n=JSON.parse(localStorage.getItem("lookupResponse"));this.compositeModel.set("alkhidmatCentreList",n.alkhidmatCentre),this.compositeModel.set("alkhidmatCentreSelected",""),this.collection=new Backbone.Collection(e.nearestCentreList),this.collectionView=new i.NearestCentreSetupCollectionView({collection:this.collection,model:this.compositeModel}),this.collectionView.on("itemview:ShowDetail",function(e){return t.GetByIdCompleted(e.model)}),this.collectionView.on("Event:SearchNearestCentre",function(e){return t.GetByCriteria(e,t.allCollection)}),this.allCollection=new Backbone.Collection(e.nearestCentreList),this.app.MainRegion.show(this.collectionView);var r=this.collectionView.$el,s=f.viewModel(this.compositeModel),o=r.find("#ddlCentre")[0];a.cleanNode(o),a.applyBindings(s,o)},t.prototype.Save=function(e){var t=this,n=this.app.request("AppGlobalSetting");e.set("modifiedBy",n.get("Id")),e.set("centreId",e.get("alkhidmatCentreSelected").id),e.set("nearestCentreId",e.get("nearestCentreSelected").id),e.set("isActive",e.get("isActive")=="1"?!0:!1);var r=o.Save(this.GetMinimalRequest(e));r.done(function(e){return t.SaveCompleted(e)})},t.prototype.GetMinimalRequest=function(e){var t=new s.Models.NearestCentreDto;return t.set("id",e.get("id")),t.set("centreId",e.get("centreId")),t.set("nearestCentreId",e.get("nearestCentreId")),t.set("isActive",e.get("isActive")),t.set("createdBy",e.get("createdBy")),t.set("createdDate",e.get("createdDate")),t.set("modifiedBy",e.get("modifiedBy")),t.set("modifiedDate",e.get("modifiedDate")),t},t.prototype.SaveCompleted=function(e){var t=new Backbone.Model(e);t.get("errorMessage")!=undefined&&t.get("errorMessage").trim()!=""?r.ShowModalPopup("danger","Nearest Centre Setup","Due to some technical reason Nearest Centre Setup have not been saved successfully!<br> Pelase try later"):e["id"]==-1?r.ShowModalPopup("danger","Nearest Centre Setup","Current association already exists!<br> Pelase use a different combination"):(r.ShowModalPopup("success","Nearest Centre Setup","Record has been saved successfully with ID : "+e.id),this.Cancel())},t.prototype.Cancel=function(){window.location.href="#viewNearestCentreSetup"},t.prototype.UIBinding=function(e){var t=JSON.parse(localStorage.getItem("lookupResponse"));e.set("alkhidmatCentreList",t.alkhidmatCentre);var n=u.filter(t.alkhidmatCentre,function(t){return t.id==e.get("centreId")});e.set("alkhidmatCentreSelected",n[0]);var r=u.filter(t.alkhidmatCentre,function(t){return t.id==e.get("nearestCentreId")});e.set("nearestCentreSelected",r[0]),e.set("isActive",e.get("isActive")?"1":"0"),this.nearestCentreSetupViewModel.bbModel=e,this.nearestCentreSetupViewModel.model=f.viewModel(e),a.cleanNode($(this.nearestCentreSetupView.el)[0]),a.applyBindings(this.nearestCentreSetupViewModel,this.nearestCentreSetupView.el)},t}(r.Controller);t.NearestCentreSetupCtrl=l}),define("text!CCTracking.WebClient/Admin/AdminSearchBooking/AdminSearchBookingTmpl.html",[],function(){return'<div>\r\n    <div id="gridTemplate">\r\n        <div class="panel panel-default">\r\n            <div class="panel-heading header-bold"><span class="fa fa-line-chart"></span>Alkhdmat Centres Report</div>\r\n            <div class="panel-body">\r\n                <form id="form1">\r\n                    <table class="table table-condensed table-hover form-group table-removeTopBorder">\r\n                       \r\n                        <tr> \r\n                            <td class="col-sm-6 col-md-6">\r\n                                From Date <input type="text" id="txtFromBookingDate" class="form-control input-sm"  data-bind="datepicker: {}, value: fromBookingDate"/>\r\n                            </td>\r\n                            <td class="col-sm-6 col-md-6">\r\n                               To Date <input type="text" id="txtToBookingDate" class="form-control input-sm"  data-bind="datepicker: {}, value: toBookingDate"/>\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td class="col-sm-6 col-md-6">&nbsp;\r\n                            </td>\r\n                            <td class="col-sm-6 col-md-6 ">\r\n                                <span class="pull-right">\r\n                                    <button type="button" class="jsSearch btn btn-default">Search</button>&nbsp;&nbsp;                              \r\n                                    <button type="button" class="jsPrintDocument btn btn-default">Print</button>&nbsp;&nbsp;\r\n                                    <button type="reset" class="btn btn-default" title="Cancel">Cancel</button>\r\n                                </span>\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                </form>\r\n            </div>\r\n        </div>\r\n        <!--<div id="gridTemplate1">-->\r\n            <div class="panel panel-default">\r\n                <div class="panel-heading header-bold">\r\n                    <span class="fa fa-bus"></span>View - Search Details\r\n                    <!--<span class="pull-right"><a href="#addBooking">Add New</a> </span>-->\r\n                </div>\r\n                <div class="panel-body ">\r\n                    <table id="tblSearch" class="table table-condensed table-bordered table-hover table-striped form-group">\r\n                        <thead>\r\n                            <tr class="active">\r\n                                <th class="input-sm">Centre Name</th>\r\n                                <th class="input-sm">Booking Amount</th>\r\n                                <th class="input-sm">Booking Milage</th>\r\n                                <th class="input-sm">Bookings</th>\r\n                                <th class="input-sm">Receivables</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody></tbody>\r\n                        <tfoot>\r\n                            <tr class="active">\r\n                                <td colspan="6">&nbsp;</td>\r\n                            </tr>\r\n                        </tfoot>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n\r\n    </div>\r\n    \r\n    <script type="text/html" id="rowTemplate">\r\n        <td class="jsShowDetail input-sm" style="cursor: hand; cursor: pointer"><%=alkhidmatCentre%></td>\r\n        <td class="input-sm"><%=bookingAmount%></td>\r\n        <td class="input-sm"><%=bookingMilage%></td>\r\n        <td class="input-sm"><%=bookings%></td>\r\n        <td class="input-sm"><%=receivables%></td>\r\n\r\n    </script>\r\n\r\n</div>'});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Admin/AdminSearchBooking/AdminSearchBookingView",["require","exports","../../Helper","marionette","jquery","jqueryUI","knockout","text!./AdminSearchBookingTmpl.html"],function(e,t,n){var r=e("underscore"),i=e("text!./AdminSearchBookingTmpl.html"),s,o=function(e){function t(t,n){e.call(this,t,n)}return __extends(t,e),t}(n.ViewModel);t.SearchViewModel=o;var u=function(e){function t(t){this.template=i,e.call(this,t)}return __extends(t,e),t.prototype.onDomRefresh=function(){},t}(n.Views.MvvmView);t.SearchView=u;var a=function(e){function t(t){t.itemView=f,t.template=i.getOuterHTML("#gridTemplate"),t.itemViewContainer="#tblSearch tbody",this.events={"click .jsSearch":"Search","click .jsCancel":"Cancel","click .jsPrintDocument":"PrintDocument"},e.call(this,t)}return __extends(t,e),t.prototype.PrintDocument=function(){this.trigger("Event:PrintReport")},t.prototype.Search=function(e){e.preventDefault(),this.trigger("AdminSearchBooking")},t}(n.Views.CompositeView);t.SearchCollectionView=a;var f=function(e){function t(t){var n=this;t||(t={}),t.template=i.getOuterHTML("#rowTemplate"),t.tagName="tr",t.events={"click .jsShowDetail":function(){n.trigger("CentreBusSummary",n.model.get("alkhidmatCentreId"))}},e.call(this,t)}return __extends(t,e),t.prototype.ShowDetail=function(){},t}(n.Views.ItemView);t.SearchItemView=f});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Dtos/BookingSummaryDto",["require","exports","jquery","backbone"],function(e,t){(function(e){var t=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.default=function(){return{alkhidmatCentre:"",alkhidmatCentreId:"",bookingAmount:"",bookingMilage:"",bookings:"",receivables:"",busNo:"",busId:"",visitTypeId:"",visitType:"",visitDate:"",outTime:"",inTime:"",timeTaken:"",driver:"",averageMilage:"",currentReading:"",previusReading:"",fuelQuantity:"",fuelRate:"",pumpLocation:"",fuelingReceipt:"",createdBy:"",createdDate:"",errorMessage:"",id:"",isActive:"",modifiedBy:"",modifiedDate:"",paidAmount:"",paidBooking:"",unpaidAmount:"",unpaidBooking:""}},t}(Backbone.Model);e.BookingSummaryDto=t;var n=function(e){function n(n){this.model=t,e.call(this,n)}return __extends(n,e),n}(Backbone.Collection);e.BookingSummaryCollection=n})(t.Models||(t.Models={}));var n=t.Models});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Dtos/ReportDto",["require","exports","backbone"],function(e,t){(function(e){var t=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.default=function(){return{fromDate:"",toDate:"",centreId:"",busId:""}},t}(Backbone.Model);e.ReportDto=t})(t.Models||(t.Models={}));var n=t.Models});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/DAL/AdminSearch",["require","exports","CCTracking.WebClient/DAL/AjaxRequest","CCTracking.WebClient/Dtos/BookingSummaryDto","jquery"],function(e,t,n,r){function o(){var e=new s;return e.doAjaxRequest(null,"GET","BookingSummary")}function u(e){var t=new s;return t.doAjaxRequest(e,"POST","BookingSummary")}function a(){var e=new s;return e.doAjaxRequest(null,"GET","BookingSummary?a=a")}function f(e){var t=new s;return t.doAjaxRequest(null,"GET","BookingSummary?id="+e)}function l(e){var t=new s;return t.doAjaxRequest(e,"POST","BookingSummary")}var i=e("jquery"),s=function(e){function t(){e.call(this,this)}return __extends(t,e),t.prototype.getResponse=function(){return new r.Models.BookingSummaryDto},t}(n.BaseDto);t.AdminSearchDal=s,t.Load=o,t.Save=u,t.GetAll=a,t.GetById=f,t.GetByCriteria=l});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Admin/AdminSearchBooking/AdminSearchBookingCtrl",["require","exports","../../App","../../Helper","./AdminSearchBookingView","../../Dtos/BookingSummaryDto","../../Dtos/ReportDto","../../DAL/AdminSearch","marionette","jquery","knockout"],function(e,t,n,r,i,s,o,u){var a=e("underscore"),f=e("knockout"),l=e("knockback"),c,h=function(e){function t(){e.call(this),this.app=n.Application.getInstance(),this.backboneModel=new s.Models.BookingSummaryDto,this.searchViewModel=new i.SearchViewModel(this.backboneModel,this),this.compositeModel=new Backbone.Model,this.backboneCollection=new Backbone.Collection([]),this.collectionView=new i.SearchCollectionView({collection:this.backboneCollection,model:this.compositeModel}),this.backboneCollection.reset([])}return __extends(t,e),t.prototype.Show=function(){this.Load()},t.prototype.Load=function(){var e=this,t=this.backboneModel;t.set("fromBookingDate",r.FormatDateString(Date.now())),t.set("toBookingDate",r.FormatDateString(Date.now())),this.compositeModel=t,this.collectionView.listenTo(this.collectionView,"AdminSearchBooking",function(){return e.GetByCriteria(e.searchViewModel.bbModel)}),this.collectionView.listenTo(this.collectionView,"Event:PrintReport",function(t){r.PrintReport(e.backboneCollection,e.GetHeaderList(),"Centre Specific Summary Report","Booking")}),this.collectionView.listenTo(this.collectionView,"itemview:CentreBusSummary",function(n,r){e.ShowCentreBusSummary(r,t)}),this.collectionView.on("CancelForm",function(){return e.Cancel()}),this.app.MainRegion.show(this.collectionView);var n=l.viewModel(this.compositeModel),i=$("#txtFromBookingDate")[0];f.cleanNode(i),f.applyBindings(n,i);var s=$("#txtToBookingDate")[0];f.cleanNode(s),f.applyBindings(n,s)},t.prototype.GetHeaderList=function(){var e=new Backbone.Collection([{columnHeader:"Centre Name"},{columnHeader:"Booking Amount"},{columnHeader:"Booking Mileage"},{columnHeader:"Bookings"},{columnHeader:"Receivables"}]);return e},t.prototype.ShowCentreBusSummary=function(e,t){var n=new o.Models.ReportDto;n.set("fromDate",t.get("fromBookingDate")),n.set("toDate",t.get("toBookingDate")),n.set("centreId",e),this.app.reqres.setHandler("ReportFilterSetting",function(){return n},this),location.href="#busCentreReport"},t.prototype.GetByCriteria=function(e){var t=this;e.get("fromBookingDate").trim()!=""&&e.set("fromBookingDate",r.FormatDateString(e.get("fromBookingDate"))),e.get("toBookingDate").trim()!=""&&e.set("toBookingDate",r.FormatDateString(e.get("toBookingDate")));var n=u.GetByCriteria(e);n.done(function(e){return t.GetByCriteriaCompleted(e)})},t.prototype.GetByCriteriaCompleted=function(e){var t=e.bookingSummaryList,n=[];for(var i=0;i<t.length;i++)n[i]={alkhidmatCentre:t[i].alkhidmatCentre,alkhidmatCentreId:t[i].alkhidmatCentreId,bookingAmount:r.FormatMoney(t[i].bookingAmount),bookingMilage:t[i].bookingMilage,bookings:t[i].bookings,receivables:r.FormatMoney(t[i].receivables)};this.backboneCollection.reset(n)},t.prototype.Cancel=function(){window.location.href="#adminSearchBooking"},t}(r.Controller);t.AdminSearchBookingCtrl=h}),define("text!CCTracking.WebClient/Admin/Reports/Centre/BusCentreReport/BusCentreReportTmpl.html",[],function(){return'<div>\r\n    <div id="gridTemplate">\r\n        <div class="panel panel-default">\r\n            <div class="panel-heading header-bold"><span class="fa fa-line-chart"></span>&nbsp;Centre Specific Bus Details</div>\r\n            <div class="panel-body">\r\n                <form id="form1">\r\n                    <table class="table table-condensed table-hover form-group table-removeTopBorder">\r\n                       \r\n                        <tr> \r\n                            <td class="col-sm-6 col-md-6">\r\n                                From Date <input type="text" id="txtFromBookingDate" class="form-control input-sm"  data-bind="datepicker: {}, value: fromBookingDate"/>\r\n                            </td>\r\n                            <td class="col-sm-6 col-md-6">\r\n                               To Date <input type="text" id="txtToBookingDate" class="form-control input-sm"  data-bind="datepicker: {}, value: toBookingDate"/>\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td class="col-sm-6 col-md-6">&nbsp;\r\n                            </td>\r\n                            <td class="col-sm-6 col-md-6 ">\r\n                                <span class="pull-right">\r\n                                    <button type="button" class="jsSearch btn btn-default">Search</button>&nbsp;&nbsp;                                   \r\n                                    <button type="button" class="jsPrintDocument btn btn-default">Print</button>&nbsp;&nbsp;\r\n                                    <button type="reset" class="btn btn-default" title="Cancel">Cancel</button>\r\n                                </span>\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                </form>\r\n            </div>\r\n        </div>\r\n        <!--<div id="gridTemplate1">-->\r\n            <div class="panel panel-default">\r\n                <div class="panel-heading header-bold">\r\n                    <span class="fa fa-bus"></span>&nbsp;View - Search Details\r\n                    <!--<span class="pull-right"><a href="#addBooking">Add New</a> </span>-->\r\n                </div>\r\n                <div class="panel-body ">\r\n                    <table id="tblSearch" class="table table-condensed table-bordered table-hover table-striped form-group">\r\n                        <thead>\r\n                            <tr class="active">\r\n                                <th class="input-sm">Centre Name</th>\r\n                                <th class="input-sm">Bus No</th>\r\n                                <th class="input-sm">Booking Amount</th>\r\n                                <th class="input-sm">Booking Milage</th>\r\n                                <th class="input-sm">Bookings</th>\r\n                                <th class="input-sm">Receivables</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody></tbody>\r\n                        <tfoot>\r\n                            <tr class="active">\r\n                                <td colspan="6">&nbsp;</td>\r\n                            </tr>\r\n                        </tfoot>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n\r\n    </div>\r\n    \r\n    <script type="text/html" id="rowTemplate">\r\n        <td class="input-sm"><%=alkhidmatCentre%></td>\r\n        <td class="jsShowDetail input-sm" style="cursor: hand; cursor: pointer"><%=busNo%></td>\r\n        <td class="input-sm"><%=bookingAmount%></td>\r\n        <td class="input-sm"><%=bookingMilage%></td>\r\n        <td class="input-sm"><%=bookings%></td>\r\n        <td class="input-sm"><%=receivables%></td>\r\n\r\n    </script>\r\n\r\n</div>'});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Admin/Reports/Centre/BusCentreReport/BusCentreReportView",["require","exports","../../../../Helper","marionette","jquery","jqueryUI","knockout","text!./BusCentreReportTmpl.html"],function(e,t,n){var r=e("underscore"),i=e("text!./BusCentreReportTmpl.html"),s,o=function(e){function t(t,n){e.call(this,t,n)}return __extends(t,e),t}(n.ViewModel);t.SearchViewModel=o;var u=function(e){function t(t){this.template=i,e.call(this,t)}return __extends(t,e),t.prototype.onDomRefresh=function(){},t}(n.Views.MvvmView);t.SearchView=u;var a=function(e){function t(t){t.itemView=f,t.template=i.getOuterHTML("#gridTemplate"),t.itemViewContainer="#tblSearch tbody",this.events={"click .jsSearch":"Search","click .jsPrintDocument":"PrintReport","click .jsCancel":"Cancel"},e.call(this,t)}return __extends(t,e),t.prototype.PrintReport=function(){this.trigger("Event:PrintReport")},t.prototype.Search=function(e){e.preventDefault(),this.trigger("BusCentreReport")},t}(n.Views.CompositeView);t.SearchCollectionView=a;var f=function(e){function t(t){var n=this;t||(t={}),t.template=i.getOuterHTML("#rowTemplate"),t.tagName="tr",t.className="jsRowClick",t.events={"click .jsShowDetail":function(){n.trigger("BusVisitDetails",n.model.get("busId"))}},e.call(this,t)}return __extends(t,e),t.prototype.ShowDetail=function(){},t}(n.Views.ItemView);t.SearchItemView=f});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/DAL/BusCentreReport",["require","exports","CCTracking.WebClient/DAL/AjaxRequest","CCTracking.WebClient/Dtos/BookingSummaryDto","jquery"],function(e,t,n,r){function o(){var e=new s;return e.doAjaxRequest(null,"GET","BusCentreReport")}function u(e){var t=new s;return t.doAjaxRequest(e,"POST","BusCentreReport")}function a(){var e=new s;return e.doAjaxRequest(null,"GET","BusCentreReport?a=a")}function f(e){var t=new s;return t.doAjaxRequest(null,"GET","BusCentreReport?id="+e)}function l(e){var t=new s;return t.doAjaxRequest(e,"POST","BusCentreReport")}var i=e("jquery"),s=function(e){function t(){e.call(this,this)}return __extends(t,e),t.prototype.getResponse=function(){return new r.Models.BookingSummaryDto},t}(n.BaseDto);t.BusCentreReportDal=s,t.Load=o,t.Save=u,t.GetAll=a,t.GetById=f,t.GetByCriteria=l});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Admin/Reports/Centre/BusCentreReport/BusCentreReportCtrl",["require","exports","../../../../App","../../../../Helper","./BusCentreReportView","../../../../Dtos/BookingSummaryDto","../../../../Dtos/ReportDto","../../../../DAL/BusCentreReport","marionette","jquery","knockout"],function(e,t,n,r,i,s,o,u){var a=e("underscore"),f=e("knockout"),l=e("knockback"),c,h=function(e){function t(){e.call(this),this.app=n.Application.getInstance(),this.backboneModel=new s.Models.BookingSummaryDto,this.searchViewModel=new i.SearchViewModel(this.backboneModel,this),this.compositeModel=new Backbone.Model,this.backboneCollection=new Backbone.Collection([]),this.collectionView=new i.SearchCollectionView({collection:this.backboneCollection,model:this.compositeModel}),this.backboneCollection.reset([])}return __extends(t,e),t.prototype.Show=function(){this.Load()},t.prototype.Load=function(){var e=this,t=this.backboneModel,n=this.app.request("ReportFilterSetting");t.set("fromBookingDate",n.get("fromDate")),t.set("toBookingDate",n.get("toDate")),t.set("centreId",n.get("centreId")),this.compositeModel=t,this.collectionView.listenTo(this.collectionView,"BusCentreReport",function(){return e.GetByCriteria(e.searchViewModel.bbModel)}),this.collectionView.listenTo(this.collectionView,"Event:PrintReport",function(t){r.PrintReport(e.backboneCollection,e.GetHeaderList(),"Centre Specific Bus Details","Mileage")}),this.collectionView.listenTo(this.collectionView,"itemview:BusVisitDetails",function(n,r){e.ShowBusVisitDetails(r,t)}),this.collectionView.on("CancelForm",function(){return e.Cancel()}),this.app.MainRegion.show(this.collectionView);var i=l.viewModel(this.compositeModel),o=$("#txtFromBookingDate")[0];f.cleanNode(o),f.applyBindings(i,o);var a=$("#txtToBookingDate")[0];f.cleanNode(a),f.applyBindings(i,a);var c=new s.Models.BookingSummaryDto;c.set("centreId",n.get("centreId")),c.set("fromBookingDate",n.get("fromDate")),c.set("toBookingDate",n.get("toDate"));var h=u.GetByCriteria(c);h.done(function(t){return e.GetByCriteriaCompleted(t)})},t.prototype.GetHeaderList=function(){var e=new Backbone.Collection([{columnHeader:"Centre Name"},{columnHeader:"Bus No"},{columnHeader:"Booking Amount"},{columnHeader:"Booking Milage"},{columnHeader:"Bookings"},{columnHeader:"Receivables"}]);return e},t.prototype.ShowBusVisitDetails=function(e,t){var n=new o.Models.ReportDto;n.set("fromDate",t.get("fromBookingDate")),n.set("toDate",t.get("toBookingDate")),n.set("busId",e),this.app.reqres.setHandler("ReportFilterSetting",function(){return n},this),location.href="#busMilageReport"},t.prototype.GetByCriteria=function(e){var t=this;e.get("fromBookingDate").trim()!=""&&e.set("fromBookingDate",r.FormatDateString(e.get("fromBookingDate"))),e.get("toBookingDate").trim()!=""&&e.set("toBookingDate",r.FormatDateString(e.get("toBookingDate")));var n=u.GetByCriteria(this.GetMinimalRequest(e));n.done(function(e){return t.GetByCriteriaCompleted(e)})},t.prototype.GetMinimalRequest=function(e){var t=new s.Models.BookingSummaryDto;return t.set("centreId",e.get("centreId")),t.set("fromBookingDate",e.get("fromBookingDate")),t.set("toBookingDate",e.get("toBookingDate")),t},t.prototype.GetByCriteriaCompleted=function(e){var t=e.bookingSummaryList,n=[];for(var r=0;r<t.length;r++)n[r]={alkhidmatCentre:t[r].alkhidmatCentre,alkhidmatCentreId:t[r].alkhidmatCentreId,bookingAmount:t[r].bookingAmount,bookingMilage:t[r].bookingMilage,bookings:t[r].bookings,receivables:t[r].receivables,busNo:t[r].busNo,busId:t[r].busId};this.backboneCollection.reset(n)},t.prototype.Cancel=function(){window.location.href="#busCentreReport"},t}(r.Controller);t.BusCentreReportCtrl=h}),define("text!CCTracking.WebClient/Admin/Reports/Bus/BusMilage/BusMilageTmpl.html",[],function(){return'<div>\r\n    <div id="gridTemplate">\r\n        <div class="panel panel-default">\r\n            <div class="panel-heading header-bold"><span class="fa fa-line-chart"></span>&nbsp;Bus Milage Report</div>\r\n            <div class="panel-body">\r\n                <form id="form1">\r\n                    <table class="table table-condensed table-hover form-group table-removeTopBorder">\r\n\r\n                        <tr>\r\n                            <td class="col-sm-6 col-md-6">From Date\r\n                                <input type="text" id="txtFromBookingDate" class="form-control input-sm" data-bind="datepicker: {}, value: fromBookingDate" />\r\n                            </td>\r\n                            <td class="col-sm-6 col-md-6">To Date\r\n                                <input type="text" id="txtToBookingDate" class="form-control input-sm" data-bind="datepicker: {}, value: toBookingDate" />\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td class="col-sm-6 col-md-6">Vehicle No\r\n                                   <select id="ddlBusDetails" class="form-control input-sm"\r\n                                       data-bind="options: busList, optionsText:\'description\', value:busSelected">\r\n                                   </select>\r\n                            </td>\r\n                            <td class="col-sm-6 col-md-6 ">\r\n                                <span class="pull-right">\r\n                                    <button type="button" class="jsSearch btn btn-default">Search</button>&nbsp;&nbsp;                                    \r\n                                    <button type="button" class="jsPrintDocument btn btn-default">Print</button>&nbsp;&nbsp;\r\n                                    <button type="reset" class="btn btn-default" title="Cancel">Cancel</button>\r\n                                </span>\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                </form>\r\n            </div>\r\n        </div>\r\n        <!--<div id="gridTemplate1">-->\r\n        <div class="panel panel-default">\r\n            <div class="panel-heading header-bold">\r\n                <span class="fa fa-bus"></span>&nbsp;View - Search Details\r\n                    <!--<span class="pull-right"><a href="#addBooking">Add New</a> </span>-->\r\n            </div>\r\n            <div class="panel-body ">\r\n                <table id="tblSearch" class="table table-condensed table-bordered table-hover table-striped form-group">\r\n                    <thead>\r\n                        <tr class="active">\r\n                            <th class="input-sm">Bus No</th>\r\n                            <th class="input-sm">Visit Date</th>\r\n                            <th class="input-sm">Visit Type</th>\r\n                            <th class="input-sm">Amount</th>\r\n                            <th class="input-sm">Milage</th>\r\n                            <th class="input-sm">Out Time</th>\r\n                            <th class="input-sm">In Time</th>\r\n                            <th class="input-sm">Time Taken</th>\r\n                            <th class="input-sm">Driver</th>\r\n                            <th class="input-sm">Booking Centre</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody></tbody>\r\n                    <tfoot>\r\n                        <tr class="active">\r\n                            <td colspan="10">&nbsp;</td>\r\n                        </tr>\r\n                    </tfoot>\r\n                </table>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <script type="text/html" id="rowTemplate">\r\n        <td class="input-sm"><%=busNo%></td>\r\n        <td class="input-sm"><%=visitDate%></td>\r\n        <td class="input-sm"><%=visitType%></td>\r\n        <td class="input-sm"><%=bookingAmount%></td>\r\n        <td class="input-sm"><%=bookingMilage%></td>\r\n        <td class="input-sm"><%=outTime%></td>\r\n        <td class="input-sm"><%=inTime%></td>\r\n        <td class="input-sm"><%=timeTaken%></td>\r\n        <td class="input-sm"><%=driver%></td>\r\n        <td class="input-sm"><%=alkhidmatCentre%></td>\r\n\r\n    </script>\r\n\r\n</div>\r\n'});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Admin/Reports/Bus/BusMilage/BusMilageView",["require","exports","../../../../Helper","marionette","jquery","jqueryUI","knockout","text!./BusMilageTmpl.html"],function(e,t,n){var r=e("underscore"),i=e("text!./BusMilageTmpl.html"),s,o=function(e){function t(t,n){e.call(this,t,n)}return __extends(t,e),t}(n.ViewModel);t.BusMilageViewModel=o;var u=function(e){function t(t){this.template=i,e.call(this,t)}return __extends(t,e),t.prototype.onDomRefresh=function(){},t}(n.Views.MvvmView);t.BusMilageView=u;var a=function(e){function t(t){var n=this;t.itemView=f,t.template=i.getOuterHTML("#gridTemplate"),t.itemViewContainer="#tblSearch tbody",this.events={"click .jsSearch":"Search","click .jsPrintDocument":function(){n.trigger("Event:PrintReport")},"click .jsCancel":"Cancel"},e.call(this,t)}return __extends(t,e),t.prototype.Search=function(e){e.preventDefault(),this.trigger("BusMilage")},t}(n.Views.CompositeView);t.BusMilageCollectionView=a;var f=function(e){function t(t){t||(t={}),t.template=i.getOuterHTML("#rowTemplate"),t.tagName="tr",t.className="jsRowClick",t.events={},e.call(this,t)}return __extends(t,e),t.prototype.ShowDetail=function(){},t}(n.Views.ItemView);t.BusMilageItemView=f});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Dtos/BusMilageDto",["require","exports","jquery","backbone"],function(e,t){(function(e){var t=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.default=function(){return{id:"",centreId:"",busId:"",visitTypeId:"",isActive:"",vehicleNo:"",centreDesc:"",visitTypeDesc:"",TotalMilage:"",TotalVisits:"",createdBy:"",createdDate:"",modifiedBy:"",modifiedDate:""}},t}(Backbone.Model);e.BusMilageDto=t;var n=function(e){function n(n){this.model=t,e.call(this,n)}return __extends(n,e),n}(Backbone.Collection);e.BusMilageCollection=n})(t.Models||(t.Models={}));var n=t.Models});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/DAL/BusMilage",["require","exports","CCTracking.WebClient/DAL/AjaxRequest","CCTracking.WebClient/Dtos/BusMilageDto","jquery"],function(e,t,n,r){function o(e){var t=new s;return t.doAjaxRequest(e,"POST","BusMilage")}var i=e("jquery"),s=function(e){function t(){e.call(this,this)}return __extends(t,e),t.prototype.getResponse=function(){return new r.Models.BusMilageDto},t}(n.BaseDto);t.BusMilageDal=s,t.GetByCriteria=o});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Admin/Reports/Bus/BusMilage/BusMilageCtrl",["require","exports","../../../../App","../../../../Helper","./BusMilageView","../../../../Dtos/BookingSummaryDto","../../../../DAL/BusMilage","marionette","jquery","knockout"],function(e,t,n,r,i,s,o){var u=e("underscore"),a=e("knockout"),f=e("knockback"),l=function(e){function t(){e.call(this),this.app=n.Application.getInstance(),this.backboneModel=new s.Models.BookingSummaryDto,this.searchViewModel=new i.BusMilageViewModel(this.backboneModel,this),this.compositeModel=new Backbone.Model,this.backboneCollection=new Backbone.Collection([]),this.collectionView=new i.BusMilageCollectionView({collection:this.backboneCollection,model:this.compositeModel}),this.backboneCollection.reset([])}return __extends(t,e),t.prototype.Show=function(){var e=this,t,n=JSON.parse(localStorage.getItem("lookupResponse")),i=this.backboneModel,o=this.app.request("ReportFilterSetting");i.set("busList",n.bus);if(o!=undefined){i.set("fromBookingDate",o.get("fromDate")),i.set("toBookingDate",o.get("toDate"));var l=u.filter(n.bus,function(e){return e.id==o.get("busId")});i.set("busSelected",l[0]),t=new s.Models.BookingSummaryDto,t.set("busSelected",l[0]),t.set("fromBookingDate",o.get("fromDate")),t.set("toBookingDate",o.get("toDate"))}else i.set("fromBookingDate",r.FormatDateString(Date.now())),i.set("toBookingDate",r.FormatDateString(Date.now())),i.set("busSelected","");this.compositeModel=i,this.collectionView.model=this.compositeModel,this.collectionView.listenTo(this.collectionView,"BusMilage",function(){return e.BusMilage(i)}),this.collectionView.on("Event:PrintReport",function(){r.PrintReport(e.backboneCollection,e.GetHeaderList(),"Bus Milage Report","BusVisit")}),this.app.MainRegion.show(this.collectionView);var c=this.collectionView.$el,h=f.viewModel(this.compositeModel),p=c.find("#txtFromBookingDate")[0];a.cleanNode(p),a.applyBindings(h,p);var d=c.find("#txtToBookingDate")[0];a.cleanNode(d),a.applyBindings(h,d);var v=c.find("#ddlBusDetails")[0];a.cleanNode(v),a.applyBindings(h,v),t!=undefined&&this.BusMilage(t)},t.prototype.GetHeaderList=function(){var e=new Backbone.Collection([{columnHeader:"Bus No"},{columnHeader:"Visit Date"},{columnHeader:"Visit Type"},{columnHeader:"Amount"},{columnHeader:"Mileage"},{columnHeader:"Out Time"},{columnHeader:"In Time"},{columnHeader:"Time Taken"},{columnHeader:"Driver"},{columnHeader:"Booking Centre"}]);return e},t.prototype.BusMilage=function(e){var t=this;e.get("busSelected")!=undefined&&e.get("busSelected").id!=undefined?e.set("busId",e.get("busSelected").id):e.get("busSelected")!=undefined&&e.set("busId",e.get("busSelected")),this.app.request("ReportFilterSetting","");var n=o.GetByCriteria(this.GetMinimalRequest(e));n.done(function(e){return t.GetByCriteriaCompleted(e)})},t.prototype.GetMinimalRequest=function(e){var t=new s.Models.BookingSummaryDto;return t.set("fromBookingDate",e.get("fromBookingDate")),t.set("toBookingDate",e.get("toBookingDate")),t.set("busSelected",e.get("busSelected")),t.set("busId",e.get("busId")),t},t.prototype.GetByCriteriaCompleted=function(e){var t=e.bookingSummaryList,n=[];for(var i=0;i<t.length;i++)n[i]={alkhidmatCentre:t[i].alkhidmatCentre,alkhidmatCentreId:t[i].alkhidmatCentreId,bookingAmount:t[i].bookingAmount,bookingMilage:t[i].bookingMilage,busNo:t[i].busNo,busId:t[i].busId,visitType:t[i].visitType,visitDate:r.FormatDateString(t[i].visitDate),outTime:t[i].outTime,inTime:t[i].inTime,timeTaken:t[i].timeTaken,driver:t[i].driver};this.backboneCollection.reset(n)},t.prototype.Cancel=function(){window.location.href="#busMilageReport"},t.prototype.UIBinding=function(e){var t=JSON.parse(localStorage.getItem("lookupResponse"));e.set("landmarkList",t.landmark);var n=u.filter(t.landmark,function(t){return t.id==e.get("landmarkId")});e.set("landmarkIdSelected",n[0])},t}(r.Controller);t.BusMilageCtrl=l}),define("text!CCTracking.WebClient/Admin/Reports/BusFueling/BusFuelingReportTmpl.html",[],function(){return'<div>\r\n    <div id="gridTemplate">\r\n        <div class="panel panel-default">\r\n            <div class="panel-heading header-bold"><span class="fa fa-line-chart"></span>&nbsp;Bus Fueling Report</div>\r\n            <div class="panel-body">\r\n                <form id="form1">\r\n                    <table class="table table-condensed table-hover form-group table-removeTopBorder">\r\n\r\n                        <tr>\r\n                            <td class="col-sm-6 col-md-6">From Date\r\n                                <input type="text" id="txtFromBookingDate" class="form-control input-sm" data-bind="datepicker: {}, value: fromBookingDate" />\r\n                            </td>\r\n                            <td class="col-sm-6 col-md-6">To Date\r\n                                <input type="text" id="txtToBookingDate" class="form-control input-sm" data-bind="datepicker: {}, value: toBookingDate" />\r\n                            </td>\r\n                        </tr>\r\n\r\n                        <tr>\r\n\r\n                            <td class="col-sm-6 col-md-6">Vehicle No\r\n                                   <select id="ddlBusDetails" class="form-control input-sm"\r\n                                       data-bind="options: busList, optionsText:\'description\', value:busSelected">\r\n                                   </select>\r\n                            </td>\r\n                            <td class="col-sm-6 col-md-6 ">\r\n                                <span class="pull-right">\r\n                                    <button type="button" class="jsSearch btn btn-default">Search</button>&nbsp;&nbsp;                                 \r\n                                    <button type="button" class="jsPrintDocument btn btn-default">Print</button>&nbsp;&nbsp;\r\n                                    <button type="reset" class="btn btn-default" title="Cancel">Cancel</button>\r\n                                </span>\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                </form>\r\n            </div>\r\n        </div>\r\n        <!--<div id="gridTemplate1">-->\r\n        <div class="panel panel-default PrintArea">\r\n            <div class="panel-heading header-bold">\r\n                <span class="fa fa-bus"></span>&nbsp;View - Search Details\r\n                    <!--<span class="pull-right"><a href="#addBooking">Add New</a> </span>-->\r\n            </div>\r\n            <div class="panel-body ">\r\n                <table id="tblSearch" class="table table-condensed table-bordered table-hover table-striped form-group">\r\n                    <thead>\r\n                        <tr class="active">\r\n                            <th class="input-sm">Date</th>\r\n                            <!--<th class="input-sm">Centre Name</th>-->\r\n                            <th class="input-sm">Rate</th>\r\n                            <th class="input-sm">Amount</th>\r\n                            <th class="input-sm">Liters</th>\r\n                            <th class="input-sm">Milage</th>\r\n                            <th class="input-sm">Average</th>\r\n                            <th class="input-sm">Cur. Reading</th>\r\n                            <th class="input-sm">Prev. Reading</th>\r\n                            <th class="input-sm">Location</th>\r\n                            <th class="input-sm">Receipt</th>\r\n                            <th class="input-sm">Driver</th>\r\n                            <th class="input-sm">Time Taken</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody></tbody>\r\n                    <tfoot>\r\n                        <tr class="active">\r\n                            <td colspan="15">&nbsp;</td>\r\n                        </tr>\r\n                    </tfoot>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <script type="text/html" id="rowTemplate">\r\n        <td class="jsShowDetail input-sm" style="cursor: hand; cursor: pointer"><%=visitDate%></td>\r\n        <!--<td class="input-sm"><%=alkhidmatCentre%></td>-->\r\n        <td class="input-sm"><%=fuelRate%></td>\r\n        <td class="input-sm"><%=bookingAmount%></td>\r\n        <td class="input-sm"><%=fuelQuantity%></td>\r\n        <td class="input-sm"><%=bookingMilage%></td>\r\n        <td class="input-sm"><%=averageMilage%></td>\r\n        <td class="input-sm"><%=currentReading%></td>\r\n        <td class="input-sm"><%=previusReading%></td>\r\n        <td class="input-sm"><%=pumpLocation%></td>\r\n        <td class="input-sm"><%=fuelingReceipt%></td>\r\n        <td class="input-sm"><%=driver%></td>\r\n        <td class="input-sm"><%=outTime%> - <%=inTime%></td>\r\n        \r\n        \r\n    </script>\r\n\r\n</div>\r\n'});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Admin/Reports/BusFueling/BusFuelingReportView",["require","exports","../../../Helper","marionette","jquery","jqueryUI","knockout","text!./BusFuelingReportTmpl.html"],function(e,t,n){var r=e("underscore"),i=e("text!./BusFuelingReportTmpl.html"),s,o=function(e){function t(t,n){e.call(this,t,n)}return __extends(t,e),t}(n.ViewModel);t.SearchViewModel=o;var u=function(e){function t(t){this.template=i,e.call(this,t)}return __extends(t,e),t.prototype.onDomRefresh=function(){},t}(n.Views.MvvmView);t.SearchView=u;var a=function(e){function t(t){t.itemView=f,t.template=i.getOuterHTML("#gridTemplate"),t.itemViewContainer="#tblSearch tbody",this.events={"click .jsSearch":"Search","click .jsPrintDocument":function(){n.PrintDocument()},"click .jsCancel":"Cancel"},e.call(this,t)}return __extends(t,e),t.prototype.Search=function(e){e.preventDefault(),this.trigger("BusFuelingReport")},t}(n.Views.CompositeView);t.SearchCollectionView=a;var f=function(e){function t(t){t||(t={}),t.template=i.getOuterHTML("#rowTemplate"),t.tagName="tr",t.className="jsRowClick",t.events={},e.call(this,t)}return __extends(t,e),t.prototype.ShowDetail=function(){},t}(n.Views.ItemView);t.SearchItemView=f});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/DAL/BusFuelingReport",["require","exports","CCTracking.WebClient/DAL/AjaxRequest","CCTracking.WebClient/Dtos/BookingSummaryDto","jquery"],function(e,t,n,r){function o(){var e=new s;return e.doAjaxRequest(null,"GET","BusFuelingReport")}function u(e){var t=new s;return t.doAjaxRequest(e,"POST","BusFuelingReport")}function a(){var e=new s;return e.doAjaxRequest(null,"GET","BusFuelingReport?a=a")}function f(e){var t=new s;return t.doAjaxRequest(null,"GET","BusFuelingReport?id="+e)}function l(e){var t=new s;return t.doAjaxRequest(e,"POST","BusFuelingReport")}var i=e("jquery"),s=function(e){function t(){e.call(this,this)}return __extends(t,e),t.prototype.getResponse=function(){return new r.Models.BookingSummaryDto},t}(n.BaseDto);t.BusFuelingReportDal=s,t.Load=o,t.Save=u,t.GetAll=a,t.GetById=f,t.GetByCriteria=l});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Admin/Reports/BusFueling/BusFuelingReportCtrl",["require","exports","../../../App","../../../Helper","./BusFuelingReportView","../../../Dtos/BookingSummaryDto","../../../Dtos/ReportDto","../../../DAL/BusFuelingReport","marionette","jquery","knockout"],function(e,t,n,r,i,s,o,u){var a=e("underscore"),f=e("knockout"),l=e("knockback"),c,h=function(e){function t(){e.call(this),this.app=n.Application.getInstance(),this.backboneModel=new s.Models.BookingSummaryDto,this.searchViewModel=new i.SearchViewModel(this.backboneModel,this),this.compositeModel=new Backbone.Model,this.backboneCollection=new Backbone.Collection([]),this.collectionView=new i.SearchCollectionView({collection:this.backboneCollection,model:this.compositeModel}),this.backboneCollection.reset([])}return __extends(t,e),t.prototype.Show=function(){this.Load()},t.prototype.Load=function(){var e=this,t=JSON.parse(localStorage.getItem("lookupResponse")),n=this.backboneModel;n.set("fromBookingDate",r.FormatDateString(Date.now())),n.set("toBookingDate",r.FormatDateString(Date.now())),n.set("busList",t.bus),n.set("busSelected",""),this.compositeModel=n,this.collectionView.listenTo(this.collectionView,"BusFuelingReport",function(){return e.GetByCriteria(e.searchViewModel.bbModel)}),this.collectionView.listenTo(this.collectionView,"itemview:BusVisitDetails",function(t,r){e.ShowBusVisitDetails(r,n)}),this.collectionView.on("CancelForm",function(){return e.Cancel()}),this.app.MainRegion.show(this.collectionView);var i=this.collectionView.$el,s=l.viewModel(this.compositeModel),o=i.find("#txtFromBookingDate")[0];f.cleanNode(o),f.applyBindings(s,o);var u=i.find("#txtToBookingDate")[0];f.cleanNode(u),f.applyBindings(s,u);var a=i.find("#ddlBusDetails")[0];f.cleanNode(a),f.applyBindings(s,a)},t.prototype.ShowBusVisitDetails=function(e,t){var n=new o.Models.ReportDto;n.set("fromDate",t.get("fromBookingDate")),n.set("toDate",t.get("toBookingDate")),n.set("busId",e),this.app.reqres.setHandler("ReportFilterSetting",function(){return n},this),location.href="#busMilageReport"},t.prototype.GetByCriteria=function(e){var t=this;e.get("fromBookingDate").trim()!=""&&e.set("fromBookingDate",r.FormatDateString(e.get("fromBookingDate"))),e.get("toBookingDate").trim()!=""&&e.set("toBookingDate",r.FormatDateString(e.get("toBookingDate"))),e.get("busSelected")!=undefined&&e.set("busId",e.get("busSelected").id);var n=u.GetByCriteria(e);n.done(function(e){return t.GetByCriteriaCompleted(e)})},t.prototype.GetByCriteriaCompleted=function(e){var t=e.bookingSummaryList,n=[];for(var i=0;i<t.length;i++)n[i]={alkhidmatCentre:t[i].alkhidmatCentre,bookingAmount:r.FormatMoney(t[i].bookingAmount),bookingMilage:r.FormatMoney(t[i].bookingMilage),busNo:t[i].busNo,busId:t[i].busId,currentReading:r.FormatMoney(t[i].currentReading),previusReading:r.FormatMoney(t[i].previusReading),fuelQuantity:r.FormatMoney(t[i].fuelQuantity),fuelRate:r.FormatMoney(t[i].fuelRate),averageMilage:r.FormatMoney(t[i].averageMilage),pumpLocation:t[i].pumpLocation,visitType:t[i].visitType,visitDate:r.FormatDateString(t[i].visitDate),outTime:t[i].outTime,inTime:t[i].inTime,timeTaken:t[i].timeTaken,driver:t[i].driver,fuelingReceipt:t[i].fuelingReceipt};this.backboneCollection.reset(n)},t.prototype.Cancel=function(){window.location.href="#busCentreReport"},t}(r.Controller);t.BusFuelingReportCtrl=h}),define("text!CCTracking.WebClient/Admin/Reports/Driver/DriverSummaryTmpl.html",[],function(){return'<div>\r\n    <div id="gridTemplate">\r\n        <div class="panel panel-default">\r\n            <div class="panel-heading header-bold">\r\n                <span class="glyphicon glyphicon-time"></span>View - Driver Summary Report\r\n                <!--<span class="pull-right"><a href="#addBooking">Add New</a> </span>-->\r\n            </div>\r\n            <div class="panel-body">\r\n                <table id="tblSearch" class="table table-condensed table-bordered table-hover table-striped form-group">\r\n                    <thead>\r\n                        <tr class="active">\r\n                            <!--<th class="input-sm">Id</th>-->\r\n                            <th class="input-sm">Name</th>\r\n                            <th class="input-sm">Milage Convered</th>\r\n                            <th class="input-sm">Total Visits</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody></tbody>\r\n                    <tfoot>\r\n                        <tr class="active">\r\n                            <td colspan="6">&nbsp;</td>\r\n                        </tr>\r\n                    </tfoot>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <script type="text/html" id="rowTemplate">\r\n        <!--<td class="jsShowDetail input-sm"><%=driverId %></td>-->\r\n        <!--<td class="jsShowDetail input-sm"><a href="#driverDetail?id=<%=driverId%>"> <%=driverName%></a></td>-->\r\n        <td class="jsShowDetail input-sm text-primary" style="cursor: hand;cursor: pointer"><%=driverName%></td>\r\n        <td class="input-sm"><%=milage%></td>\r\n        <td class="input-sm"><%=visitCount%></td>        \r\n    </script>\r\n</div>\r\n\r\n\r\n'}),define("text!CCTracking.WebClient/Admin/Reports/Driver/DriverDetail.html",[],function(){return'<div>\r\n    <div id="gridTemplate">\r\n        <div class="panel panel-default">\r\n            <div class="panel-heading header-bold">\r\n                <span class="glyphicon glyphicon-time">&nbsp;</span>View - Driver Details Report\r\n                <span class="pull-right"><a href="#driverSummary" >Driver\'s Summary</a></span>\r\n                <!--<span class="pull-right"><a href="#addBooking">Add New</a> </span>-->\r\n            </div>\r\n            <div class="panel-body">\r\n                <table id="tblDriverDetail" class="table table-condensed table-bordered table-hover table-striped form-group">\r\n                    <thead>\r\n                        <tr class="active">\r\n                            <!--<th class="input-sm">Id</th>-->\r\n                            <th class="input-sm">Name</th>\r\n                            <th class="input-sm">Vehicle No</th>\r\n                            <th class="input-sm">Booking No</th>\r\n                            <th class="input-sm">Time Taken</th>\r\n                            <th class="input-sm">Visit Date</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody></tbody>\r\n                    <tfoot>\r\n                        <tr class="active">\r\n                            <td colspan="6">&nbsp;</td>\r\n                        </tr>\r\n                    </tfoot>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <script type="text/html" id="rowTemplate">        \r\n        <td class="jsShowDetail input-sm"><%=driverName%></td>\r\n        <td class="input-sm"><%=vehicleNo%></td>\r\n        <td class="input-sm"><%=bookingId%></td>        \r\n        <td class="input-sm"><%=visitInterval%></td>        \r\n        <td class="input-sm"><%=visitDate%></td>        \r\n    </script>\r\n</div>\r\n\r\n\r\n'});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Admin/Reports/Driver/DriverSummaryView",["require","exports","../../../Helper","marionette","jquery","jqueryUI","knockout","text!./DriverSummaryTmpl.html","text!./DriverDetail.html"],function(e,t,n){var r=e("underscore"),i=e("text!./DriverSummaryTmpl.html"),s=e("text!./DriverDetail.html"),o,u=function(e){function t(t){t.itemView=f,t.template=i.getOuterHTML("#gridTemplate"),t.itemViewContainer="#tblSearch tbody",this.events={"click .jsSearch":"Search","click .jsCancel":"Cancel"},e.call(this,t)}return __extends(t,e),t}(n.Views.CompositeView);t.DriverSummaryCollectionView=u;var a=function(e){function t(t){t.itemView=l,t.template=s.getOuterHTML("#gridTemplate"),t.itemViewContainer="#tblDriverDetail tbody",this.events={"click .jsSearch":"Search","click .jsCancel":"Cancel"},e.call(this,t)}return __extends(t,e),t}(n.Views.CompositeView);t.DriverDetailCollectionView=a;var f=function(e){function t(t){var n=this;t||(t={}),t.template=i.getOuterHTML("#rowTemplate"),t.tagName="tr",t.className="jsRowClick",t.events={"click .jsShowDetail":function(){n.ShowDetail(n.model.get("driverId"))}},e.call(this,t)}return __extends(t,e),t.prototype.ShowDetail=function(e){this.trigger("DriverSummaryDetail",e)},t}(n.Views.ItemView);t.DriverSummaryItemView=f;var l=function(e){function t(t){t||(t={}),t.template=s.getOuterHTML("#rowTemplate"),t.tagName="tr",t.className="jsRowClick",t.events={},e.call(this,t)}return __extends(t,e),t.prototype.ShowDetail=function(e){},t}(n.Views.ItemView);t.DriverDetailItemView=l});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Admin/Reports/Driver/DriverSummaryCtrl",["require","exports","../../../App","../../../Helper","./DriverSummaryView","../../../Dtos/DriverDto","../../../DAL/Driver","marionette","jquery","knockout"],function(e,t,n,r,i,s,o){var u=e("underscore"),a=e("knockout"),f=e("knockback"),l=function(e){function t(){e.call(this),this.app=n.Application.getInstance(),this.backboneModel=new s.Models.DriverSummaryDto,this.compositeModel=new Backbone.Model,this.backboneCollection=new Backbone.Collection([]),this.collectionView=new i.DriverSummaryCollectionView({collection:this.backboneCollection}),this.backboneCollection.reset([])}return __extends(t,e),t.prototype.Show=function(){var e=this,t=o.GetAllSummary();t.done(function(t){return e.GetDrvierSummaryCompleted(t)}),this.app.MainRegion.show(this.collectionView),this.collectionView.listenTo(this.collectionView,"itemview:DriverSummaryDetail",function(t,n){return e.GetDriverDetial(n)})},t.prototype.GetDriverDetial=function(e){var t=this,n=o.GetAllDetail(e);n.done(function(e){return t.GetDriverDetailCompleted(e)})},t.prototype.GetDriverDetailCompleted=function(e){var t=e.driverList,n=[];for(var s=0;s<t.length;s++)n[s]={driverName:t[s].driverName,vehicleNo:t[s].vehicleNo,visitDate:r.FormatDateString(t[s].visitDate),visitInterval:t[s].visitInterval,bookingId:t[s].bookingId};var o=new Backbone.Collection([]),u=new i.DriverDetailCollectionView({collection:o});this.app.MainRegion.show(u),o.reset(n),location.href="#driverDetail"},t.prototype.GetDrvierSummaryCompleted=function(e){var t=e.driverList,n=[];for(var r=0;r<t.length;r++)n[r]={driverId:t[r].driverId,driverName:t[r].driverName,milage:t[r].milage,visitCount:t[r].visitCount};this.backboneCollection.reset(n)},t.prototype.Cancel=function(){window.location.href="#driverSummary"},t}(r.Controller);t.DriverSummaryCtrl=l}),define("text!CCTracking.WebClient/Admin/Reports/Audit/Booking/AuditBooking.html",[],function(){return'<div>\r\n    <div id="gridTemplate">\r\n        <div class="panel panel-default">\r\n            <div class="panel-heading header-bold"><span class="glyphicon glyphicon-time"></span>View - Audit Booking Report </div>\r\n            <div class="panel-body">\r\n                <form>\r\n                    <table class="table table-condensed table-hover form-group table-removeTopBorder">\r\n\r\n                        <tr>\r\n                            <td class="col-sm-6 col-md-6">\r\n                                From Date <input type="text" id="txtFromDate" class="form-control input-sm" data-bind="datepicker: {}, value: fromDate" \r\n                                    required="required" data-role="validate" title="From Date" data-content="From date is required"/>\r\n                            </td>\r\n                            <td class="col-sm-6 col-md-6">\r\n                                To Date <input type="text" id="txtToDate" class="form-control input-sm" data-bind="datepicker: {}, value: toDate" \r\n                                    required="required" data-role="validate" title="To Date" data-content="To date is required"/>\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td class="col-sm-6 col-md-6">&nbsp;\r\n                            </td>\r\n                            <td class="col-sm-6 col-md-6 ">\r\n                                <span class="pull-right">\r\n                                    <button type="button" class="jsSearchAuditBooking btn btn-default">Search</button>&nbsp;&nbsp;\r\n                                    <button type="reset" class="jsCancel btn btn-default" title="Cancel">Cancel</button>\r\n                                </span>\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                </form>\r\n            </div>\r\n\r\n        </div>\r\n        <div class="panel panel-default">\r\n            <div class="panel-heading header-bold">\r\n                <span class="glyphicon glyphicon-time">&nbsp;</span>View - Search Detail\r\n                <!--<span class="pull-right"><a href="#addBooking">Add New</a> </span>-->\r\n            </div>\r\n            \r\n            <div class="panel-body">\r\n                <table id="tblAuditBooking" class="table table-condensed table-bordered table-hover table-striped form-group">\r\n                    <thead>\r\n                        <tr class="active">\r\n                            <!--<th class="input-sm">Id</th>-->\r\n                            <th class="input-sm">Booking Id</th>\r\n                            <th class="input-sm">Property Name</th>\r\n                            <th class="input-sm">Old Value</th>\r\n                            <th class="input-sm">New Value</th>\r\n                            <th class="input-sm">User</th>\r\n                            <th class="input-sm">Date</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody></tbody>\r\n                    <tfoot>\r\n                        <tr class="active">\r\n                            <td colspan="6">&nbsp;</td>\r\n                        </tr>\r\n                    </tfoot>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <script type="text/html" id="rowTemplate">  \r\n        <td class="input-sm"><%=bookingId%></td>              \r\n        <td class="jsShowDetail input-sm"><%=propertyName%></td>\r\n        <td class="input-sm"><%=oldValue%></td>\r\n        <td class="input-sm"><%=newValue%></td>        \r\n        <td class="input-sm"><%=userName%></td>        \r\n        <td class="input-sm"><%=actualModifiedDate%></td>        \r\n    </script>\r\n</div>\r\n\r\n\r\n'});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Admin/Reports/Audit/Booking/AuditBookingView",["require","exports","../../../../Helper","marionette","jquery","jqueryUI","knockout","text!./AuditBooking.html"],function(e,t,n){var r=e("underscore"),i=e("text!./AuditBooking.html"),s,o=function(e){function t(t){t.itemView=u,t.template=i.getOuterHTML("#gridTemplate"),t.itemViewContainer="#tblAuditBooking tbody",this.events={"click .jsSearchAuditBooking":"Search","click .jsCancel":"Cancel"},e.call(this,t)}return __extends(t,e),t.prototype.Search=function(e){e.preventDefault(),this.trigger("Event:AuditBooking",{fromDate:this.model.get("fromDate"),toDate:this.model.get("toDate")})},t.prototype.Cancel=function(e){e.preventDefault(),this.model.set("fromDate",""),this.model.set("toDate","")},t.prototype.onShow=function(){this.dataTable=this.$el.find("#tblBooking").dataTable({autoWidth:!1,info:!0,processing:!0,lengthMenu:[[10,25,50,-1],[10,25,50,"All"]],language:{paginate:{next:"Next",previous:"Prev"},emptyTable:"No record found!",infoEmpty:"No record found!",zeroRecords:"No record found!"},pageLength:n.GetPageSize()})},t}(n.Views.CompositeView);t.AuditBookingCollectionView=o;var u=function(e){function t(t){t||(t={}),t.template=i.getOuterHTML("#rowTemplate"),t.tagName="tr",t.model.get("rowCounter")%2==0?t.className="info":t.className="warning",e.call(this,t)}return __extends(t,e),t.prototype.ShowDetail=function(e){},t}(n.Views.ItemView);t.AuditBookingItemView=u});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Dtos/BookingDto",["require","exports","jquery","backbone"],function(e,t){(function(e){var t=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.default=function(){return{id:"",contactName:"",contactMobile:"",contactNic:"",deseasedName:"",deseasedAge:"",deseasedGender:"",causeOfDeath:"",causeOfDeathSelected:"",address:"",alkhidmatCentreId:"",busPoint:"",unionCouncil:"",town:"",pickupDate:"",pickupTime:"",returnTime:"",graveyard:"",namazEJanazaHeldIn:"",namazEJanazaLocation:"",masjidName:"",otherDetail:"",isReferralBooking:"",referralName:"",referralDetail:""}},t}(Backbone.Model);e.BookingRequest=t;var n=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.default=function(){return{id:"",contactName:"",contactMobile:"",contactNic:"",deseasedName:"",deseasedAge:"",deseasedGender:"",causeOfDeath:"",address:"",busPoint:"",landmarkId:"",receiptNo:"",unionCouncilId:"",townId:"",pickupDate:"",pickupTime:"",returnTime:"",graveyard:"",namazEJanazaHeldIn:"",namazEJanazaLocation:"",masjidName:"",otherDetail:"",isReferralBooking:"",referralName:"",referralDetail:""}},t}(Backbone.Model);e.BookingResponse=n;var r=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.default=function(){return{id:"",bookingId:"",propertyName:"",oldValue:"",newValue:"",modifiedDate:"",createdDate:"",actualModifiedDate:"",userName:""}},t}(Backbone.Model);e.AuditBooking=r;var i=function(e){function t(t){this.model=n,e.call(this,t)}return __extends(t,e),t}(Backbone.Collection);e.BookingResponseCollection=i;var s=function(e){function t(t){this.model=r,e.call(this,t)}return __extends(t,e),t}(Backbone.Collection);e.AuditBookingResponseCollection=s})(t.Models||(t.Models={}));var n=t.Models});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/DAL/Booking",["require","exports","CCTracking.WebClient/DAL/AjaxRequest","CCTracking.WebClient/Dtos/BookingDto","jquery"],function(e,t,n,r){function o(){var e=new s;return e.doAjaxRequest(null,"GET","Booking")}function u(e){var t=new s;return t.doAjaxRequest(e,"POST","Booking")}function a(e){var t=new s;return t.doAjaxRequest(null,"GET","Booking?a="+e)}function f(e){var t=new s;return t.doAjaxRequest(null,"GET","Booking?id="+e)}function l(e){var t=new s;return t.doAjaxRequest(e,"POST","AuditBooking")}var i=e("jquery"),s=function(e){function t(){e.call(this,this)}return __extends(t,e),t.prototype.getResponse=function(){return new r.Models.BookingResponse},t}(n.BaseDto);t.BookingDal=s,t.Load=o,t.Save=u,t.GetAll=a,t.GetById=f,t.GetAllAuditBooking=l});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Admin/Reports/Audit/Booking/AuditBookingCtrl",["require","exports","../../../../App","../../../../Helper","./AuditBookingView","../../../../Dtos/BookingDto","../../../../DAL/Booking","marionette","jquery","knockout"],function(e,t,n,r,i,s,o){var u=e("underscore"),a=e("knockout"),f=e("knockback"),l=function(e){function t(){e.call(this),this.app=n.Application.getInstance(),this.backboneModel=new s.Models.AuditBooking,this.compositeModel=new Backbone.Model,this.backboneCollection=new Backbone.Collection([]),this.collectionView=new i.AuditBookingCollectionView({collection:this.backboneCollection}),this.backboneCollection.reset([])}return __extends(t,e),t.prototype.Show=function(){var e=this,t=this.backboneModel;t.set("fromDate",r.FormatDateString(Date.now())),t.set("toDate",r.FormatDateString(Date.now())),this.compositeModel=t,this.collectionView.model=t,this.app.MainRegion.show(this.collectionView),this.collectionView.listenTo(this.collectionView,"Event:AuditBooking",function(t){return e.GetAuditBookingDetial(t)});var n=f.viewModel(this.compositeModel),i=$("#txtFromDate")[0];a.cleanNode(i),a.applyBindings(n,i);var s=$("#txtToDate")[0];a.cleanNode(s),a.applyBindings(n,s)},t.prototype.GetAuditBookingDetial=function(e){var t=this,n=new Backbone.Model(e);if(n.get("fromDate")==""||n.get("toDate")==""){r.ShowModalPopup("danger","Audit Booking","Please enter valid search criteria");return}var i=o.GetAllAuditBooking(n);i.done(function(e){return t.AuditBookingCompleted(e)})},t.prototype.AuditBookingCompleted=function(e){var t=e.auditBookingDisplayList,n=[];for(var i=0;i<t.length;i++)n[i]={bookingId:t[i].bookingId,userName:t[i].userName,propertyName:t[i].propertyName,oldValue:t[i].oldValue,newValue:t[i].newValue,actualModifiedDate:r.FormatDateString(t[i].actualModifiedDate),rowCounter:t[i].rowCounter};this.backboneCollection.reset(n)},t}(r.Controller);t.AuditBookingCtrl=l}),define("text!CCTracking.WebClient/Admin/Reports/Audit/BusVisit/AuditBusVisit.html",[],function(){return'<div>\r\n    <div id="gridTemplate">\r\n        <div class="panel panel-default">\r\n            <div class="panel-heading header-bold"><span class="glyphicon glyphicon-time"></span>View - Audit Bus Visit Report </div>\r\n            <div class="panel-body">\r\n                <form>\r\n                    <table class="table table-condensed table-hover form-group table-removeTopBorder">\r\n\r\n                        <tr>\r\n                            <td class="col-sm-6 col-md-6">\r\n                                From Date <input type="text" id="txtFromDate" class="form-control input-sm" data-bind="datepicker: {}, value: fromDate" \r\n                                    required="required" data-role="validate" title="From Date" data-content="From date is required"/>\r\n                            </td>\r\n                            <td class="col-sm-6 col-md-6">\r\n                                To Date <input type="text" id="txtToDate" class="form-control input-sm" data-bind="datepicker: {}, value: toDate" \r\n                                    required="required" data-role="validate" title="To Date" data-content="To date is required"/>\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td class="col-sm-6 col-md-6">&nbsp;\r\n                            </td>\r\n                            <td class="col-sm-6 col-md-6 ">\r\n                                <span class="pull-right">\r\n                                    <button type="button" class="jsSearchAuditBusVisit btn btn-default">Search</button>&nbsp;&nbsp;\r\n                                    <button type="reset" class="jsCancel btn btn-default" title="Cancel">Cancel</button>\r\n                                </span>\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                </form>\r\n            </div>\r\n\r\n        </div>\r\n        <div class="panel panel-default">\r\n            <div class="panel-heading header-bold">\r\n                <span class="glyphicon glyphicon-time">&nbsp;</span>View - Search Detail\r\n                <!--<span class="pull-right"><a href="#addBooking">Add New</a> </span>-->\r\n            </div>\r\n            \r\n            <div class="panel-body">\r\n                <table id="tblAuditBusVisit" class="table table-condensed table-bordered table-hover table-striped form-group">\r\n                    <thead>\r\n                        <tr class="active">\r\n                            <!--<th class="input-sm">Id</th>-->\r\n                            <th class="input-sm">Booking Id</th>\r\n                            <th class="input-sm">Property Name</th>\r\n                            <th class="input-sm">Old Value</th>\r\n                            <th class="input-sm">New Value</th>\r\n                            <th class="input-sm">User</th>\r\n                            <th class="input-sm">Date</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody></tbody>\r\n                    <tfoot>\r\n                        <tr class="active">\r\n                            <td colspan="6">&nbsp;</td>\r\n                        </tr>\r\n                    </tfoot>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <script type="text/html" id="rowTemplate">  \r\n        <td class="input-sm"><%=bookingId%></td>              \r\n        <td class="jsShowDetail input-sm"><%=propertyName%></td>\r\n        <td class="input-sm"><%=oldValue%></td>\r\n        <td class="input-sm"><%=newValue%></td>        \r\n        <td class="input-sm"><%=userName%></td>        \r\n        <td class="input-sm"><%=actualModifiedDate%></td>        \r\n    </script>\r\n</div>\r\n\r\n\r\n'});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Admin/Reports/Audit/BusVisit/AuditBusVisitView",["require","exports","../../../../Helper","marionette","jquery","jqueryUI","knockout","text!./AuditBusVisit.html"],function(e,t,n){var r=e("underscore"),i=e("text!./AuditBusVisit.html"),s,o=function(e){function t(t){t.itemView=u,t.template=i.getOuterHTML("#gridTemplate"),t.itemViewContainer="#tblAuditBusVisit tbody",this.events={"click .jsSearchAuditBusVisit":"Search","click .jsCancel":"Cancel"},e.call(this,t)}return __extends(t,e),t.prototype.Search=function(e){e.preventDefault(),this.trigger("Event:AuditBusVisit",{fromDate:this.model.get("fromDate"),toDate:this.model.get("toDate")})},t.prototype.Cancel=function(e){e.preventDefault(),this.model.set("fromDate",""),this.model.set("toDate","")},t}(n.Views.CompositeView);t.AuditBusVisitCollectionView=o;var u=function(e){function t(t){t||(t={}),t.template=i.getOuterHTML("#rowTemplate"),t.tagName="tr",t.model.get("rowCounter")%2==0?t.className="info":t.className="warning",e.call(this,t)}return __extends(t,e),t.prototype.ShowDetail=function(e){},t}(n.Views.ItemView);t.AuditBusVisitItemView=u});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Dtos/BusVisitDto",["require","exports","jquery","backbone"],function(e,t){(function(e){var t=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.default=function(){return{idAttribute:"busVisitId",id:"",centreId:"",busId:"",driverId:"",visitTypeId:"",bookingId:"",inchargeName:"",visitDate:"",outTime:"",returnTime:"",readingWhenFilling:"",pumpLocation:"",fuelRate:"",fuelAmount:"",fuelQuantity:"",fuelingReceipt:"",isBookingCompleted:"",description:"",busChangeReason:"",initialReading:"",finalReading:"",isActive:"",busDesc:"",centreDesc:"",driverDesc:"",visitTypeDesc:"",createdBy:"",createdDate:"",modifiedBy:"",modifiedDate:""}},t}(Backbone.Model);e.BusVisitDto=t;var n=function(e){function n(n){this.model=t,e.call(this,n)}return __extends(n,e),n}(Backbone.Collection);e.BusVisitCollection=n;var r=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.default=function(){return{busId:"",busDesc:"",driverDesc:"",centreDesc:"",milage:"",visitCount:"",vehicleNo:"",visitDate:"",visitInterval:"",bookingId:"",isActive:"",createdBy:"",createdDate:"",modifiedBy:"",modifiedDate:""}},t}(Backbone.Model);e.BusVisitSummaryDto=r;var i=function(e){function t(t){this.model=r,e.call(this,t)}return __extends(t,e),t}(Backbone.Collection);e.BusVisitSummaryCollection=i;var s=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.default=function(){return{id:"",bookingId:"",propertyName:"",oldValue:"",newValue:"",modifiedDate:"",createdDate:"",actualModifiedDate:"",userName:""}},t}(Backbone.Model);e.AuditBusVisit=s;var o=function(e){function t(t){this.model=s,e.call(this,t)}return __extends(t,e),t}(Backbone.Collection);e.AuditBusVisitResponseCollection=o})(t.Models||(t.Models={}));var n=t.Models});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/DAL/BusVisit",["require","exports","CCTracking.WebClient/DAL/AjaxRequest","CCTracking.WebClient/Dtos/BusVisitDto","jquery"],function(e,t,n,r){function o(){var e=new s;return e.doAjaxRequest(null,"GET","BusVisit")}function u(e){var t=new s;return t.doAjaxRequest(e,"POST","BusVisit")}function a(e){var t=new s;return t.doAjaxRequest(null,"GET","BusVisit?idAll="+e)}function f(e){var t=new s;return t.doAjaxRequest(null,"GET","BusVisit?id="+e)}function l(){var e=new s;return e.doAjaxRequest(null,"GET","BusVisitSummary")}function c(e){var t=new s;return t.doAjaxRequest(null,"GET","BusVisitSummary?id="+e)}function h(){var e=new s;return e.doAjaxRequest(null,"GET","BusVisitMilageSummary")}function p(e){var t=new s;return t.doAjaxRequest(null,"GET","BusVisitMilageSummary?id="+e)}function d(e){var t=new s;return t.doAjaxRequest(e,"POST","AuditBusVisit")}var i=e("jquery"),s=function(e){function t(){e.call(this,this)}return __extends(t,e),t.prototype.getResponse=function(){return new r.Models.BusVisitDto},t}(n.BaseDto);t.BusVisitDal=s,t.Load=o,t.Save=u,t.GetAll=a,t.GetById=f,t.GetAllSummary=l,t.GetAllDetail=c,t.GetAllMilageSummary=h,t.GetAllMilageDetail=p,t.GetAllAuditBusVisit=d});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Admin/Reports/Audit/BusVisit/AuditBusVisitCtrl",["require","exports","../../../../App","../../../../Helper","./AuditBusVisitView","../../../../Dtos/BusVisitDto","../../../../DAL/BusVisit","marionette","jquery","knockout"],function(e,t,n,r,i,s,o){var u=e("underscore"),a=e("knockout"),f=e("knockback"),l=function(e){function t(){e.call(this),this.app=n.Application.getInstance(),this.backboneModel=new s.Models.AuditBusVisit,this.compositeModel=new Backbone.Model,this.backboneCollection=new Backbone.Collection([]),this.collectionView=new i.AuditBusVisitCollectionView({collection:this.backboneCollection}),this.backboneCollection.reset([])}return __extends(t,e),t.prototype.Show=function(){var e=this,t=this.backboneModel;t.set("fromDate",r.FormatDateString(Date.now())),t.set("toDate",r.FormatDateString(Date.now())),this.compositeModel=t,this.collectionView.model=t,this.app.MainRegion.show(this.collectionView),this.collectionView.listenTo(this.collectionView,"Event:AuditBusVisit",function(t){return e.GetAuditBusVisitDetial(t)});var n=f.viewModel(this.compositeModel),i=$("#txtFromDate")[0];a.cleanNode(i),a.applyBindings(n,i);var s=$("#txtToDate")[0];a.cleanNode(s),a.applyBindings(n,s)},t.prototype.GetAuditBusVisitDetial=function(e){var t=this,n=new Backbone.Model(e);if(n.get("fromDate")==""||n.get("toDate")==""){r.ShowModalPopup("danger","Audit Booking","Please enter valid search criteria");return}var i=o.GetAllAuditBusVisit(n);i.done(function(e){return t.AuditBusVisitCompleted(e)})},t.prototype.AuditBusVisitCompleted=function(e){var t=e.auditBusVisitDisplayList,n=[];for(var i=0;i<t.length;i++)n[i]={bookingId:t[i].bookingId,userName:t[i].userName,propertyName:t[i].propertyName,oldValue:t[i].oldValue,newValue:t[i].newValue,actualModifiedDate:r.FormatDateString(t[i].actualModifiedDate),rowCounter:t[i].rowCounter};this.backboneCollection.reset(n)},t}(r.Controller);t.AuditBusVisitCtrl=l}),define("text!CCTracking.WebClient/Admin/Reports/Audit/Payment/AuditPayment.html",[],function(){return'<div>\r\n    <div id="gridTemplate">\r\n        <div class="panel panel-default">\r\n            <div class="panel-heading header-bold"><span class="glyphicon glyphicon-time"></span>View - Audit Payment Report </div>\r\n            <div class="panel-body">\r\n                <form>\r\n                    <table class="table table-condensed table-hover form-group table-removeTopBorder">\r\n\r\n                        <tr>\r\n                            <td class="col-sm-6 col-md-6">\r\n                                From Date <input type="text" id="txtFromDate" class="form-control input-sm" data-bind="datepicker: {}, value: fromDate" \r\n                                    required="required" data-role="validate" title="From Date" data-content="From date is required"/>\r\n                            </td>\r\n                            <td class="col-sm-6 col-md-6">\r\n                                To Date <input type="text" id="txtToDate" class="form-control input-sm" data-bind="datepicker: {}, value: toDate" \r\n                                    required="required" data-role="validate" title="To Date" data-content="To date is required"/>\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td class="col-sm-6 col-md-6">&nbsp;\r\n                            </td>\r\n                            <td class="col-sm-6 col-md-6 ">\r\n                                <span class="pull-right">\r\n                                    <button type="button" class="jsSearchAuditPayment btn btn-default">Search</button>&nbsp;&nbsp;\r\n                                    <button type="reset" class="jsCancel btn btn-default" title="Cancel">Cancel</button>\r\n                                </span>\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                </form>\r\n            </div>\r\n\r\n        </div>\r\n        <div class="panel panel-default">\r\n            <div class="panel-heading header-bold">\r\n                <span class="glyphicon glyphicon-time">&nbsp;</span>View - Search Detail\r\n                <!--<span class="pull-right"><a href="#addBooking">Add New</a> </span>-->\r\n            </div>\r\n            \r\n            <div class="panel-body">\r\n                <table id="tblAuditPayment" class="table table-condensed table-bordered table-hover table-striped form-group">\r\n                    <thead>\r\n                        <tr class="active">\r\n                            <!--<th class="input-sm">Id</th>-->\r\n                            <th class="input-sm">Booking Id</th>\r\n                            <th class="input-sm">Property Name</th>\r\n                            <th class="input-sm">Old Value</th>\r\n                            <th class="input-sm">New Value</th>\r\n                            <th class="input-sm">User</th>\r\n                            <th class="input-sm">Date</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody></tbody>\r\n                    <tfoot>\r\n                        <tr class="active">\r\n                            <td colspan="6">&nbsp;</td>\r\n                        </tr>\r\n                    </tfoot>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <script type="text/html" id="rowTemplate">  \r\n        <td class="input-sm"><%=bookingId%></td>              \r\n        <td class="jsShowDetail input-sm"><%=propertyName%></td>\r\n        <td class="input-sm"><%=oldValue%></td>\r\n        <td class="input-sm"><%=newValue%></td>        \r\n        <td class="input-sm"><%=userName%></td>        \r\n        <td class="input-sm"><%=actualModifiedDate%></td>        \r\n    </script>\r\n</div>\r\n\r\n\r\n'});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Admin/Reports/Audit/Payment/AuditPaymentView",["require","exports","../../../../Helper","marionette","jquery","jqueryUI","knockout","text!./AuditPayment.html"],function(e,t,n){var r=e("underscore"),i=e("text!./AuditPayment.html"),s,o=function(e){function t(t){t.itemView=u,t.template=i.getOuterHTML("#gridTemplate"),t.itemViewContainer="#tblAuditPayment tbody",this.events={"click .jsSearchAuditPayment":"Search","click .jsCancel":"Cancel"},e.call(this,t)}return __extends(t,e),t.prototype.Search=function(e){e.preventDefault(),this.trigger("Event:AuditPayment",{fromDate:this.model.get("fromDate"),toDate:this.model.get("toDate")})},t.prototype.Cancel=function(e){e.preventDefault(),this.model.set("fromDate",""),this.model.set("toDate","")},t}(n.Views.CompositeView);t.AuditPaymentCollectionView=o;var u=function(e){function t(t){t||(t={}),t.template=i.getOuterHTML("#rowTemplate"),t.tagName="tr",t.model.get("rowCounter")%2==0?t.className="info":t.className="warning",e.call(this,t)}return __extends(t,e),t.prototype.ShowDetail=function(e){},t}(n.Views.ItemView);t.AuditPaymentItemView=u});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Dtos/PaymentDto",["require","exports","jquery","backbone"],function(e,t){(function(e){var t=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.default=function(){return{bookingId:"",paymentType:"",pricing:"",amount:"",paymentLocation:"",officerId:"",receiptNo:"",extraAmountCharge:"",extraAmountReason:"",extraAmountReceipt:"",paymentStatus:"",isReferralBooking:"",isReferralBookingPaid:"",referralPaymentDate:""}},t}(Backbone.Model);e.PaymentRequest=t;var n=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.default=function(){return{bookingId:"",paymentType:"",pricing:"",amount:"",paymentLocation:"",officerId:"",receiptNo:"",extraAmountCharge:"",extraAmountReason:"",extraAmountReceipt:"",paymentStatus:"",easyPaisaTranNo:"",isReferralBooking:"",isReferralBookingPaid:"",referralPaymentDate:""}},t}(Backbone.Model);e.PaymentResponse=n;var r=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.default=function(){return{id:"",bookingId:"",propertyName:"",oldValue:"",newValue:"",modifiedDate:"",createdDate:"",actualModifiedDate:"",userName:""}},t}(Backbone.Model);e.AuditPayment=r;var i=function(e){function t(t){this.model=n,e.call(this,t)}return __extends(t,e),t}(Backbone.Collection);e.PaymentResponseCollection=i;var s=function(e){function t(t){this.model=r,e.call(this,t)}return __extends(t,e),t}(Backbone.Collection);e.AuditPaymentResponseCollection=s})(t.Models||(t.Models={}));var n=t.Models});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/DAL/Payment",["require","exports","CCTracking.WebClient/DAL/AjaxRequest","CCTracking.WebClient/Dtos/PaymentDto","jquery"],function(e,t,n,r){function o(){var e=new s;return e.doAjaxRequest(null,"GET","Payment")}function u(e){var t=new s;return t.doAjaxRequest(e,"POST","Payment")}function a(){var e=new s;return e.doAjaxRequest(null,"GET","Payment?a=a")}function f(e){var t=new s;return t.doAjaxRequest(null,"GET","Payment?id="+e)}function l(e){var t=new s;return t.doAjaxRequest(null,"GET","BusAvailability?id="+e)}function c(e){var t=new s;return t.doAjaxRequest(e,"POST","AuditPayment")}var i=e("jquery"),s=function(e){function t(){e.call(this,this)}return __extends(t,e),t.prototype.getResponse=function(){return new r.Models.PaymentResponse},t}(n.BaseDto);t.PaymentDal=s,t.Load=o,t.Save=u,t.GetAll=a,t.GetById=f,t.GetBusAvialability=l,t.GetAllAuditPayment=c});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Admin/Reports/Audit/Payment/AuditPaymentCtrl",["require","exports","../../../../App","../../../../Helper","./AuditPaymentView","../../../../Dtos/PaymentDto","../../../../DAL/Payment","marionette","jquery","knockout"],function(e,t,n,r,i,s,o){var u=e("underscore"),a=e("knockout"),f=e("knockback"),l=function(e){function t(){e.call(this),this.app=n.Application.getInstance(),this.backboneModel=new s.Models.AuditPayment,this.compositeModel=new Backbone.Model,this.backboneCollection=new Backbone.Collection([]),this.collectionView=new i.AuditPaymentCollectionView({collection:this.backboneCollection}),this.backboneCollection.reset([])}return __extends(t,e),t.prototype.Show=function(){var e=this,t=this.backboneModel;t.set("fromDate",r.FormatDateString(Date.now())),t.set("toDate",r.FormatDateString(Date.now())),this.compositeModel=t,this.collectionView.model=t,this.app.MainRegion.show(this.collectionView),this.collectionView.listenTo(this.collectionView,"Event:AuditPayment",function(t){return e.GetAuditPaymentDetial(t)});var n=f.viewModel(this.compositeModel),i=$("#txtFromDate")[0];a.cleanNode(i),a.applyBindings(n,i);var s=$("#txtToDate")[0];a.cleanNode(s),a.applyBindings(n,s)},t.prototype.GetAuditPaymentDetial=function(e){var t=this,n=new Backbone.Model(e);if(n.get("fromDate")==""||n.get("toDate")==""){r.ShowModalPopup("danger","Audit Payment","Please enter valid search criteria");return}var i=o.GetAllAuditPayment(n);i.done(function(e){return t.AuditPaymentCompleted(e)})},t.prototype.AuditPaymentCompleted=function(e){var t=e.auditPaymentDisplayList,n=[];for(var i=0;i<t.length;i++)n[i]={bookingId:t[i].bookingId,userName:t[i].userName,propertyName:t[i].propertyName,oldValue:t[i].oldValue,newValue:t[i].newValue,actualModifiedDate:r.FormatDateString(t[i].actualModifiedDate),rowCounter:t[i].rowCounter};this.backboneCollection.reset(n)},t}(r.Controller);t.AuditPaymentCtrl=l}),define("text!CCTracking.WebClient/Admin/Reports/Audit/Refund/AuditRefundBooking.html",[],function(){return'<div>\r\n    <div id="gridTemplate">\r\n        <div class="panel panel-default">\r\n            <div class="panel-heading header-bold"><span class="glyphicon glyphicon-time"></span>View - Audit Refund Booking Report </div>\r\n            <div class="panel-body">\r\n                <form>\r\n                    <table class="table table-condensed table-hover form-group table-removeTopBorder">\r\n\r\n                        <tr>\r\n                            <td class="col-sm-6 col-md-6">\r\n                                From Date <input type="text" id="txtFromDate" class="form-control input-sm" data-bind="datepicker: {}, value: fromDate" \r\n                                    required="required" data-role="validate" title="From Date" data-content="From date is required"/>\r\n                            </td>\r\n                            <td class="col-sm-6 col-md-6">\r\n                                To Date <input type="text" id="txtToDate" class="form-control input-sm" data-bind="datepicker: {}, value: toDate" \r\n                                    required="required" data-role="validate" title="To Date" data-content="To date is required"/>\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td class="col-sm-6 col-md-6">&nbsp;\r\n                            </td>\r\n                            <td class="col-sm-6 col-md-6 ">\r\n                                <span class="pull-right">\r\n                                    <button type="button" class="jsSearchAuditRefundBooking btn btn-default">Search</button>&nbsp;&nbsp;\r\n                                    <button type="reset" class="jsCancel btn btn-default" title="Cancel">Cancel</button>\r\n                                </span>\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                </form>\r\n            </div>\r\n\r\n        </div>\r\n        <div class="panel panel-default">\r\n            <div class="panel-heading header-bold">\r\n                <span class="glyphicon glyphicon-time">&nbsp;</span>View - Search Detail\r\n                <!--<span class="pull-right"><a href="#addBooking">Add New</a> </span>-->\r\n            </div>\r\n            \r\n            <div class="panel-body">\r\n                <table id="tblAuditRefundBooking" class="table table-condensed table-bordered table-hover table-striped form-group">\r\n                    <thead>\r\n                        <tr class="active">\r\n                            <!--<th class="input-sm">Id</th>-->\r\n                            <th class="input-sm">Booking Id</th>\r\n                            <th class="input-sm">Property Name</th>\r\n                            <th class="input-sm">Old Value</th>\r\n                            <th class="input-sm">New Value</th>\r\n                            <th class="input-sm">User</th>\r\n                            <th class="input-sm">Date</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody></tbody>\r\n                    <tfoot>\r\n                        <tr class="active">\r\n                            <td colspan="6">&nbsp;</td>\r\n                        </tr>\r\n                    </tfoot>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <script type="text/html" id="rowTemplate">  \r\n        <td class="input-sm"><%=bookingId%></td>              \r\n        <td class="jsShowDetail input-sm"><%=propertyName%></td>\r\n        <td class="input-sm"><%=oldValue%></td>\r\n        <td class="input-sm"><%=newValue%></td>        \r\n        <td class="input-sm"><%=userName%></td>        \r\n        <td class="input-sm"><%=actualModifiedDate%></td>        \r\n    </script>\r\n</div>\r\n\r\n\r\n'});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Admin/Reports/Audit/Refund/AuditRefundBookingView",["require","exports","../../../../Helper","marionette","jquery","jqueryUI","knockout","text!./AuditRefundBooking.html"],function(e,t,n){var r=e("underscore"),i=e("text!./AuditRefundBooking.html"),s,o=function(e){function t(t){t.itemView=u,t.template=i.getOuterHTML("#gridTemplate"),t.itemViewContainer="#tblAuditRefundBooking tbody",this.events={"click .jsSearchAuditRefundBooking":"Search","click .jsCancel":"Cancel"},e.call(this,t)}return __extends(t,e),t.prototype.Search=function(e){e.preventDefault(),this.trigger("Event:AuditRefundBooking",{fromDate:this.model.get("fromDate"),toDate:this.model.get("toDate")})},t.prototype.Cancel=function(e){e.preventDefault(),this.model.set("fromDate",""),this.model.set("toDate","")},t}(n.Views.CompositeView);t.AuditRefundBookingCollectionView=o;var u=function(e){function t(t){t||(t={}),t.template=i.getOuterHTML("#rowTemplate"),t.tagName="tr",t.model.get("rowCounter")%2==0?t.className="info":t.className="warning",e.call(this,t)}return __extends(t,e),t.prototype.ShowDetail=function(e){},t}(n.Views.ItemView);t.AuditRefundBookingItemView=u});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Dtos/RefundBookingDto",["require","exports","jquery","backbone"],function(e,t){(function(e){var t=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.default=function(){return{id:"",bookingId:"",busId:"",actualBookingAmount:"",refundOfficeLocation:"",refundTypeId:"",refundAmount:"",amountDeducted:"",refundReason:"",refundReceipt:"",refundOfficer:"",isActive:"",createdBy:"",createdDate:"",modifiedBy:"",modifiedDate:""}},t}(Backbone.Model);e.RefundBookingDto=t;var n=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.default=function(){return{id:"",bookingId:"",propertyName:"",oldValue:"",newValue:"",modifiedDate:"",createdDate:"",actualModifiedDate:"",userName:""}},t}(Backbone.Model);e.AuditRefundBooking=n;var r=function(e){function n(n){this.model=t,e.call(this,n)}return __extends(n,e),n}(Backbone.Collection);e.RefundBookingCollection=r;var i=function(e){function t(t){this.model=n,e.call(this,t)}return __extends(t,e),t}(Backbone.Collection);e.AuditRefundBookingResponseCollection=i})(t.Models||(t.Models={}));var n=t.Models});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/DAL/RefundBooking",["require","exports","CCTracking.WebClient/DAL/AjaxRequest","CCTracking.WebClient/Dtos/RefundBookingDto","jquery"],function(e,t,n,r){function o(){var e=new s;return e.doAjaxRequest(null,"GET","RefundBooking")}function u(e){var t=new s;return t.doAjaxRequest(e,"POST","RefundBooking")}function a(e){var t=new s;return t.doAjaxRequest(null,"GET","RefundBooking?id="+e)}function f(e){var t=new s;return t.doAjaxRequest(e,"POST","AuditRefundBooking")}var i=e("jquery"),s=function(e){function t(){e.call(this,this)}return __extends(t,e),t.prototype.getResponse=function(){return new r.Models.RefundBookingDto},t}(n.BaseDto);t.RefundBookingDal=s,t.Load=o,t.Save=u,t.GetById=a,t.GetAllAuditRefundBooking=f});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("CCTracking.WebClient/Admin/Reports/Audit/Refund/AuditRefundBookingCtrl",["require","exports","../../../../App","../../../../Helper","./AuditRefundBookingView","../../../../Dtos/RefundBookingDto","../../../../DAL/RefundBooking","marionette","jquery","knockout"],function(e,t,n,r,i,s,o){var u=e("underscore"),a=e("knockout"),f=e("knockback"),l=function(e){function t(){e.call(this),this.app=n.Application.getInstance(),this.backboneModel=new s.Models.AuditRefundBooking,this.compositeModel=new Backbone.Model,this.backboneCollection=new Backbone.Collection([]),this.collectionView=new i.AuditRefundBookingCollectionView({collection:this.backboneCollection}),this.backboneCollection.reset([])}return __extends(t,e),t.prototype.Show=function(){var e=this,t=this.backboneModel;t.set("fromDate",r.FormatDateString(Date.now())),t.set("toDate",r.FormatDateString(Date.now())),this.compositeModel=t,this.collectionView.model=t,this.app.MainRegion.show(this.collectionView),this.collectionView.listenTo(this.collectionView,"Event:AuditRefundBooking",function(t){return e.GetAuditRefundBookingDetial(t)});var n=f.viewModel(this.compositeModel),i=$("#txtFromDate")[0];a.cleanNode(i),a.applyBindings(n,i);var s=$("#txtToDate")[0];a.cleanNode(s),a.applyBindings(n,s)},t.prototype.GetAuditRefundBookingDetial=function(e){var t=this,n=new Backbone.Model(e);if(n.get("fromDate")==""||n.get("toDate")==""){r.ShowModalPopup("danger","Audit Refund Booking","Please enter valid search criteria");return}var i=o.GetAllAuditRefundBooking(n);i.done(function(e){return t.AuditRefundBookingCompleted(e)})},t.prototype.AuditRefundBookingCompleted=function(e){var t=e.auditRefundBookingDisplayList,n=[];for(var i=0;i<t.length;i++)n[i]={bookingId:t[i].bookingId,userName:t[i].userName,propertyName:t[i].propertyName,oldValue:t[i].oldValue,newValue:t[i].newValue,actualModifiedDate:r.FormatDateString(t[i].actualModifiedDate),rowCounter:t[i].rowCounter};this.backboneCollection.reset(n)},t}(r.Controller);t.AuditRefundBookingCtrl=l});