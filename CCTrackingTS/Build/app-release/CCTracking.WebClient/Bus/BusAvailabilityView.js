var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define(["require","exports","../Helper","marionette","jquery","knockout","text!./BusAvailability.html","text!./BusAvailabilityGrid.html"],function(e,t,n){var r=e("underscore"),i=e("text!./BusAvailability.html"),s=e("text!./BusAvailabilityGrid.html"),o,u=function(e){function t(t,n){e.call(this,t,n)}return __extends(t,e),t}(n.ViewModel);t.BusAvailabilityViewModel=u;var a=function(e){function t(t){this.template=i,this.events={submit:"Save","click .jsAvailability":"Availability"},e.call(this,t)}return __extends(t,e),t.prototype.close=function(){this.off("Event:SaveForm"),this.off("Event:BusAvailability"),this.off("Event:BusBookingDetail")},t.prototype.Availability=function(){this.trigger("Event:BusAvailability",this.model.get("alkhidmatCentreSelected").id)},t.prototype.Save=function(e){e.preventDefault(),this.trigger("Event:SaveForm")},t}(n.Views.MvvmView);t.BusAvailabilityView=a;var f=function(e){function t(t){t.itemView=l,t.template=s.getOuterHTML("#gridTemplate"),t.itemViewContainer="tbody",t.events={"click .jsSearchVisit":"SearchVisit"},e.call(this,t)}return __extends(t,e),t.prototype.SearchVisit=function(e){e.preventDefault(),this.trigger("Event:SearchVisit",this.model.get("busSelected").id)},t.prototype.setOptionDisable=function(e,t){alert("dddddd")},t}(n.Views.CompositeView);t.BusAvailabilityCollectionView=f;var l=function(e){function t(t){var n=this;t||(t={}),t.template=s.getOuterHTML("#rowTemplate"),t.tagName="tr",t.className="jsRowClick",t.events={"click .jsShowBusDetail":"ShowBusDetail"},e.call(this,t),this.templateHelpers={showBuses:function(){if(n.model!=undefined){var e=n.model.get("busList")===null?"":n.model.get("busList"),t="";if(e!=""){var r=e.split("|");for(var i=0;i<r.length;i++)r[i].trim().indexOf("0 ")>=0?t=t+" <a href='javasript:void(0);?id="+r[i].trim().split(" ")[1]+"' class='jsShowBusDetail btn-danger'>"+r[i]+"</a> &nbsp; | ":t=t+" <span class='btn-success'>"+r[i]+"</span> &nbsp; | ";t!=""&&(t=t.substring(0,t.length-2))}return t}return""},showMessage1:function(){return"this is the coolest!SSS"}}}return __extends(t,e),t.prototype.ShowBusDetail=function(e){var t=e.target.href.split("=")[1];this.trigger("Event:BusBookingDetail",t)},t.prototype.ShowDetail=function(){this.trigger("ShowDetail")},t}(n.Views.ItemView);t.BusAvailabilityItemView=l});