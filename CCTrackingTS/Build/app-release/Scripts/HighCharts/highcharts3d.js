(function(e){function t(t,n,r,i){var s,l,c;r*=o,n*=o;var h=[],p,v,g;r*=-1,p=i.x,v=i.y,g=(i.z===0?1e-4:i.z)*(i.vd||25),g=Math.max(500,g);var y=u(r),b=a(r),w=u(n),E=a(n),S,x,T;return e.each(t,function(e){S=e.x-p,x=e.y-v,T=e.z||0,s=b*S-y*T,l=-y*w*S-b*w*T+E*x,c=y*E*S+b*E*T+w*x,s=s*((g-c)/g)+p,l=l*((g-c)/g)+v,h.push({x:f(s),y:f(l),z:f(c)})}),h}function n(e){return e!==void 0&&e!==null}function r(e,t,n,i,o,f,c,h){var p=[];return f>o&&f-o>s/2+1e-4?(p=p.concat(r(e,t,n,i,o,o+s/2,c,h)),p=p.concat(r(e,t,n,i,o+s/2,f,c,h))):f<o&&o-f>s/2+1e-4?(p=p.concat(r(e,t,n,i,o,o-s/2,c,h)),p=p.concat(r(e,t,n,i,o-s/2,f,c,h))):(p=f-o,["C",e+n*a(o)-n*l*p*u(o)+c,t+i*u(o)+i*l*p*a(o)+h,e+n*a(f)+n*l*p*u(f)+c,t+i*u(f)-i*l*p*a(f)+h,e+n*a(f)+c,t+i*u(f)+h])}function i(t){if(this.chart.is3d()){var n=this.chart.options.plotOptions.column.grouping;n!==void 0&&!n&&this.group.zIndex!==void 0&&this.group.attr({zIndex:this.group.zIndex*10});var r=this.options,i=this.options.states;this.borderWidth=r.borderWidth=r.edgeWidth||1,e.each(this.data,function(t){t.y!==null&&(t=t.pointAttr,this.borderColor=e.pick(r.edgeColor,t[""].fill),t[""].stroke=this.borderColor,t.hover.stroke=e.pick(i.hover.edgeColor,this.borderColor),t.select.stroke=e.pick(i.select.edgeColor,this.borderColor))})}t.apply(this,[].slice.call(arguments,1))}var s=Math.PI,o=s/180,u=Math.sin,a=Math.cos,f=Math.round,l=4*(Math.sqrt(2)-1)/3/(s/2);e.SVGRenderer.prototype.toLinePath=function(t,n){var r=[];return e.each(t,function(e){r.push("L",e.x,e.y)}),r[0]="M",n&&r.push("Z"),r},e.SVGRenderer.prototype.cuboid=function(t){var r=this.g(),t=this.cuboidPath(t);return r.front=this.path(t[0]).attr({zIndex:t[3],"stroke-linejoin":"round"}).add(r),r.top=this.path(t[1]).attr({zIndex:t[4],"stroke-linejoin":"round"}).add(r),r.side=this.path(t[2]).attr({zIndex:t[5],"stroke-linejoin":"round"}).add(r),r.fillSetter=function(t){var n=e.Color(t).brighten(.1).get(),r=e.Color(t).brighten(-0.1).get();return this.front.attr({fill:t}),this.top.attr({fill:n}),this.side.attr({fill:r}),this.color=t,this},r.opacitySetter=function(e){return this.front.attr({opacity:e}),this.top.attr({opacity:e}),this.side.attr({opacity:e}),this},r.attr=function(t){return t.shapeArgs||n(t.x)?(t=this.renderer.cuboidPath(t.shapeArgs||t),this.front.attr({d:t[0],zIndex:t[3]}),this.top.attr({d:t[1],zIndex:t[4]}),this.side.attr({d:t[2],zIndex:t[5]})):e.SVGElement.prototype.attr.call(this,t),this},r.animate=function(t,r,i){return n(t.x)&&n(t.y)?(t=this.renderer.cuboidPath(t),this.front.attr({zIndex:t[3]}).animate({d:t[0]},r,i),this.top.attr({zIndex:t[4]}).animate({d:t[1]},r,i),this.side.attr({zIndex:t[5]}).animate({d:t[2]},r,i)):t.opacity?(this.front.animate(t,r,i),this.top.animate(t,r,i),this.side.animate(t,r,i)):e.SVGElement.prototype.animate.call(this,t,r,i),this},r.destroy=function(){return this.front.destroy(),this.top.destroy(),this.side.destroy(),null},r.attr({zIndex:-t[3]}),r},e.SVGRenderer.prototype.cuboidPath=function(e){var n=e.x,r=e.y,i=e.z,s=e.height,o=e.width,u=e.depth,a=e.alpha,f=e.beta,n=[{x:n,y:r,z:i},{x:n+o,y:r,z:i},{x:n+o,y:r+s,z:i},{x:n,y:r+s,z:i},{x:n,y:r+s,z:i+u},{x:n+o,y:r+s,z:i+u},{x:n+o,y:r,z:i+u},{x:n,y:r,z:i+u}],n=t(n,a,f,e.origin),e=["M",n[0].x,n[0].y,"L",n[7].x,n[7].y,"L",n[6].x,n[6].y,"L",n[1].x,n[1].y,"Z"],r=["M",n[3].x,n[3].y,"L",n[2].x,n[2].y,"L",n[5].x,n[5].y,"L",n[4].x,n[4].y,"Z"],i=["M",n[1].x,n[1].y,"L",n[2].x,n[2].y,"L",n[5].x,n[5].y,"L",n[6].x,n[6].y,"Z"],s=["M",n[0].x,n[0].y,"L",n[7].x,n[7].y,"L",n[4].x,n[4].y,"L",n[3].x,n[3].y,"Z"];return[["M",n[0].x,n[0].y,"L",n[1].x,n[1].y,"L",n[2].x,n[2].y,"L",n[3].x,n[3].y,"Z"],n[7].y<n[1].y?e:n[4].y>n[2].y?r:[],n[6].x>n[1].x?i:n[7].x<n[0].x?s:[],(n[0].z+n[1].z+n[2].z+n[3].z)/4,f>0?(n[0].z+n[7].z+n[6].z+n[1].z)/4:(n[3].z+n[2].z+n[5].z+n[4].z)/4,a>0?(n[1].z+n[2].z+n[5].z+n[6].z)/4:(n[0].z+n[7].z+n[4].z+n[3].z)/4]},e.SVGRenderer.prototype.arc3d=function(t){t.alpha*=o,t.beta*=o;var r=this.g(),i=this.arc3dPath(t),s=r.renderer,u=i.zTop*100;return r.shapeArgs=t,r.top=s.path(i.top).attr({zIndex:i.zTop}).add(r),r.side1=s.path(i.side2).attr({zIndex:i.zSide2}),r.side2=s.path(i.side1).attr({zIndex:i.zSide1}),r.inn=s.path(i.inn).attr({zIndex:i.zInn}),r.out=s.path(i.out).attr({zIndex:i.zOut}),r.fillSetter=function(t){this.color=t;var n=e.Color(t).brighten(-0.1).get();return this.side1.attr({fill:n}),this.side2.attr({fill:n}),this.inn.attr({fill:n}),this.out.attr({fill:n}),this.top.attr({fill:t}),this},r.translateXSetter=function(e){this.out.attr({translateX:e}),this.inn.attr({translateX:e}),this.side1.attr({translateX:e}),this.side2.attr({translateX:e}),this.top.attr({translateX:e})},r.translateYSetter=function(e){this.out.attr({translateY:e}),this.inn.attr({translateY:e}),this.side1.attr({translateY:e}),this.side2.attr({translateY:e}),this.top.attr({translateY:e})},r.animate=function(t,r,i){return n(t.end)||n(t.start)?(this._shapeArgs=this.shapeArgs,e.SVGElement.prototype.animate.call(this,{_args:t},{duration:r,step:function(){var t=arguments[1],n=t.elem,r=n._shapeArgs,i=t.end,t=t.pos,r=e.merge(r,{x:r.x+(i.x-r.x)*t,y:r.y+(i.y-r.y)*t,r:r.r+(i.r-r.r)*t,innerR:r.innerR+(i.innerR-r.innerR)*t,start:r.start+(i.start-r.start)*t,end:r.end+(i.end-r.end)*t}),i=n.renderer.arc3dPath(r);n.shapeArgs=r,n.top.attr({d:i.top,zIndex:i.zTop}),n.inn.attr({d:i.inn,zIndex:i.zInn}),n.out.attr({d:i.out,zIndex:i.zOut}),n.side1.attr({d:i.side1,zIndex:i.zSide1}),n.side2.attr({d:i.side2,zIndex:i.zSide2})}},i)):e.SVGElement.prototype.animate.call(this,t,r,i),this},r.destroy=function(){this.top.destroy(),this.out.destroy(),this.inn.destroy(),this.side1.destroy(),this.side2.destroy(),e.SVGElement.prototype.destroy.call(this)},r.hide=function(){this.top.hide(),this.out.hide(),this.inn.hide(),this.side1.hide(),this.side2.hide()},r.show=function(){this.top.show(),this.out.show(),this.inn.show(),this.side1.show(),this.side2.show()},r.zIndex=u,r.attr({zIndex:u}),r},e.SVGRenderer.prototype.arc3dPath=function(e){var t=e.x,n=e.y,i=e.start,o=e.end-1e-5,f=e.r,l=e.innerR,c=e.depth,h=e.alpha,p=e.beta,d=a(i),v=u(i),e=a(o),g=u(o),y=f*a(p),b=f*a(h),E=l*a(p);l*=a(h);var S=c*u(p),x=c*u(h),c=["M",t+y*d,n+b*v],c=c.concat(r(t,n,y,b,i,o,0,0)),c=c.concat(["L",t+E*e,n+l*g]),c=c.concat(r(t,n,E,l,o,i,0,0)),c=c.concat(["Z"]),p=p>0?s/2:0,h=h>0?0:s/2,p=i>-p?i:o>-p?-p:i,T=o<s-h?o:i<s-h?s-h:o,h=["M",t+y*a(p),n+b*u(p)],h=h.concat(r(t,n,y,b,p,T,0,0)),h=h.concat(["L",t+y*a(T)+S,n+b*u(T)+x]),h=h.concat(r(t,n,y,b,T,p,S,x)),h=h.concat(["Z"]),p=["M",t+E*d,n+l*v],p=p.concat(r(t,n,E,l,i,o,0,0)),p=p.concat(["L",t+E*a(o)+S,n+l*u(o)+x]),p=p.concat(r(t,n,E,l,o,i,S,x)),p=p.concat(["Z"]),d=["M",t+y*d,n+b*v,"L",t+y*d+S,n+b*v+x,"L",t+E*d+S,n+l*v+x,"L",t+E*d,n+l*v,"Z"],t=["M",t+y*e,n+b*g,"L",t+y*e+S,n+b*g+x,"L",t+E*e+S,n+l*g+x,"L",t+E*e,n+l*g,"Z"],n=u((i+o)/2),i=u(i),o=u(o);return{top:c,zTop:f,out:h,zOut:Math.max(n,i,o)*f,inn:p,zInn:Math.max(n,i,o)*f,side1:d,zSide1:i*f*.99,side2:t,zSide2:o*f*.99}},e.Chart.prototype.is3d=function(){return this.options.chart.options3d&&this.options.chart.options3d.enabled},e.wrap(e.Chart.prototype,"isInsidePlot",function(e){return this.is3d()?!0:e.apply(this,[].slice.call(arguments,1))}),e.getOptions().chart.options3d={enabled:!1,alpha:0,beta:0,depth:100,viewDistance:25,frame:{bottom:{size:1,color:"rgba(255,255,255,0)"},side:{size:1,color:"rgba(255,255,255,0)"},back:{size:1,color:"rgba(255,255,255,0)"}}},e.wrap(e.Chart.prototype,"init",function(t){var n=[].slice.call(arguments,1),r;n[0].chart.options3d&&n[0].chart.options3d.enabled&&(r=n[0].plotOptions||{},r=r.pie||{},r.borderColor=e.pick(r.borderColor,void 0)),t.apply(this,n)}),e.wrap(e.Chart.prototype,"setChartSize",function(e){e.apply(this,[].slice.call(arguments,1));if(this.is3d()){var t=this.inverted,n=this.clipBox,r=this.margin;n[t?"y":"x"]=-(r[3]||0),n[t?"x":"y"]=-(r[0]||0),n[t?"height":"width"]=this.chartWidth+(r[3]||0)+(r[1]||0),n[t?"width":"height"]=this.chartHeight+(r[0]||0)+(r[2]||0)}}),e.wrap(e.Chart.prototype,"redraw",function(e){this.is3d()&&(this.isDirtyBox=!0),e.apply(this,[].slice.call(arguments,1))}),e.Chart.prototype.retrieveStacks=function(t,n){var r={},i=1;return t||!n?this.series:(e.each(this.series,function(e){r[e.options.stack||0]?r[e.options.stack||0].series.push(e):(r[e.options.stack||0]={series:[e],position:i},i++)}),r.totalStacks=i+1,r)},e.wrap(e.Axis.prototype,"init",function(t){var n=arguments;n[1].is3d()&&(n[2].tickWidth=e.pick(n[2].tickWidth,0),n[2].gridLineWidth=e.pick(n[2].gridLineWidth,1)),t.apply(this,[].slice.call(arguments,1))}),e.wrap(e.Axis.prototype,"render",function(e){e.apply(this,[].slice.call(arguments,1));if(this.chart.is3d()){var t=this.chart,n=t.renderer,r=t.options.chart.options3d,i=r.alpha,s=r.beta*(t.yAxis[0].opposite?-1:1),o=r.frame,u=o.bottom,a=o.back,o=o.side,f=r.depth,l=this.height,c=this.width,h=this.left,p=this.top,r={x:t.plotLeft+t.plotWidth/2,y:t.plotTop+t.plotHeight/2,z:f,vd:r.viewDistance};if(this.horiz)this.axisLine&&this.axisLine.hide(),s={x:h,y:p+(t.yAxis[0].reversed?-u.size:l),z:0,width:c,height:u.size,depth:f,alpha:i,beta:s,origin:r},this.bottomFrame?this.bottomFrame.animate(s):this.bottomFrame=n.cuboid(s).attr({fill:u.color,zIndex:t.yAxis[0].reversed&&i>0?4:-1}).css({stroke:u.color}).add();else{var d={x:h,y:p,z:f+1,width:c,height:l+u.size,depth:a.size,alpha:i,beta:s,origin:r};this.backFrame?this.backFrame.animate(d):this.backFrame=n.cuboid(d).attr({fill:a.color,zIndex:-3}).css({stroke:a.color}).add(),this.axisLine&&this.axisLine.hide(),t={x:(t.yAxis[0].opposite?c:0)+h-o.size,y:p,z:0,width:o.size,height:l+u.size,depth:f+a.size,alpha:i,beta:s,origin:r},this.sideFrame?this.sideFrame.animate(t):this.sideFrame=n.cuboid(t).attr({fill:o.color,zIndex:-2}).css({stroke:o.color}).add()}}}),e.wrap(e.Axis.prototype,"getPlotLinePath",function(e){var n=e.apply(this,[].slice.call(arguments,1));if(!this.chart.is3d())return n;if(n===null)return n;var r=this.chart,i=r.options.chart.options3d,s=i.depth;i.origin={x:r.plotLeft+r.plotWidth/2,y:r.plotTop+r.plotHeight/2,z:s,vd:i.viewDistance};var n=[{x:n[1],y:n[2],z:this.horiz||this.opposite?s:0},{x:n[1],y:n[2],z:s},{x:n[4],y:n[5],z:s},{x:n[4],y:n[5],z:this.horiz||this.opposite?0:s}],s=r.options.inverted?i.beta:i.alpha,o=r.options.inverted?i.alpha:i.beta;return o*=r.yAxis[0].opposite?-1:1,n=t(n,s,o,i.origin),n=this.chart.renderer.toLinePath(n,!1)}),e.wrap(e.Axis.prototype,"getPlotBandPath",function(e){if(this.chart.is3d()){var t=arguments,n=t[1],t=this.getPlotLinePath(t[2]);return(n=this.getPlotLinePath(n))&&t?n.push(t[7],t[8],t[4],t[5],t[1],t[2]):n=null,n}return e.apply(this,[].slice.call(arguments,1))}),e.wrap(e.Tick.prototype,"getMarkPath",function(e){var n=e.apply(this,[].slice.call(arguments,1));if(!this.axis.chart.is3d())return n;var r=this.axis.chart,i=r.options.chart.options3d,s={x:r.plotLeft+r.plotWidth/2,y:r.plotTop+r.plotHeight/2,z:i.depth,vd:i.viewDistance},n=[{x:n[1],y:n[2],z:0},{x:n[4],y:n[5],z:0}],o=r.inverted?i.beta:i.alpha,i=r.inverted?i.alpha:i.beta;return i*=r.yAxis[0].opposite?-1:1,n=t(n,o,i,s),n=["M",n[0].x,n[0].y,"L",n[1].x,n[1].y]}),e.wrap(e.Tick.prototype,"getLabelPosition",function(e){var n=e.apply(this,[].slice.call(arguments,1));if(!this.axis.chart.is3d())return n;var r=this.axis.chart,i=r.options.chart.options3d,s={x:r.plotLeft+r.plotWidth/2,y:r.plotTop+r.plotHeight/2,z:i.depth,vd:i.viewDistance},o=r.inverted?i.beta:i.alpha,i=r.inverted?i.alpha:i.beta;return i*=r.yAxis[0].opposite?-1:1,n=t([{x:n.x,y:n.y,z:0}],o,i,s)[0]}),e.wrap(e.Axis.prototype,"drawCrosshair",function(e){var t=arguments;this.chart.is3d()&&t[2]&&(t[2]={plotX:t[2].plotXold||t[2].plotX,plotY:t[2].plotYold||t[2].plotY}),e.apply(this,[].slice.call(t,1))}),e.wrap(e.seriesTypes.column.prototype,"translate",function(n){n.apply(this,[].slice.call(arguments,1));if(this.chart.is3d()){var r=this.chart,i=this.options,s=r.options.chart.options3d,o=i.depth||25,u={x:r.plotWidth/2,y:r.plotHeight/2,z:s.depth,vd:s.viewDistance},a=s.alpha,f=s.beta*(r.yAxis[0].opposite?-1:1),l=(i.stacking?i.stack||0:this._i)*(o+(i.groupZPadding||1));i.grouping!==!1&&(l=0),l+=i.groupZPadding||1,e.each(this.data,function(e){if(e.y!==null){var n=e.shapeArgs,r=e.tooltipPos;e.shapeType="cuboid",n.alpha=a,n.beta=f,n.z=l,n.origin=u,n.depth=o,r=t([{x:r[0],y:r[1],z:l}],a,f,u)[0],e.tooltipPos=[r.x,r.y]}})}}),e.wrap(e.seriesTypes.column.prototype,"animate",function(t){if(this.chart.is3d()){var n=arguments[1],r=this.yAxis,i=this,s=this.yAxis.reversed;e.svg&&(n?e.each(i.data,function(e){e.y!==null&&(e.height=e.shapeArgs.height,e.shapey=e.shapeArgs.y,e.shapeArgs.height=1,!s)&&(e.shapeArgs.y=e.stackY?e.plotY+r.translate(e.stackY):e.plotY+(e.negative?-e.height:e.height))}):(e.each(i.data,function(e){e.y!==null&&(e.shapeArgs.height=e.height,e.shapeArgs.y=e.shapey,e.graphic&&e.graphic.animate(e.shapeArgs,i.options.animation))}),this.drawDataLabels(),i.animate=null))}else t.apply(this,[].slice.call(arguments,1))}),e.wrap(e.seriesTypes.column.prototype,"init",function(e){e.apply(this,[].slice.call(arguments,1));if(this.chart.is3d()){var t=this.options,n=t.grouping,r=t.stacking,i=0;if((n===void 0||n)&&r){n=this.chart.retrieveStacks(n,r),r=t.stack||0;for(i=0;i<n[r].series.length;i++)if(n[r].series[i]===this)break;i=n.totalStacks*10-10*(n.totalStacks-n[r].position)-i}t.zIndex=i}}),e.wrap(e.Series.prototype,"alignDataLabel",function(e){if(this.chart.is3d()&&(this.type==="column"||this.type==="columnrange")){var n=this.chart,r=n.options.chart.options3d,i=arguments[4],s={x:i.x,y:i.y,z:0},s=t([s],r.alpha,r.beta*(n.yAxis[0].opposite?-1:1),{x:n.plotWidth/2,y:n.plotHeight/2,z:r.depth,vd:r.viewDistance})[0];i.x=s.x,i.y=s.y}e.apply(this,[].slice.call(arguments,1))}),e.seriesTypes.columnrange&&e.wrap(e.seriesTypes.columnrange.prototype,"drawPoints",i),e.wrap(e.seriesTypes.column.prototype,"drawPoints",i);var c=e.getOptions();c.plotOptions.cylinder=e.merge(c.plotOptions.column),c=e.extendClass(e.seriesTypes.column,{type:"cylinder"}),e.seriesTypes.cylinder=c,e.wrap(e.seriesTypes.cylinder.prototype,"translate",function(t){t.apply(this,[].slice.call(arguments,1));if(this.chart.is3d()){var n=this.chart,r=n.options,i=r.plotOptions.cylinder,r=r.chart.options3d,a=i.depth||0,f={x:n.inverted?n.plotHeight/2:n.plotWidth/2,y:n.inverted?n.plotWidth/2:n.plotHeight/2,z:r.depth,vd:r.viewDistance},l=r.alpha,c=i.stacking?(this.options.stack||0)*a:this._i*a;c+=a/2,i.grouping!==!1&&(c=0),e.each(this.data,function(e){var t=e.shapeArgs;e.shapeType="arc3d",t.x+=a/2,t.z=c,t.start=0,t.end=2*s,t.r=a*.95,t.innerR=0,t.depth=t.height*(1/u((90-l)*o))-c,t.alpha=90-l,t.beta=0,t.origin=f})}}),e.wrap(e.seriesTypes.pie.prototype,"translate",function(t){t.apply(this,[].slice.call(arguments,1));if(this.chart.is3d()){var n=this,r=n.chart,i=n.options,s=i.depth||0,l=r.options.chart.options3d,c={x:r.plotWidth/2,y:r.plotHeight/2,z:l.depth},h=l.alpha,p=l.beta,v=i.stacking?(i.stack||0)*s:n._i*s;v+=s/2,i.grouping!==!1&&(v=0),e.each(n.data,function(e){e.shapeType="arc3d";var t=e.shapeArgs;e.y&&(t.z=v,t.depth=s*.75,t.origin=c,t.alpha=h,t.beta=p,t=(t.end+t.start)/2,e.slicedTranslation={translateX:f(a(t)*n.options.slicedOffset*a(h*o)),translateY:f(u(t)*n.options.slicedOffset*a(h*o))})})}}),e.wrap(e.seriesTypes.pie.prototype.pointClass.prototype,"haloPath",function(e){var t=arguments;return this.series.chart.is3d()?[]:e.call(this,t[1])}),e.wrap(e.seriesTypes.pie.prototype,"drawPoints",function(t){if(this.chart.is3d()){var n=this.options,r=this.options.states;this.borderWidth=n.borderWidth=n.edgeWidth||1,this.borderColor=n.edgeColor=e.pick(n.edgeColor,n.borderColor,void 0),r.hover.borderColor=e.pick(r.hover.edgeColor,this.borderColor),r.hover.borderWidth=e.pick(r.hover.edgeWidth,this.borderWidth),r.select.borderColor=e.pick(r.select.edgeColor,this.borderColor),r.select.borderWidth=e.pick(r.select.edgeWidth,this.borderWidth),e.each(this.data,function(e){var t=e.pointAttr;t[""].stroke=e.series.borderColor||e.color,t[""]["stroke-width"]=e.series.borderWidth,t.hover.stroke=r.hover.borderColor,t.hover["stroke-width"]=r.hover.borderWidth,t.select.stroke=r.select.borderColor,t.select["stroke-width"]=r.select.borderWidth})}t.apply(this,[].slice.call(arguments,1));if(this.chart.is3d()){var i=this.group;e.each(this.points,function(e){e.graphic.out.add(i),e.graphic.inn.add(i),e.graphic.side1.add(i),e.graphic.side2.add(i)})}}),e.wrap(e.seriesTypes.pie.prototype,"drawDataLabels",function(t){this.chart.is3d()&&e.each(this.data,function(e){var t=e.shapeArgs,n=t.r,r=t.depth,i=t.alpha*o,t=(t.start+t.end)/2,e=e.labelPos;e[1]+=-n*(1-a(i))*u(t)+(u(t)>0?u(i)*r:0),e[3]+=-n*(1-a(i))*u(t)+(u(t)>0?u(i)*r:0),e[5]+=-n*(1-a(i))*u(t)+(u(t)>0?u(i)*r:0)}),t.apply(this,[].slice.call(arguments,1))}),e.wrap(e.seriesTypes.pie.prototype,"addPoint",function(e){e.apply(this,[].slice.call(arguments,1)),this.chart.is3d()&&this.update()}),e.wrap(e.seriesTypes.pie.prototype,"animate",function(t){if(this.chart.is3d()){var n=arguments[1],r=this.options.animation,i=this.center,s=this.group,o=this.markerGroup;if(e.svg)if(r===!0&&(r={}),n){if(s.oldtranslateX=s.translateX,s.oldtranslateY=s.translateY,n={translateX:i[0],translateY:i[1],scaleX:.001,scaleY:.001},s.attr(n),o)o.attrSetters=s.attrSetters,o.attr(n)}else n={translateX:s.oldtranslateX,translateY:s.oldtranslateY,scaleX:1,scaleY:1},s.animate(n,r),o&&o.animate(n,r),this.animate=null}else t.apply(this,[].slice.call(arguments,1))}),e.wrap(e.seriesTypes.scatter.prototype,"translate",function(n){n.apply(this,[].slice.call(arguments,1));if(this.chart.is3d()){var r=this.chart,i=this.chart.options.chart.options3d,s=i.alpha,o=i.beta,u={x:r.inverted?r.plotHeight/2:r.plotWidth/2,y:r.inverted?r.plotWidth/2:r.plotHeight/2,z:i.depth,vd:i.viewDistance},i=i.depth,a=r.options.zAxis||{min:0,max:i},f=i/(a.max-a.min);e.each(this.data,function(e){var n={x:e.plotX,y:e.plotY,z:(e.z-a.min)*f},n=t([n],s,o,u)[0];e.plotXold=e.plotX,e.plotYold=e.plotY,e.plotX=n.x,e.plotY=n.y,e.plotZ=n.z})}}),e.wrap(e.seriesTypes.scatter.prototype,"init",function(e){var t=e.apply(this,[].slice.call(arguments,1));return this.chart.is3d()&&(this.pointArrayMap=["x","y","z"],this.tooltipOptions.pointFormat=this.userOptions.tooltip?this.userOptions.tooltip.pointFormat||"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>z: <b>{point.z}</b><br/>":"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>z: <b>{point.z}</b><br/>"),t}),e.VMLRenderer&&(e.setOptions({animate:!1}),e.VMLRenderer.prototype.cuboid=e.SVGRenderer.prototype.cuboid,e.VMLRenderer.prototype.cuboidPath=e.SVGRenderer.prototype.cuboidPath,e.VMLRenderer.prototype.toLinePath=e.SVGRenderer.prototype.toLinePath,e.VMLRenderer.prototype.createElement3D=e.SVGRenderer.prototype.createElement3D,e.VMLRenderer.prototype.arc3d=function(t){return t=e.SVGRenderer.prototype.arc3d.call(this,t),t.css({zIndex:t.zIndex}),t},e.VMLRenderer.prototype.arc3dPath=e.SVGRenderer.prototype.arc3dPath,e.Chart.prototype.renderSeries=function(){for(var e,t=this.series.length;t--;)e=this.series[t],e.translate(),e.setTooltipPoints&&e.setTooltipPoints(),e.render()},e.wrap(e.Axis.prototype,"render",function(e){e.apply(this,[].slice.call(arguments,1)),this.sideFrame&&(this.sideFrame.css({zIndex:0}),this.sideFrame.front.attr({fill:this.sideFrame.color})),this.bottomFrame&&(this.bottomFrame.css({zIndex:1}),this.bottomFrame.front.attr({fill:this.bottomFrame.color})),this.backFrame&&(this.backFrame.css({zIndex:0}),this.backFrame.front.attr({fill:this.backFrame.color}))}))})(Highcharts);