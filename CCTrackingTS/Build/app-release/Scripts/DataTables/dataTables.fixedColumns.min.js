(function(e){var t=function(t){var n=function(e,r){var i=this;if(!this instanceof n)alert("FixedColumns warning: FixedColumns must be initialised with the 'new' keyword.");else{"undefined"==typeof r&&(r={}),t.fn.dataTable.camelToHungarian&&t.fn.dataTable.camelToHungarian(n.defaults,r);var s=t.fn.dataTable.Api?(new t.fn.dataTable.Api(e)).settings()[0]:e.fnSettings();this.s={dt:s,iTableColumns:s.aoColumns.length,aiOuterWidths:[],aiInnerWidths:[]},this.dom={scroller:null,header:null,body:null,footer:null,grid:{wrapper:null,dt:null,left:{wrapper:null,head:null,body:null,foot:null},right:{wrapper:null,head:null,body:null,foot:null}},clone:{left:{header:null,body:null,footer:null},right:{header:null,body:null,footer:null}}},s._oFixedColumns=this,s._bInitComplete?this._fnConstruct(r):s.oApi._fnCallbackReg(s,"aoInitComplete",function(){i._fnConstruct(r)},"FixedColumns")}};return n.prototype={fnUpdate:function(){this._fnDraw(!0)},fnRedrawLayout:function(){this._fnColCalc(),this._fnGridLayout(),this.fnUpdate()},fnRecalculateHeight:function(e){delete e._DTTC_iHeight,e.style.height="auto"},fnSetRowHeight:function(e,t){e.style.height=t+"px"},fnGetPosition:function(e){var n=this.s.dt.oInstance;if(t(e).parents(".DTFC_Cloned").length){if("tr"===e.nodeName.toLowerCase())return e=t(e).index(),n.fnGetPosition(t("tr",this.s.dt.nTBody)[e]);var r=t(e).index(),e=t(e.parentNode).index();return[n.fnGetPosition(t("tr",this.s.dt.nTBody)[e]),r,n.oApi._fnVisibleToColumnIndex(this.s.dt,r)]}return n.fnGetPosition(e)},_fnConstruct:function(r){var i=this;if("function"!=typeof this.s.dt.oInstance.fnVersionCheck||!0!==this.s.dt.oInstance.fnVersionCheck("1.8.0"))alert("FixedColumns "+n.VERSION+" required DataTables 1.8.0 or later. Please upgrade your DataTables installation");else if(""===this.s.dt.oScroll.sX)this.s.dt.oInstance.oApi._fnLog(this.s.dt,1,"FixedColumns is not needed (no x-scrolling in DataTables enabled), so no action will be taken. Use 'FixedHeader' for column fixing when scrolling is not enabled");else{this.s=t.extend(!0,this.s,n.defaults,r),r=this.s.dt.oClasses,this.dom.grid.dt=t(this.s.dt.nTable).parents("div."+r.sScrollWrapper)[0],this.dom.scroller=t("div."+r.sScrollBody,this.dom.grid.dt)[0],this._fnColCalc(),this._fnGridSetup();var s;t(this.dom.scroller).on("mouseover.DTFC touchstart.DTFC",function(){s="main"}).on("scroll.DTFC",function(){"main"===s&&(0<i.s.iLeftColumns&&(i.dom.grid.left.liner.scrollTop=i.dom.scroller.scrollTop),0<i.s.iRightColumns)&&(i.dom.grid.right.liner.scrollTop=i.dom.scroller.scrollTop)}),0<i.s.iLeftColumns&&t(i.dom.grid.left.liner).on("mouseover.DTFC touchstart.DTFC",function(){s="left"}).on("scroll.DTFC",function(){"left"===s&&(i.dom.scroller.scrollTop=i.dom.grid.left.liner.scrollTop,0<i.s.iRightColumns&&(i.dom.grid.right.liner.scrollTop=i.dom.grid.left.liner.scrollTop))}).on("wheel.DTFC",function(e){i.dom.scroller.scrollLeft-=-e.originalEvent.deltaX}),0<i.s.iRightColumns&&t(i.dom.grid.right.liner).on("mouseover.DTFC touchstart.DTFC",function(){s="right"}).on("scroll.DTFC",function(){"right"===s&&(i.dom.scroller.scrollTop=i.dom.grid.right.liner.scrollTop,0<i.s.iLeftColumns&&(i.dom.grid.left.liner.scrollTop=i.dom.grid.right.liner.scrollTop))}).on("wheel.DTFC",function(e){i.dom.scroller.scrollLeft-=-e.originalEvent.deltaX}),t(e).on("resize.DTFC",function(){i._fnGridLayout.call(i)});var o=!0,u=t(this.s.dt.nTable);u.on("draw.dt.DTFC",function(){i._fnDraw.call(i,o),o=!1}).on("column-sizing.dt.DTFC",function(){i._fnColCalc(),i._fnGridLayout(i)}).on("column-visibility.dt.DTFC",function(){i._fnColCalc(),i._fnGridLayout(i),i._fnDraw(!0)}).on("destroy.dt.DTFC",function(){u.off("column-sizing.dt.DTFC destroy.dt.DTFC draw.dt.DTFC"),t(i.dom.scroller).off("scroll.DTFC mouseover.DTFC"),t(e).off("resize.DTFC"),t(i.dom.grid.left.liner).off("scroll.DTFC wheel.DTFC mouseover.DTFC"),t(i.dom.grid.left.wrapper).remove(),t(i.dom.grid.right.liner).off("scroll.DTFC wheel.DTFC mouseover.DTFC"),t(i.dom.grid.right.wrapper).remove()}),this._fnGridLayout(),this.s.dt.oInstance.fnDraw(!1)}},_fnColCalc:function(){var e=this,n=0,r=0;this.s.aiInnerWidths=[],this.s.aiOuterWidths=[],t.each(this.s.dt.aoColumns,function(i,s){var o=t(s.nTh);if(o.filter(":visible").length){var u=o.outerWidth();if(0===e.s.aiOuterWidths.length)var f=t(e.s.dt.nTable).css("border-left-width"),u=u+("string"==typeof f?1:parseInt(f,10));e.s.aiOuterWidths.push(u),e.s.aiInnerWidths.push(o.width()),i<e.s.iLeftColumns&&(n+=u),e.s.iTableColumns-e.s.iRightColumns<=i&&(r+=u)}else e.s.aiInnerWidths.push(0),e.s.aiOuterWidths.push(0)}),this.s.iLeftWidth=n,this.s.iRightWidth=r},_fnGridSetup:function(){var e=this._fnDTOverflow(),n;this.dom.body=this.s.dt.nTable,this.dom.header=this.s.dt.nTHead.parentNode,this.dom.header.parentNode.parentNode.style.position="relative";var r=t('<div class="DTFC_ScrollWrapper" style="position:relative; clear:both;"><div class="DTFC_LeftWrapper" style="position:absolute; top:0; left:0;"><div class="DTFC_LeftHeadWrapper" style="position:relative; top:0; left:0; overflow:hidden;"></div><div class="DTFC_LeftBodyWrapper" style="position:relative; top:0; left:0; overflow:hidden;"><div class="DTFC_LeftBodyLiner" style="position:relative; top:0; left:0; overflow-y:scroll;"></div></div><div class="DTFC_LeftFootWrapper" style="position:relative; top:0; left:0; overflow:hidden;"></div></div><div class="DTFC_RightWrapper" style="position:absolute; top:0; left:0;"><div class="DTFC_RightHeadWrapper" style="position:relative; top:0; left:0;"><div class="DTFC_RightHeadBlocker DTFC_Blocker" style="position:absolute; top:0; bottom:0;"></div></div><div class="DTFC_RightBodyWrapper" style="position:relative; top:0; left:0; overflow:hidden;"><div class="DTFC_RightBodyLiner" style="position:relative; top:0; left:0; overflow-y:scroll;"></div></div><div class="DTFC_RightFootWrapper" style="position:relative; top:0; left:0;"><div class="DTFC_RightFootBlocker DTFC_Blocker" style="position:absolute; top:0; bottom:0;"></div></div></div></div>')[0],i=r.childNodes[0],s=r.childNodes[1];this.dom.grid.dt.parentNode.insertBefore(r,this.dom.grid.dt),r.appendChild(this.dom.grid.dt),this.dom.grid.wrapper=r,0<this.s.iLeftColumns&&(this.dom.grid.left.wrapper=i,this.dom.grid.left.head=i.childNodes[0],this.dom.grid.left.body=i.childNodes[1],this.dom.grid.left.liner=t("div.DTFC_LeftBodyLiner",r)[0],r.appendChild(i)),0<this.s.iRightColumns&&(this.dom.grid.right.wrapper=s,this.dom.grid.right.head=s.childNodes[0],this.dom.grid.right.body=s.childNodes[1],this.dom.grid.right.liner=t("div.DTFC_RightBodyLiner",r)[0],n=t("div.DTFC_RightHeadBlocker",r)[0],n.style.width=e.bar+"px",n.style.right=-e.bar+"px",this.dom.grid.right.headBlock=n,n=t("div.DTFC_RightFootBlocker",r)[0],n.style.width=e.bar+"px",n.style.right=-e.bar+"px",this.dom.grid.right.footBlock=n,r.appendChild(s)),this.s.dt.nTFoot&&(this.dom.footer=this.s.dt.nTFoot.parentNode,0<this.s.iLeftColumns&&(this.dom.grid.left.foot=i.childNodes[2]),0<this.s.iRightColumns)&&(this.dom.grid.right.foot=s.childNodes[2])},_fnGridLayout:function(){var e=this.dom.grid,n=t(e.wrapper).width(),r=t(this.s.dt.nTable.parentNode).height(),i=t(this.s.dt.nTable.parentNode.parentNode).height(),s=this._fnDTOverflow(),o=this.s.iLeftWidth,u=this.s.iRightWidth;s.x&&(r-=s.bar),e.wrapper.style.height=i+"px",0<this.s.iLeftColumns&&(e.left.wrapper.style.width=o+"px",e.left.wrapper.style.height="1px",e.left.body.style.height=r+"px",e.left.foot&&(e.left.foot.style.top=(s.x?s.bar:0)+"px"),e.left.liner.style.width=o+s.bar+"px",e.left.liner.style.height=r+"px"),0<this.s.iRightColumns&&(n-=u,s.y&&(n-=s.bar),e.right.wrapper.style.width=u+"px",e.right.wrapper.style.left=n+"px",e.right.wrapper.style.height="1px",e.right.body.style.height=r+"px",e.right.foot&&(e.right.foot.style.top=(s.x?s.bar:0)+"px"),e.right.liner.style.width=u+s.bar+"px",e.right.liner.style.height=r+"px",e.right.headBlock.style.display=s.y?"block":"none",e.right.footBlock.style.display=s.y?"block":"none")},_fnDTOverflow:function(){var e=this.s.dt.nTable,t=e.parentNode,n={x:!1,y:!1,bar:this.s.dt.oScroll.iBarWidth};return e.offsetWidth>t.clientWidth&&(n.x=!0),e.offsetHeight>t.clientHeight&&(n.y=!0),n},_fnDraw:function(e){this._fnGridLayout(),this._fnCloneLeft(e),this._fnCloneRight(e),null!==this.s.fnDrawCallback&&this.s.fnDrawCallback.call(this,this.dom.clone.left,this.dom.clone.right),t(this).trigger("draw.dtfc",{leftClone:this.dom.clone.left,rightClone:this.dom.clone.right})},_fnCloneRight:function(e){if(!(0>=this.s.iRightColumns)){var t,n=[];for(t=this.s.iTableColumns-this.s.iRightColumns;t<this.s.iTableColumns;t++)this.s.dt.aoColumns[t].bVisible&&n.push(t);this._fnClone(this.dom.clone.right,this.dom.grid.right,n,e)}},_fnCloneLeft:function(e){if(!(0>=this.s.iLeftColumns)){var t,n=[];for(t=0;t<this.s.iLeftColumns;t++)this.s.dt.aoColumns[t].bVisible&&n.push(t);this._fnClone(this.dom.clone.left,this.dom.grid.left,n,e)}},_fnCopyLayout:function(e,n){for(var r=[],i=[],s=[],o=0,u=e.length;o<u;o++){var a=[];a.nTr=t(e[o].nTr).clone(!0,!0)[0];for(var f=0,l=this.s.iTableColumns;f<l;f++)if(-1!==t.inArray(f,n)){var c=t.inArray(e[o][f].cell,s);-1===c?(c=t(e[o][f].cell).clone(!0,!0)[0],i.push(c),s.push(e[o][f].cell),a.push({cell:c,unique:e[o][f].unique})):a.push({cell:i[c],unique:e[o][f].unique})}r.push(a)}return r},_fnClone:function(e,n,r,i){var s=this,o,u,a,f,l,c,h,p,v;if(i){null!==e.header&&e.header.parentNode.removeChild(e.header),e.header=t(this.dom.header).clone(!0,!0)[0],e.header.className+=" DTFC_Cloned",e.header.style.width="100%",n.head.appendChild(e.header),p=this._fnCopyLayout(this.s.dt.aoHeader,r),f=t(">thead",e.header),f.empty(),o=0;for(u=p.length;o<u;o++)f[0].appendChild(p[o].nTr);this.s.dt.oApi._fnDrawHead(this.s.dt,p,!0)}else{p=this._fnCopyLayout(this.s.dt.aoHeader,r),v=[],this.s.dt.oApi._fnDetectHeader(v,t(">thead",e.header)[0]),o=0;for(u=p.length;o<u;o++){a=0;for(f=p[o].length;a<f;a++)v[o][a].cell.className=p[o][a].cell.className,t("span.DataTables_sort_icon",v[o][a].cell).each(function(){this.className=t("span.DataTables_sort_icon",p[o][a].cell)[0].className})}}this._fnEqualiseHeights("thead",this.dom.header,e.header),"auto"==this.s.sHeightMatch&&t(">tbody>tr",s.dom.body).css("height","auto"),null!==e.body&&(e.body.parentNode.removeChild(e.body),e.body=null),e.body=t(this.dom.body).clone(!0)[0],e.body.className+=" DTFC_Cloned",e.body.style.paddingBottom=this.s.dt.oScroll.iBarWidth+"px",e.body.style.marginBottom=2*this.s.dt.oScroll.iBarWidth+"px",null!==e.body.getAttribute("id")&&e.body.removeAttribute("id"),t(">thead>tr",e.body).empty(),t(">tfoot",e.body).remove();var m=t("tbody",e.body)[0];t(m).empty();if(0<this.s.dt.aiDisplay.length){u=t(">thead>tr",e.body)[0];for(h=0;h<r.length;h++)l=r[h],c=t(this.s.dt.aoColumns[l].nTh).clone(!0)[0],c.innerHTML="",f=c.style,f.paddingTop="0",f.paddingBottom="0",f.borderTopWidth="0",f.borderBottomWidth="0",f.height=0,f.width=s.s.aiInnerWidths[l]+"px",u.appendChild(c);t(">tbody>tr",s.dom.body).each(function(e){var n=this.cloneNode(!1);n.removeAttribute("id"),e=s.s.dt.oFeatures.bServerSide===!1?s.s.dt.aiDisplay[s.s.dt._iDisplayStart+e]:e;for(h=0;h<r.length;h++){var i=s.s.dt.aoData[e].anCells||s.s.dt.oApi._fnGetTdNodes(s.s.dt,e);l=r[h],i.length>0&&(c=t(i[l]).clone(!0,!0)[0],n.appendChild(c))}m.appendChild(n)})}else t(">tbody>tr",s.dom.body).each(function(){c=this.cloneNode(!0),c.className=c.className+" DTFC_NoData",t("td",c).html(""),m.appendChild(c)});e.body.style.width="100%",e.body.style.margin="0",e.body.style.padding="0",i&&"undefined"!=typeof this.s.dt.oScroller&&n.liner.appendChild(this.s.dt.oScroller.dom.force.cloneNode(!0)),n.liner.appendChild(e.body),this._fnEqualiseHeights("tbody",s.dom.body,e.body);if(null!==this.s.dt.nTFoot){if(i){null!==e.footer&&e.footer.parentNode.removeChild(e.footer),e.footer=t(this.dom.footer).clone(!0,!0)[0],e.footer.className+=" DTFC_Cloned",e.footer.style.width="100%",n.foot.appendChild(e.footer),p=this._fnCopyLayout(this.s.dt.aoFooter,r),n=t(">tfoot",e.footer),n.empty(),o=0;for(u=p.length;o<u;o++)n[0].appendChild(p[o].nTr);this.s.dt.oApi._fnDrawHead(this.s.dt,p,!0)}else{p=this._fnCopyLayout(this.s.dt.aoFooter,r),n=[],this.s.dt.oApi._fnDetectHeader(n,t(">tfoot",e.footer)[0]),o=0;for(u=p.length;o<u;o++){a=0;for(f=p[o].length;a<f;a++)n[o][a].cell.className=p[o][a].cell.className}}this._fnEqualiseHeights("tfoot",this.dom.footer,e.footer)}n=this.s.dt.oApi._fnGetUniqueThs(this.s.dt,t(">thead",e.header)[0]),t(n).each(function(e){l=r[e],this.style.width=s.s.aiInnerWidths[l]+"px"}),null!==s.s.dt.nTFoot&&(n=this.s.dt.oApi._fnGetUniqueThs(this.s.dt,t(">tfoot",e.footer)[0]),t(n).each(function(e){l=r[e],this.style.width=s.s.aiInnerWidths[l]+"px"}))},_fnGetTrNodes:function(e){for(var t=[],n=0,r=e.childNodes.length;n<r;n++)"TR"==e.childNodes[n].nodeName.toUpperCase()&&t.push(e.childNodes[n]);return t},_fnEqualiseHeights:function(e,n,r){if("none"!=this.s.sHeightMatch||"thead"===e||"tfoot"===e){var i,s,o=n.getElementsByTagName(e)[0],r=r.getElementsByTagName(e)[0],e=t(">"+e+">tr:eq(0)",n).children(":first");e.outerHeight(),e.height();for(var o=this._fnGetTrNodes(o),n=this._fnGetTrNodes(r),u=[],r=0,e=n.length;r<e;r++)i=o[r].offsetHeight,s=n[r].offsetHeight,i=s>i?s:i,"semiauto"==this.s.sHeightMatch&&(o[r]._DTTC_iHeight=i),u.push(i);r=0;for(e=n.length;r<e;r++)n[r].style.height=u[r]+"px",o[r].style.height=u[r]+"px"}}},n.defaults={iLeftColumns:1,iRightColumns:0,fnDrawCallback:null,sHeightMatch:"semiauto"},n.version="3.0.1",t.fn.dataTable.FixedColumns=n,t.fn.DataTable.FixedColumns=n};"function"==typeof define&&define.amd?define("datatables-fixedcolumns",["jquery","datatables"],t):jQuery&&!jQuery.fn.dataTable.FixedColumns&&t(jQuery,jQuery.fn.dataTable)})(window,document);