(function(){return function(e){typeof exports=="object"?module.exports=module.exports=e.call(this,require):typeof define=="function"&&define.amd?define(["require","underscore","backbone","knockout","knockback"],e):this.kb=e.call(this,typeof require!="undefined"?require:undefined)}(function(e){var t,n,r,i,s;return t=this.kb||e("knockback"),r=t._,n=t.ko,s=n.utils.unwrapObservable,i=t._publishMethods,t.TriggeredObservable=function(){function e(e,s){var o;return this.event_selector=s,e||_throwMissing(this,"emitter"),this.event_selector||_throwMissing(this,"event_selector"),this.vo=n.observable(),o=t.utils.wrappedObservable(this,n.dependentObservable(function(e){return function(){return e.vo()}}(this))),i(o,this,["destroy"]),t.utils.wrappedEventWatcher(this,new t.EventWatcher(e,this,{emitter:r.bind(this.emitter,this),update:r.bind(this.update,this),event_selector:this.event_selector})),o}return e.prototype.destroy=function(){return t.utils.wrappedDestroy(this)},e.prototype.emitter=function(e){if(arguments.length===0||this.ee===e)return this.ee;if(this.ee=e)return this.update()},e.prototype.update=function(){if(!this.ee)return;return this.vo()!==this.ee?this.vo(this.ee):this.vo.valueHasMutated()},e}(),t.triggeredObservable=function(e,n){return new t.TriggeredObservable(e,n)},t})}).call(this);